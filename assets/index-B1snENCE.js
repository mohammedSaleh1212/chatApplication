function Pw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var IA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kw={exports:{}},Jh={},bw={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),AA=Symbol.for("react.portal"),CA=Symbol.for("react.fragment"),RA=Symbol.for("react.strict_mode"),PA=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),bA=Symbol.for("react.context"),DA=Symbol.for("react.forward_ref"),xA=Symbol.for("react.suspense"),NA=Symbol.for("react.memo"),OA=Symbol.for("react.lazy"),Av=Symbol.iterator;function LA(t){return t===null||typeof t!="object"?null:(t=Av&&t[Av]||t["@@iterator"],typeof t=="function"?t:null)}var Dw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xw=Object.assign,Nw={};function Va(t,e,n){this.props=t,this.context=e,this.refs=Nw,this.updater=n||Dw}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ow(){}Ow.prototype=Va.prototype;function fm(t,e,n){this.props=t,this.context=e,this.refs=Nw,this.updater=n||Dw}var pm=fm.prototype=new Ow;pm.constructor=fm;xw(pm,Va.prototype);pm.isPureReactComponent=!0;var Cv=Array.isArray,Lw=Object.prototype.hasOwnProperty,mm={current:null},Mw={key:!0,ref:!0,__self:!0,__source:!0};function Vw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lw.call(e,r)&&!Mw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Cu,type:t,key:s,ref:o,props:i,_owner:mm.current}}function MA(t,e){return{$$typeof:Cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cu}function VA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rv=/\/+/g;function nf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VA(""+t.key):e.toString(36)}function jc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cu:case AA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+nf(o,0):r,Cv(i)?(n="",t!=null&&(n=t.replace(Rv,"$&/")+"/"),jc(i,e,n,"",function(h){return h})):i!=null&&(gm(i)&&(i=MA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cv(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+nf(s,l);o+=jc(s,e,n,u,i)}else if(u=LA(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+nf(s,l++),o+=jc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vc(t,e,n){if(t==null)return t;var r=[],i=0;return jc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},$c={transition:null},UA={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:$c,ReactCurrentOwner:mm};ke.Children={map:vc,forEach:function(t,e,n){vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vc(t,function(){e++}),e},toArray:function(t){return vc(t,function(e){return e})||[]},only:function(t){if(!gm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Va;ke.Fragment=CA;ke.Profiler=PA;ke.PureComponent=fm;ke.StrictMode=RA;ke.Suspense=xA;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UA;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Lw.call(e,u)&&!Mw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Cu,type:t.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:bA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kA,_context:t},t.Consumer=t};ke.createElement=Vw;ke.createFactory=function(t){var e=Vw.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:DA,render:t}};ke.isValidElement=gm;ke.lazy=function(t){return{$$typeof:OA,_payload:{_status:-1,_result:t},_init:FA}};ke.memo=function(t,e){return{$$typeof:NA,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=$c.transition;$c.transition={};try{t()}finally{$c.transition=e}};ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ke.useCallback=function(t,e){return dn.current.useCallback(t,e)};ke.useContext=function(t){return dn.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};ke.useEffect=function(t,e){return dn.current.useEffect(t,e)};ke.useId=function(){return dn.current.useId()};ke.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return dn.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};ke.useRef=function(t){return dn.current.useRef(t)};ke.useState=function(t){return dn.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return dn.current.useTransition()};ke.version="18.2.0";bw.exports=ke;var q=bw.exports;const vm=dm(q),jA=Pw({__proto__:null,default:vm},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=q,BA=Symbol.for("react.element"),zA=Symbol.for("react.fragment"),HA=Object.prototype.hasOwnProperty,WA=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qA={key:!0,ref:!0,__self:!0,__source:!0};function Fw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HA.call(e,r)&&!qA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BA,type:t,key:s,ref:o,props:i,_owner:WA.current}}Jh.Fragment=zA;Jh.jsx=Fw;Jh.jsxs=Fw;kw.exports=Jh;var G=kw.exports,Hf={},Uw={exports:{}},zn={},jw={exports:{}},$w={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ae){var he=Z.length;Z.push(ae);e:for(;0<he;){var Ce=he-1>>>1,Te=Z[Ce];if(0<i(Te,ae))Z[Ce]=ae,Z[he]=Te,he=Ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ae=Z[0],he=Z.pop();if(he!==ae){Z[0]=he;e:for(var Ce=0,Te=Z.length,z=Te>>>1;Ce<z;){var je=2*(Ce+1)-1,Be=Z[je],Ge=je+1,Qe=Z[Ge];if(0>i(Be,he))Ge<Te&&0>i(Qe,Be)?(Z[Ce]=Qe,Z[Ge]=he,Ce=Ge):(Z[Ce]=Be,Z[je]=he,Ce=je);else if(Ge<Te&&0>i(Qe,he))Z[Ce]=Qe,Z[Ge]=he,Ce=Ge;else break e}}return ae}function i(Z,ae){var he=Z.sortIndex-ae.sortIndex;return he!==0?he:Z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,m=null,g=3,T=!1,P=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Z){for(var ae=n(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=Z)r(h),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=n(h)}}function V(Z){if(k=!1,C(Z),!P)if(n(u)!==null)P=!0,Ke($);else{var ae=n(h);ae!==null&&_e(V,ae.startTime-Z)}}function $(Z,ae){P=!1,k&&(k=!1,S(y),y=-1),T=!0;var he=g;try{for(C(ae),m=n(u);m!==null&&(!(m.expirationTime>ae)||Z&&!D());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,g=m.priorityLevel;var Te=Ce(m.expirationTime<=ae);ae=t.unstable_now(),typeof Te=="function"?m.callback=Te:m===n(u)&&r(u),C(ae)}else r(u);m=n(u)}if(m!==null)var z=!0;else{var je=n(h);je!==null&&_e(V,je.startTime-ae),z=!1}return z}finally{m=null,g=he,T=!1}}var b=!1,I=null,y=-1,E=5,A=-1;function D(){return!(t.unstable_now()-A<E)}function M(){if(I!==null){var Z=t.unstable_now();A=Z;var ae=!0;try{ae=I(!0,Z)}finally{ae?R():(b=!1,I=null)}}else b=!1}var R;if(typeof w=="function")R=function(){w(M)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,qe=ve.port2;ve.port1.onmessage=M,R=function(){qe.postMessage(null)}}else R=function(){O(M,0)};function Ke(Z){I=Z,b||(b=!0,R())}function _e(Z,ae){y=O(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){P||T||(P=!0,Ke($))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var ae=3;break;default:ae=g}var he=g;g=ae;try{return Z()}finally{g=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=g;g=Z;try{return ae()}finally{g=he}},t.unstable_scheduleCallback=function(Z,ae,he){var Ce=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ce+he:Ce):he=Ce,Z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=he+Te,Z={id:f++,callback:ae,priorityLevel:Z,startTime:he,expirationTime:Te,sortIndex:-1},he>Ce?(Z.sortIndex=he,e(h,Z),n(u)===null&&Z===n(h)&&(k?(S(y),y=-1):k=!0,_e(V,he-Ce))):(Z.sortIndex=Te,e(u,Z),P||T||(P=!0,Ke($))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var ae=g;return function(){var he=g;g=ae;try{return Z.apply(this,arguments)}finally{g=he}}}})($w);jw.exports=$w;var KA=jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=q,Un=KA;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zw=new Set,Ql={};function vo(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(Ql[t]=e,t=0;t<e.length;t++)zw.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,GA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},kv={};function QA(t){return Wf.call(kv,t)?!0:Wf.call(Pv,t)?!1:GA.test(t)?kv[t]=!0:(Pv[t]=!0,!1)}function YA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XA(t,e,n,r){if(e===null||typeof e>"u"||YA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ym=/[\-:]([a-z])/g;function _m(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ym,_m);Ht[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ym,_m);Ht[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ym,_m);Ht[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wm(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XA(e,n,i,r)&&(n=null),r||i===null?QA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yc=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),qw=Symbol.for("react.offscreen"),bv=Symbol.iterator;function cl(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,rf;function Tl(t){if(rf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rf=e&&e[1]||""}return`
`+rf+t}var sf=!1;function of(t,e){if(!t||sf)return"";sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tl(t):""}function JA(t){switch(t.tag){case 5:return Tl(t.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return t=of(t.type,!1),t;case 11:return t=of(t.type.render,!1),t;case 1:return t=of(t.type,!0),t;default:return""}}function Qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Bo:return"Portal";case qf:return"Profiler";case Em:return"StrictMode";case Kf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ww:return(t.displayName||"Context")+".Consumer";case Hw:return(t._context.displayName||"Context")+".Provider";case Tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Im:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}function ZA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(e);case 8:return e===Em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e1(t){var e=Kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _c(t){t._valueTracker||(t._valueTracker=e1(t))}function Gw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qw(t,e){e=e.checked,e!=null&&wm(t,"checked",e,!1)}function Xf(t,e){Qw(t,e);var n=ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Il=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ms(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Il(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ms(n)}}function Yw(t,e){var n=ms(e.value),r=ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wc,Jw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t1=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){t1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function Zw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function e0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n1=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(t,e){if(e){if(n1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function np(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=null;function Sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ip=null,ra=null,ia=null;function Lv(t){if(t=ku(t)){if(typeof ip!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=rd(e),ip(t.stateNode,t.type,e))}}function t0(t){ra?ia?ia.push(t):ia=[t]:ra=t}function n0(){if(ra){var t=ra,e=ia;if(ia=ra=null,Lv(t),e)for(t=0;t<e.length;t++)Lv(e[t])}}function r0(t,e){return t(e)}function i0(){}var af=!1;function s0(t,e,n){if(af)return t(e,n);af=!0;try{return r0(t,e,n)}finally{af=!1,(ra!==null||ia!==null)&&(i0(),n0())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=rd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var sp=!1;if(gi)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){sp=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{sp=!1}function r1(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Ol=!1,ch=null,hh=!1,op=null,i1={onError:function(t){Ol=!0,ch=t}};function s1(t,e,n,r,i,s,o,l,u){Ol=!1,ch=null,r1.apply(i1,arguments)}function o1(t,e,n,r,i,s,o,l,u){if(s1.apply(this,arguments),Ol){if(Ol){var h=ch;Ol=!1,ch=null}else throw Error(Y(198));hh||(hh=!0,op=h)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mv(t){if(yo(t)!==t)throw Error(Y(188))}function a1(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Mv(i),t;if(s===r)return Mv(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function a0(t){return t=a1(t),t!==null?l0(t):null}function l0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l0(t);if(e!==null)return e;t=t.sibling}return null}var u0=Un.unstable_scheduleCallback,Vv=Un.unstable_cancelCallback,l1=Un.unstable_shouldYield,u1=Un.unstable_requestPaint,vt=Un.unstable_now,c1=Un.unstable_getCurrentPriorityLevel,Am=Un.unstable_ImmediatePriority,c0=Un.unstable_UserBlockingPriority,dh=Un.unstable_NormalPriority,h1=Un.unstable_LowPriority,h0=Un.unstable_IdlePriority,Zh=null,Ur=null;function d1(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Zh,t,void 0,(t.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:m1,f1=Math.log,p1=Math.LN2;function m1(t){return t>>>=0,t===0?32:31-(f1(t)/p1|0)|0}var Ec=64,Tc=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Sl(l):(s&=o,s!==0&&(r=Sl(s)))}else o=n&~i,o!==0?r=Sl(o):s!==0&&(r=Sl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tr(e),i=1<<n,r|=t[n],e&=~i;return r}function g1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tr(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=g1(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d0(){var t=Ec;return Ec<<=1,!(Ec&4194240)&&(Ec=64),t}function lf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tr(e),t[e]=n}function y1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function f0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p0,Rm,m0,g0,v0,lp=!1,Ic=[],ns=null,rs=null,is=null,Jl=new Map,Zl=new Map,Ki=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fv(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function dl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ku(e),e!==null&&Rm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w1(t,e,n,r,i){switch(e){case"focusin":return ns=dl(ns,t,e,n,r,i),!0;case"dragenter":return rs=dl(rs,t,e,n,r,i),!0;case"mouseover":return is=dl(is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,dl(Jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zl.set(s,dl(Zl.get(s)||null,t,e,n,r,i)),!0}return!1}function y0(t){var e=Hs(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=o0(n),e!==null){t.blockedOn=e,v0(t.priority,function(){m0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=up(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rp=r,n.target.dispatchEvent(r),rp=null}else return e=ku(n),e!==null&&Rm(e),t.blockedOn=n,!1;e.shift()}return!0}function Uv(t,e,n){Bc(t)&&n.delete(e)}function E1(){lp=!1,ns!==null&&Bc(ns)&&(ns=null),rs!==null&&Bc(rs)&&(rs=null),is!==null&&Bc(is)&&(is=null),Jl.forEach(Uv),Zl.forEach(Uv)}function fl(t,e){t.blockedOn===e&&(t.blockedOn=null,lp||(lp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,E1)))}function eu(t){function e(i){return fl(i,t)}if(0<Ic.length){fl(Ic[0],t);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&fl(ns,t),rs!==null&&fl(rs,t),is!==null&&fl(is,t),Jl.forEach(e),Zl.forEach(e),n=0;n<Ki.length;n++)r=Ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)y0(n),n.blockedOn===null&&Ki.shift()}var sa=Si.ReactCurrentBatchConfig,ph=!0;function T1(t,e,n,r){var i=He,s=sa.transition;sa.transition=null;try{He=1,Pm(t,e,n,r)}finally{He=i,sa.transition=s}}function I1(t,e,n,r){var i=He,s=sa.transition;sa.transition=null;try{He=4,Pm(t,e,n,r)}finally{He=i,sa.transition=s}}function Pm(t,e,n,r){if(ph){var i=up(t,e,n,r);if(i===null)yf(t,e,r,mh,n),Fv(t,r);else if(w1(i,t,e,n,r))r.stopPropagation();else if(Fv(t,r),e&4&&-1<_1.indexOf(t)){for(;i!==null;){var s=ku(i);if(s!==null&&p0(s),s=up(t,e,n,r),s===null&&yf(t,e,r,mh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yf(t,e,r,null,n)}}var mh=null;function up(t,e,n,r){if(mh=null,t=Sm(r),t=Hs(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mh=t,null}function _0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c1()){case Am:return 1;case c0:return 4;case dh:case h1:return 16;case h0:return 536870912;default:return 16}default:return 16}}var Zi=null,km=null,zc=null;function w0(){if(zc)return zc;var t,e=km,n=e.length,r,i="value"in Zi?Zi.value:Zi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zc=i.slice(t,1<r?1-r:void 0)}function Hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function jv(){return!1}function Hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sc:jv,this.isPropagationStopped=jv,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=Hn(Fa),Pu=dt({},Fa,{view:0,detail:0}),S1=Hn(Pu),uf,cf,pl,ed=dt({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pl&&(pl&&t.type==="mousemove"?(uf=t.screenX-pl.screenX,cf=t.screenY-pl.screenY):cf=uf=0,pl=t),uf)},movementY:function(t){return"movementY"in t?t.movementY:cf}}),$v=Hn(ed),A1=dt({},ed,{dataTransfer:0}),C1=Hn(A1),R1=dt({},Pu,{relatedTarget:0}),hf=Hn(R1),P1=dt({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),k1=Hn(P1),b1=dt({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D1=Hn(b1),x1=dt({},Fa,{data:0}),Bv=Hn(x1),N1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L1[t])?!!e[t]:!1}function Dm(){return M1}var V1=dt({},Pu,{key:function(t){if(t.key){var e=N1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(t){return t.type==="keypress"?Hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F1=Hn(V1),U1=dt({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zv=Hn(U1),j1=dt({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),$1=Hn(j1),B1=dt({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Hn(B1),H1=dt({},ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W1=Hn(H1),q1=[9,13,27,32],xm=gi&&"CompositionEvent"in window,Ll=null;gi&&"documentMode"in document&&(Ll=document.documentMode);var K1=gi&&"TextEvent"in window&&!Ll,E0=gi&&(!xm||Ll&&8<Ll&&11>=Ll),Hv=" ",Wv=!1;function T0(t,e){switch(t){case"keyup":return q1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function G1(t,e){switch(t){case"compositionend":return I0(e);case"keypress":return e.which!==32?null:(Wv=!0,Hv);case"textInput":return t=e.data,t===Hv&&Wv?null:t;default:return null}}function Q1(t,e){if(Ho)return t==="compositionend"||!xm&&T0(t,e)?(t=w0(),zc=km=Zi=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E0&&e.locale!=="ko"?null:e.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y1[t.type]:e==="textarea"}function S0(t,e,n,r){t0(r),e=gh(e,"onChange"),0<e.length&&(n=new bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ml=null,tu=null;function X1(t){L0(t,0)}function td(t){var e=Ko(t);if(Gw(e))return t}function J1(t,e){if(t==="change")return e}var A0=!1;if(gi){var df;if(gi){var ff="oninput"in document;if(!ff){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),ff=typeof Kv.oninput=="function"}df=ff}else df=!1;A0=df&&(!document.documentMode||9<document.documentMode)}function Gv(){Ml&&(Ml.detachEvent("onpropertychange",C0),tu=Ml=null)}function C0(t){if(t.propertyName==="value"&&td(tu)){var e=[];S0(e,tu,t,Sm(t)),s0(X1,e)}}function Z1(t,e,n){t==="focusin"?(Gv(),Ml=e,tu=n,Ml.attachEvent("onpropertychange",C0)):t==="focusout"&&Gv()}function eC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return td(tu)}function tC(t,e){if(t==="click")return td(e)}function nC(t,e){if(t==="input"||t==="change")return td(e)}function rC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:rC;function nu(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wf.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function Qv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yv(t,e){var n=Qv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qv(n)}}function R0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P0(){for(var t=window,e=uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uh(t.document)}return e}function Nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iC(t){var e=P0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R0(n.ownerDocument.documentElement,n)){if(r!==null&&Nm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Yv(n,s);var o=Yv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sC=gi&&"documentMode"in document&&11>=document.documentMode,Wo=null,cp=null,Vl=null,hp=!1;function Xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hp||Wo==null||Wo!==uh(r)||(r=Wo,"selectionStart"in r&&Nm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vl&&nu(Vl,r)||(Vl=r,r=gh(cp,"onSelect"),0<r.length&&(e=new bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function Ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},pf={},k0={};gi&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function nd(t){if(pf[t])return pf[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k0)return pf[t]=e[n];return t}var b0=nd("animationend"),D0=nd("animationiteration"),x0=nd("animationstart"),N0=nd("transitionend"),O0=new Map,Jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(t,e){O0.set(t,e),vo(e,[t])}for(var mf=0;mf<Jv.length;mf++){var gf=Jv[mf],oC=gf.toLowerCase(),aC=gf[0].toUpperCase()+gf.slice(1);ws(oC,"on"+aC)}ws(b0,"onAnimationEnd");ws(D0,"onAnimationIteration");ws(x0,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws(N0,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function Zv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o1(r,e,void 0,t),t.currentTarget=null}function L0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Zv(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Zv(i,l,h),s=u}}}if(hh)throw t=op,hh=!1,op=null,t}function rt(t,e){var n=e[gp];n===void 0&&(n=e[gp]=new Set);var r=t+"__bubble";n.has(r)||(M0(e,t,2,!1),n.add(r))}function vf(t,e,n){var r=0;e&&(r|=4),M0(n,t,r,e)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[Cc]){t[Cc]=!0,zw.forEach(function(n){n!=="selectionchange"&&(lC.has(n)||vf(n,!1,t),vf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cc]||(e[Cc]=!0,vf("selectionchange",!1,e))}}function M0(t,e,n,r){switch(_0(e)){case 1:var i=T1;break;case 4:i=I1;break;default:i=Pm}n=i.bind(null,e,n,t),i=void 0,!sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Hs(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}s0(function(){var h=s,f=Sm(n),m=[];e:{var g=O0.get(t);if(g!==void 0){var T=bm,P=t;switch(t){case"keypress":if(Hc(n)===0)break e;case"keydown":case"keyup":T=F1;break;case"focusin":P="focus",T=hf;break;case"focusout":P="blur",T=hf;break;case"beforeblur":case"afterblur":T=hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=$1;break;case b0:case D0:case x0:T=k1;break;case N0:T=z1;break;case"scroll":T=S1;break;case"wheel":T=W1;break;case"copy":case"cut":case"paste":T=D1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=zv}var k=(e&4)!==0,O=!k&&t==="scroll",S=k?g!==null?g+"Capture":null:g;k=[];for(var w=h,C;w!==null;){C=w;var V=C.stateNode;if(C.tag===5&&V!==null&&(C=V,S!==null&&(V=Xl(w,S),V!=null&&k.push(iu(w,V,C)))),O)break;w=w.return}0<k.length&&(g=new T(g,P,null,n,f),m.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==rp&&(P=n.relatedTarget||n.fromElement)&&(Hs(P)||P[vi]))break e;if((T||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,T?(P=n.relatedTarget||n.toElement,T=h,P=P?Hs(P):null,P!==null&&(O=yo(P),P!==O||P.tag!==5&&P.tag!==6)&&(P=null)):(T=null,P=h),T!==P)){if(k=$v,V="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=zv,V="onPointerLeave",S="onPointerEnter",w="pointer"),O=T==null?g:Ko(T),C=P==null?g:Ko(P),g=new k(V,w+"leave",T,n,f),g.target=O,g.relatedTarget=C,V=null,Hs(f)===h&&(k=new k(S,w+"enter",P,n,f),k.target=C,k.relatedTarget=O,V=k),O=V,T&&P)t:{for(k=T,S=P,w=0,C=k;C;C=Mo(C))w++;for(C=0,V=S;V;V=Mo(V))C++;for(;0<w-C;)k=Mo(k),w--;for(;0<C-w;)S=Mo(S),C--;for(;w--;){if(k===S||S!==null&&k===S.alternate)break t;k=Mo(k),S=Mo(S)}k=null}else k=null;T!==null&&ey(m,g,T,k,!1),P!==null&&O!==null&&ey(m,O,P,k,!0)}}e:{if(g=h?Ko(h):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var $=J1;else if(qv(g))if(A0)$=nC;else{$=eC;var b=Z1}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&($=tC);if($&&($=$(t,h))){S0(m,$,n,f);break e}b&&b(t,g,h),t==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&Jf(g,"number",g.value)}switch(b=h?Ko(h):window,t){case"focusin":(qv(b)||b.contentEditable==="true")&&(Wo=b,cp=h,Vl=null);break;case"focusout":Vl=cp=Wo=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,Xv(m,n,f);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":Xv(m,n,f)}var I;if(xm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ho?T0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(E0&&n.locale!=="ko"&&(Ho||y!=="onCompositionStart"?y==="onCompositionEnd"&&Ho&&(I=w0()):(Zi=f,km="value"in Zi?Zi.value:Zi.textContent,Ho=!0)),b=gh(h,y),0<b.length&&(y=new Bv(y,t,null,n,f),m.push({event:y,listeners:b}),I?y.data=I:(I=I0(n),I!==null&&(y.data=I)))),(I=K1?G1(t,n):Q1(t,n))&&(h=gh(h,"onBeforeInput"),0<h.length&&(f=new Bv("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=I))}L0(m,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xl(t,n),s!=null&&r.unshift(iu(t,s,i)),s=Xl(t,e),s!=null&&r.push(iu(t,s,i))),t=t.return}return r}function Mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ey(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Xl(n,s),u!=null&&o.unshift(iu(n,u,l))):i||(u=Xl(n,s),u!=null&&o.push(iu(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uC=/\r\n?/g,cC=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(uC,`
`).replace(cC,"")}function Rc(t,e,n){if(e=ty(e),ty(t)!==e&&n)throw Error(Y(425))}function vh(){}var dp=null,fp=null;function pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(fC)}:mp;function fC(t){setTimeout(function(){throw t})}function _f(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ry(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Ua,su="__reactProps$"+Ua,vi="__reactContainer$"+Ua,gp="__reactEvents$"+Ua,pC="__reactListeners$"+Ua,mC="__reactHandles$"+Ua;function Hs(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ry(t);t!==null;){if(n=t[Vr])return n;t=ry(t)}return e}t=n,n=t.parentNode}return null}function ku(t){return t=t[Vr]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function rd(t){return t[su]||null}var vp=[],Go=-1;function Es(t){return{current:t}}function st(t){0>Go||(t.current=vp[Go],vp[Go]=null,Go--)}function et(t,e){Go++,vp[Go]=t.current,t.current=e}var gs={},Zt=Es(gs),Sn=Es(!1),eo=gs;function fa(t,e){var n=t.type.contextTypes;if(!n)return gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function yh(){st(Sn),st(Zt)}function iy(t,e,n){if(Zt.current!==gs)throw Error(Y(168));et(Zt,e),et(Sn,n)}function V0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,ZA(t)||"Unknown",i));return dt({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,eo=Zt.current,et(Zt,t),et(Sn,Sn.current),!0}function sy(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=V0(t,e,eo),r.__reactInternalMemoizedMergedChildContext=t,st(Sn),st(Zt),et(Zt,t)):st(Sn),et(Sn,n)}var oi=null,id=!1,wf=!1;function F0(t){oi===null?oi=[t]:oi.push(t)}function gC(t){id=!0,F0(t)}function Ts(){if(!wf&&oi!==null){wf=!0;var t=0,e=He;try{var n=oi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,id=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),u0(Am,Ts),i}finally{He=e,wf=!1}}return null}var Qo=[],Yo=0,wh=null,Eh=0,Zn=[],er=0,to=null,ai=1,li="";function js(t,e){Qo[Yo++]=Eh,Qo[Yo++]=wh,wh=t,Eh=e}function U0(t,e,n){Zn[er++]=ai,Zn[er++]=li,Zn[er++]=to,to=t;var r=ai;t=li;var i=32-Tr(r)-1;r&=~(1<<i),n+=1;var s=32-Tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ai=1<<32-Tr(e)+i|n<<i|r,li=s+t}else ai=1<<s|n<<i|r,li=t}function Om(t){t.return!==null&&(js(t,1),U0(t,1,0))}function Lm(t){for(;t===wh;)wh=Qo[--Yo],Qo[Yo]=null,Eh=Qo[--Yo],Qo[Yo]=null;for(;t===to;)to=Zn[--er],Zn[er]=null,li=Zn[--er],Zn[er]=null,ai=Zn[--er],Zn[er]=null}var Fn=null,Mn=null,ot=!1,Er=null;function j0(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Mn=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=to!==null?{id:ai,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Mn=null,!0):!1;default:return!1}}function yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _p(t){if(ot){var e=Mn;if(e){var n=e;if(!oy(t,e)){if(yp(t))throw Error(Y(418));e=ss(n.nextSibling);var r=Fn;e&&oy(t,e)?j0(r,n):(t.flags=t.flags&-4097|2,ot=!1,Fn=t)}}else{if(yp(t))throw Error(Y(418));t.flags=t.flags&-4097|2,ot=!1,Fn=t}}}function ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Pc(t){if(t!==Fn)return!1;if(!ot)return ay(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pp(t.type,t.memoizedProps)),e&&(e=Mn)){if(yp(t))throw $0(),Error(Y(418));for(;e;)j0(t,e),e=ss(e.nextSibling)}if(ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Fn?ss(t.stateNode.nextSibling):null;return!0}function $0(){for(var t=Mn;t;)t=ss(t.nextSibling)}function pa(){Mn=Fn=null,ot=!1}function Mm(t){Er===null?Er=[t]:Er.push(t)}var vC=Si.ReactCurrentBatchConfig;function yr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Th=Es(null),Ih=null,Xo=null,Vm=null;function Fm(){Vm=Xo=Ih=null}function Um(t){var e=Th.current;st(Th),t._currentValue=e}function wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){Ih=t,Vm=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(Vm!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if(Ih===null)throw Error(Y(308));Xo=t,Ih.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var Ws=null;function jm(t){Ws===null?Ws=[t]:Ws.push(t)}function B0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jm(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function $m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,jm(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cm(t,n)}}function ly(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sh(t,e,n,r){var i=t.updateQueue;qi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,f=h=u=null,l=s;do{var g=l.lane,T=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,k=l;switch(g=e,T=n,k.tag){case 1:if(P=k.payload,typeof P=="function"){m=P.call(T,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=k.payload,g=typeof P=="function"?P.call(T,m,g):P,g==null)break e;m=dt({},m,g);break e;case 2:qi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else T={eventTime:T,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=T,u=m):f=f.next=T,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ro|=o,t.lanes=o,t.memoizedState=m}}function uy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var H0=new Bw.Component().refs;function Ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sd={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=ls(t),s=di(r,i);s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Ir(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=ls(t),s=di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Ir(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=ls(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,r),e!==null&&(Ir(e,t,r,n),Wc(e,t,r))}};function cy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,s):!0}function W0(t,e,n){var r=!1,i=gs,s=e.contextType;return typeof s=="object"&&s!==null?s=ir(s):(i=An(e)?eo:Zt.current,r=e.contextTypes,s=(r=r!=null)?fa(t,i):gs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sd.enqueueReplaceState(e,e.state,null)}function Tp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=H0,$m(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ir(s):(s=An(e)?eo:Zt.current,i.context=fa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ep(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sd.enqueueReplaceState(i,i.state,null),Sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===H0&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function kc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dy(t){var e=t._init;return e(t._payload)}function q0(t){function e(S,w){if(t){var C=S.deletions;C===null?(S.deletions=[w],S.flags|=16):C.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=us(S,w),S.index=0,S.sibling=null,S}function s(S,w,C){return S.index=C,t?(C=S.alternate,C!==null?(C=C.index,C<w?(S.flags|=2,w):C):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,w,C,V){return w===null||w.tag!==6?(w=Rf(C,S.mode,V),w.return=S,w):(w=i(w,C),w.return=S,w)}function u(S,w,C,V){var $=C.type;return $===zo?f(S,w,C.props.children,V,C.key):w!==null&&(w.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Wi&&dy($)===w.type)?(V=i(w,C.props),V.ref=ml(S,w,C),V.return=S,V):(V=Xc(C.type,C.key,C.props,null,S.mode,V),V.ref=ml(S,w,C),V.return=S,V)}function h(S,w,C,V){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Pf(C,S.mode,V),w.return=S,w):(w=i(w,C.children||[]),w.return=S,w)}function f(S,w,C,V,$){return w===null||w.tag!==7?(w=Xs(C,S.mode,V,$),w.return=S,w):(w=i(w,C),w.return=S,w)}function m(S,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Rf(""+w,S.mode,C),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yc:return C=Xc(w.type,w.key,w.props,null,S.mode,C),C.ref=ml(S,null,w),C.return=S,C;case Bo:return w=Pf(w,S.mode,C),w.return=S,w;case Wi:var V=w._init;return m(S,V(w._payload),C)}if(Il(w)||cl(w))return w=Xs(w,S.mode,C,null),w.return=S,w;kc(S,w)}return null}function g(S,w,C,V){var $=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return $!==null?null:l(S,w,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yc:return C.key===$?u(S,w,C,V):null;case Bo:return C.key===$?h(S,w,C,V):null;case Wi:return $=C._init,g(S,w,$(C._payload),V)}if(Il(C)||cl(C))return $!==null?null:f(S,w,C,V,null);kc(S,C)}return null}function T(S,w,C,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return S=S.get(C)||null,l(w,S,""+V,$);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case yc:return S=S.get(V.key===null?C:V.key)||null,u(w,S,V,$);case Bo:return S=S.get(V.key===null?C:V.key)||null,h(w,S,V,$);case Wi:var b=V._init;return T(S,w,C,b(V._payload),$)}if(Il(V)||cl(V))return S=S.get(C)||null,f(w,S,V,$,null);kc(w,V)}return null}function P(S,w,C,V){for(var $=null,b=null,I=w,y=w=0,E=null;I!==null&&y<C.length;y++){I.index>y?(E=I,I=null):E=I.sibling;var A=g(S,I,C[y],V);if(A===null){I===null&&(I=E);break}t&&I&&A.alternate===null&&e(S,I),w=s(A,w,y),b===null?$=A:b.sibling=A,b=A,I=E}if(y===C.length)return n(S,I),ot&&js(S,y),$;if(I===null){for(;y<C.length;y++)I=m(S,C[y],V),I!==null&&(w=s(I,w,y),b===null?$=I:b.sibling=I,b=I);return ot&&js(S,y),$}for(I=r(S,I);y<C.length;y++)E=T(I,S,y,C[y],V),E!==null&&(t&&E.alternate!==null&&I.delete(E.key===null?y:E.key),w=s(E,w,y),b===null?$=E:b.sibling=E,b=E);return t&&I.forEach(function(D){return e(S,D)}),ot&&js(S,y),$}function k(S,w,C,V){var $=cl(C);if(typeof $!="function")throw Error(Y(150));if(C=$.call(C),C==null)throw Error(Y(151));for(var b=$=null,I=w,y=w=0,E=null,A=C.next();I!==null&&!A.done;y++,A=C.next()){I.index>y?(E=I,I=null):E=I.sibling;var D=g(S,I,A.value,V);if(D===null){I===null&&(I=E);break}t&&I&&D.alternate===null&&e(S,I),w=s(D,w,y),b===null?$=D:b.sibling=D,b=D,I=E}if(A.done)return n(S,I),ot&&js(S,y),$;if(I===null){for(;!A.done;y++,A=C.next())A=m(S,A.value,V),A!==null&&(w=s(A,w,y),b===null?$=A:b.sibling=A,b=A);return ot&&js(S,y),$}for(I=r(S,I);!A.done;y++,A=C.next())A=T(I,S,y,A.value,V),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?y:A.key),w=s(A,w,y),b===null?$=A:b.sibling=A,b=A);return t&&I.forEach(function(M){return e(S,M)}),ot&&js(S,y),$}function O(S,w,C,V){if(typeof C=="object"&&C!==null&&C.type===zo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case yc:e:{for(var $=C.key,b=w;b!==null;){if(b.key===$){if($=C.type,$===zo){if(b.tag===7){n(S,b.sibling),w=i(b,C.props.children),w.return=S,S=w;break e}}else if(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Wi&&dy($)===b.type){n(S,b.sibling),w=i(b,C.props),w.ref=ml(S,b,C),w.return=S,S=w;break e}n(S,b);break}else e(S,b);b=b.sibling}C.type===zo?(w=Xs(C.props.children,S.mode,V,C.key),w.return=S,S=w):(V=Xc(C.type,C.key,C.props,null,S.mode,V),V.ref=ml(S,w,C),V.return=S,S=V)}return o(S);case Bo:e:{for(b=C.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(S,w.sibling),w=i(w,C.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=Pf(C,S.mode,V),w.return=S,S=w}return o(S);case Wi:return b=C._init,O(S,w,b(C._payload),V)}if(Il(C))return P(S,w,C,V);if(cl(C))return k(S,w,C,V);kc(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,C),w.return=S,S=w):(n(S,w),w=Rf(C,S.mode,V),w.return=S,S=w),o(S)):n(S,w)}return O}var ma=q0(!0),K0=q0(!1),bu={},jr=Es(bu),ou=Es(bu),au=Es(bu);function qs(t){if(t===bu)throw Error(Y(174));return t}function Bm(t,e){switch(et(au,e),et(ou,t),et(jr,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ep(e,t)}st(jr),et(jr,e)}function ga(){st(jr),st(ou),st(au)}function G0(t){qs(au.current);var e=qs(jr.current),n=ep(e,t.type);e!==n&&(et(ou,t),et(jr,n))}function zm(t){ou.current===t&&(st(jr),st(ou))}var ct=Es(0);function Ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ef=[];function Hm(){for(var t=0;t<Ef.length;t++)Ef[t]._workInProgressVersionPrimary=null;Ef.length=0}var qc=Si.ReactCurrentDispatcher,Tf=Si.ReactCurrentBatchConfig,no=0,ht=null,kt=null,Lt=null,Ch=!1,Fl=!1,lu=0,yC=0;function Kt(){throw Error(Y(321))}function Wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function qm(t,e,n,r,i,s){if(no=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qc.current=t===null||t.memoizedState===null?TC:IC,t=n(r,i),Fl){s=0;do{if(Fl=!1,lu=0,25<=s)throw Error(Y(301));s+=1,Lt=kt=null,e.updateQueue=null,qc.current=SC,t=n(r,i)}while(Fl)}if(qc.current=Rh,e=kt!==null&&kt.next!==null,no=0,Lt=kt=ht=null,Ch=!1,e)throw Error(Y(300));return t}function Km(){var t=lu!==0;return lu=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ht.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function sr(){if(kt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Lt===null?ht.memoizedState:Lt.next;if(e!==null)Lt=e,kt=t;else{if(t===null)throw Error(Y(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Lt===null?ht.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function uu(t,e){return typeof e=="function"?e(t):e}function If(t){var e=sr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var f=h.lane;if((no&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,ht.lanes|=f,ro|=f}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,Sr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,ro|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sf(t){var e=sr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Sr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Q0(){}function Y0(t,e){var n=ht,r=sr(),i=e(),s=!Sr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,Gm(Z0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,cu(9,J0.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(Y(349));no&30||X0(n,e,i)}return i}function X0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function J0(t,e,n,r){e.value=n,e.getSnapshot=r,eE(e)&&tE(t)}function Z0(t,e,n){return n(function(){eE(e)&&tE(t)})}function eE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function tE(t){var e=yi(t,1);e!==null&&Ir(e,t,1,-1)}function fy(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=EC.bind(null,ht,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nE(){return sr().memoizedState}function Kc(t,e,n,r){var i=Mr();ht.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function od(t,e,n,r){var i=sr();r=r===void 0?null:r;var s=void 0;if(kt!==null){var o=kt.memoizedState;if(s=o.destroy,r!==null&&Wm(r,o.deps)){i.memoizedState=cu(e,n,s,r);return}}ht.flags|=t,i.memoizedState=cu(1|e,n,s,r)}function py(t,e){return Kc(8390656,8,t,e)}function Gm(t,e){return od(2048,8,t,e)}function rE(t,e){return od(4,2,t,e)}function iE(t,e){return od(4,4,t,e)}function sE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oE(t,e,n){return n=n!=null?n.concat([t]):null,od(4,4,sE.bind(null,e,t),n)}function Qm(){}function aE(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lE(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uE(t,e,n){return no&21?(Sr(n,e)||(n=d0(),ht.lanes|=n,ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function _C(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Tf.transition;Tf.transition={};try{t(!1),e()}finally{He=n,Tf.transition=r}}function cE(){return sr().memoizedState}function wC(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hE(t))dE(e,n);else if(n=B0(t,e,n,r),n!==null){var i=un();Ir(n,t,r,i),fE(n,e,r)}}function EC(t,e,n){var r=ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hE(t))dE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Sr(l,o)){var u=e.interleaved;u===null?(i.next=i,jm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=B0(t,e,i,r),n!==null&&(i=un(),Ir(n,t,r,i),fE(n,e,r))}}function hE(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function dE(t,e){Fl=Ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cm(t,n)}}var Rh={readContext:ir,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},TC={readContext:ir,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:py,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,sE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wC.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:fy,useDebugValue:Qm,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=fy(!1),e=t[0];return t=_C.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Mr();if(ot){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Mt===null)throw Error(Y(349));no&30||X0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,py(Z0.bind(null,r,s,t),[t]),r.flags|=2048,cu(9,J0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mr(),e=Mt.identifierPrefix;if(ot){var n=li,r=ai;n=(r&~(1<<32-Tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IC={readContext:ir,useCallback:aE,useContext:ir,useEffect:Gm,useImperativeHandle:oE,useInsertionEffect:rE,useLayoutEffect:iE,useMemo:lE,useReducer:If,useRef:nE,useState:function(){return If(uu)},useDebugValue:Qm,useDeferredValue:function(t){var e=sr();return uE(e,kt.memoizedState,t)},useTransition:function(){var t=If(uu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:cE,unstable_isNewReconciler:!1},SC={readContext:ir,useCallback:aE,useContext:ir,useEffect:Gm,useImperativeHandle:oE,useInsertionEffect:rE,useLayoutEffect:iE,useMemo:lE,useReducer:Sf,useRef:nE,useState:function(){return Sf(uu)},useDebugValue:Qm,useDeferredValue:function(t){var e=sr();return kt===null?e.memoizedState=t:uE(e,kt.memoizedState,t)},useTransition:function(){var t=Sf(uu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:cE,unstable_isNewReconciler:!1};function va(t,e){try{var n="",r=e;do n+=JA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AC=typeof WeakMap=="function"?WeakMap:Map;function pE(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,Np=r),Ip(t,e)},n}function mE(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ip(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function my(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UC.bind(null,t,e,n),e.then(t,t))}function gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var CC=Si.ReactCurrentOwner,In=!1;function ln(t,e,n,r){e.child=t===null?K0(e,null,n,r):ma(e,t.child,n,r)}function yy(t,e,n,r,i){n=n.render;var s=e.ref;return oa(e,i),r=qm(t,e,n,r,s,i),n=Km(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ot&&n&&Om(e),e.flags|=1,ln(t,e,r,i),e.child)}function _y(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gE(t,e,s,r,i)):(t=Xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(o,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=us(s,r),t.ref=e.ref,t.return=e,e.child=t}function gE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(nu(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,_i(t,e,i)}return Sp(t,e,n,r,i)}function vE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Zo,On),On|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Zo,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(Zo,On),On|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(Zo,On),On|=r;return ln(t,e,i,n),e.child}function yE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sp(t,e,n,r,i){var s=An(n)?eo:Zt.current;return s=fa(e,s),oa(e,i),n=qm(t,e,n,r,s,i),r=Km(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ot&&r&&Om(e),e.flags|=1,ln(t,e,n,i),e.child)}function wy(t,e,n,r,i){if(An(n)){var s=!0;_h(e)}else s=!1;if(oa(e,i),e.stateNode===null)Gc(t,e),W0(e,n,r),Tp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=ir(h):(h=An(n)?eo:Zt.current,h=fa(e,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&hy(e,o,r,h),qi=!1;var g=e.memoizedState;o.state=g,Sh(e,r,o,i),u=e.memoizedState,l!==r||g!==u||Sn.current||qi?(typeof f=="function"&&(Ep(e,n,f,r),u=e.memoizedState),(l=qi||cy(e,n,l,r,g,u,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,z0(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:yr(e.type,l),o.props=h,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ir(u):(u=An(n)?eo:Zt.current,u=fa(e,u));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&hy(e,o,r,u),qi=!1,g=e.memoizedState,o.state=g,Sh(e,r,o,i);var P=e.memoizedState;l!==m||g!==P||Sn.current||qi?(typeof T=="function"&&(Ep(e,n,T,r),P=e.memoizedState),(h=qi||cy(e,n,h,r,g,P,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Ap(t,e,n,r,s,i)}function Ap(t,e,n,r,i,s){yE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sy(e,n,!1),_i(t,e,s);r=e.stateNode,CC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,s),e.child=ma(e,null,l,s)):ln(t,e,l,s),e.memoizedState=r.state,i&&sy(e,n,!0),e.child}function _E(t){var e=t.stateNode;e.pendingContext?iy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iy(t,e.context,!1),Bm(t,e.containerInfo)}function Ey(t,e,n,r,i){return pa(),Mm(i),e.flags|=256,ln(t,e,n,r),e.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function wE(t,e,n){var r=e.pendingProps,i=ct.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ct,i&1),t===null)return _p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ud(o,r,0,null),t=Xs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rp(n),e.memoizedState=Cp,t):Ym(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return RC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=us(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=us(l,s):(s=Xs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cp,r}return s=t.child,t=s.sibling,r=us(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ym(t,e){return e=ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bc(t,e,n,r){return r!==null&&Mm(r),ma(e,t.child,null,n),t=Ym(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Af(Error(Y(422))),bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ud({mode:"visible",children:r.children},i,0,null),s=Xs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Cp,s);if(!(e.mode&1))return bc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Y(419)),r=Af(s,r,void 0),bc(t,e,o,r)}if(l=(o&t.childLanes)!==0,In||l){if(r=Mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),Ir(r,t,i,-1))}return ng(),r=Af(Error(Y(421))),bc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=ss(i.nextSibling),Fn=e,ot=!0,Er=null,t!==null&&(Zn[er++]=ai,Zn[er++]=li,Zn[er++]=to,ai=t.id,li=t.overflow,to=e),e=Ym(e,r.children),e.flags|=4096,e)}function Ty(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wp(t.return,e,n)}function Cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,n,e);else if(t.tag===19)Ty(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ah(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ah(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cf(e,!0,n,null,s);break;case"together":Cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PC(t,e,n){switch(e.tag){case 3:_E(e),pa();break;case 5:G0(e);break;case 1:An(e.type)&&_h(e);break;case 4:Bm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Th,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?wE(t,e,n):(et(ct,ct.current&1),t=_i(t,e,n),t!==null?t.sibling:null);et(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,vE(t,e,n)}return _i(t,e,n)}var TE,Pp,IE,SE;TE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pp=function(){};IE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(jr.current);var s=null;switch(n){case"input":i=Yf(t,i),r=Yf(t,r),s=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),s=[];break;case"textarea":i=Zf(t,i),r=Zf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}tp(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ql.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&rt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};SE=function(t,e,n,r){n!==r&&(e.flags|=4)};function gl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kC(t,e,n){var r=e.pendingProps;switch(Lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return An(e.type)&&yh(),Gt(e),null;case 3:return r=e.stateNode,ga(),st(Sn),st(Zt),Hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Mp(Er),Er=null))),Pp(t,e),Gt(e),null;case 5:zm(e);var i=qs(au.current);if(n=e.type,t!==null&&e.stateNode!=null)IE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Gt(e),null}if(t=qs(jr.current),Pc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vr]=e,r[su]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Al.length;i++)rt(Al[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Dv(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":Nv(r,s),rt("invalid",r)}tp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,l,t),i=["children",""+l]):Ql.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":_c(r),xv(r,s,!0);break;case"textarea":_c(r),Ov(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vr]=e,t[su]=r,TE(t,e,!1,!1),e.stateNode=t;e:{switch(o=np(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Al.length;i++)rt(Al[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Dv(t,r),i=Yf(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":Nv(t,r),i=Zf(t,r),rt("invalid",t);break;default:i=r}tp(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?e0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Jw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Yl(t,u):typeof u=="number"&&Yl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ql.hasOwnProperty(s)?u!=null&&s==="onScroll"&&rt("scroll",t):u!=null&&wm(t,s,u,o))}switch(n){case"input":_c(t),xv(t,r,!1);break;case"textarea":_c(t),Ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ms(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?na(t,!!r.multiple,s,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)SE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=qs(au.current),qs(jr.current),Pc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:Rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return Gt(e),null;case 13:if(st(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Mn!==null&&e.mode&1&&!(e.flags&128))$0(),pa(),e.flags|=98560,s=!1;else if(s=Pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Vr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else Er!==null&&(Mp(Er),Er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?bt===0&&(bt=3):ng())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return ga(),Pp(t,e),t===null&&ru(e.stateNode.containerInfo),Gt(e),null;case 10:return Um(e.type._context),Gt(e),null;case 17:return An(e.type)&&yh(),Gt(e),null;case 19:if(st(ct),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gl(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ah(t),o!==null){for(e.flags|=128,gl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>ya&&(e.flags|=128,r=!0,gl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ot)return Gt(e),null}else 2*vt()-s.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,gl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,n=ct.current,et(ct,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return tg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function bC(t,e){switch(Lm(e),e.tag){case 1:return An(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),st(Sn),st(Zt),Hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zm(e),null;case 13:if(st(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ct),null;case 4:return ga(),null;case 10:return Um(e.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var Dc=!1,Xt=!1,DC=typeof WeakSet=="function"?WeakSet:Set,re=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function kp(t,e,n){try{n()}catch(r){pt(t,e,r)}}var Iy=!1;function xC(t,e){if(dp=ph,t=P0(),Nm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,f=0,m=t,g=null;t:for(;;){for(var T;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(T=m.firstChild)!==null;)g=m,m=T;for(;;){if(m===t)break t;if(g===n&&++h===i&&(l=o),g===s&&++f===r&&(u=o),(T=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fp={focusedElem:t,selectionRange:n},ph=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var k=P.memoizedProps,O=P.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?k:yr(e.type,k),O);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(V){pt(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return P=Iy,Iy=!1,P}function Ul(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&kp(e,n,s)}i=i.next}while(i!==r)}}function ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AE(t){var e=t.alternate;e!==null&&(t.alternate=null,AE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[su],delete e[gp],delete e[pC],delete e[mC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CE(t){return t.tag===5||t.tag===3||t.tag===4}function Sy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}function xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xp(t,e,n),t=t.sibling;t!==null;)xp(t,e,n),t=t.sibling}var Ut=null,_r=!1;function $i(t,e,n){for(n=n.child;n!==null;)RE(t,e,n),n=n.sibling}function RE(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Zh,n)}catch{}switch(n.tag){case 5:Xt||Jo(n,e);case 6:var r=Ut,i=_r;Ut=null,$i(t,e,n),Ut=r,_r=i,Ut!==null&&(_r?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(_r?(t=Ut,n=n.stateNode,t.nodeType===8?_f(t.parentNode,n):t.nodeType===1&&_f(t,n),eu(t)):_f(Ut,n.stateNode));break;case 4:r=Ut,i=_r,Ut=n.stateNode.containerInfo,_r=!0,$i(t,e,n),Ut=r,_r=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kp(n,e,o),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!Xt&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,e,l)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,$i(t,e,n),Xt=r):$i(t,e,n);break;default:$i(t,e,n)}}function Ay(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DC),e.forEach(function(r){var i=$C.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,_r=!1;break e;case 3:Ut=l.stateNode.containerInfo,_r=!0;break e;case 4:Ut=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(Ut===null)throw Error(Y(160));RE(s,o,i),Ut=null,_r=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){pt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PE(e,t),e=e.sibling}function PE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Lr(t),r&4){try{Ul(3,t,t.return),ad(3,t)}catch(k){pt(t,t.return,k)}try{Ul(5,t,t.return)}catch(k){pt(t,t.return,k)}}break;case 1:vr(e,t),Lr(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(vr(e,t),Lr(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var i=t.stateNode;try{Yl(i,"")}catch(k){pt(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Qw(i,s),np(l,o);var h=np(l,s);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?e0(i,m):f==="dangerouslySetInnerHTML"?Jw(i,m):f==="children"?Yl(i,m):wm(i,f,m,h)}switch(l){case"input":Xf(i,s);break;case"textarea":Yw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?na(i,!!s.multiple,T,!1):g!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[su]=s}catch(k){pt(t,t.return,k)}}break;case 6:if(vr(e,t),Lr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){pt(t,t.return,k)}}break;case 3:if(vr(e,t),Lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(k){pt(t,t.return,k)}break;case 4:vr(e,t),Lr(t);break;case 13:vr(e,t),Lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zm=vt())),r&4&&Ay(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(h=Xt)||f,vr(e,t),Xt=h):vr(e,t),Lr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(re=t,f=t.child;f!==null;){for(m=re=f;re!==null;){switch(g=re,T=g.child,g.tag){case 0:case 11:case 14:case 15:Ul(4,g,g.return);break;case 1:Jo(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(k){pt(r,n,k)}}break;case 5:Jo(g,g.return);break;case 22:if(g.memoizedState!==null){Ry(m);continue}}T!==null?(T.return=g,re=T):Ry(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Zw("display",o))}catch(k){pt(t,t.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(k){pt(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vr(e,t),Lr(t),r&4&&Ay(t);break;case 21:break;default:vr(e,t),Lr(t)}}function Lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CE(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yl(i,""),r.flags&=-33);var s=Sy(t);xp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Sy(t);Dp(t,l,o);break;default:throw Error(Y(161))}}catch(u){pt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NC(t,e,n){re=t,kE(t)}function kE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dc;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Xt;l=Dc;var h=Xt;if(Dc=o,(Xt=u)&&!h)for(re=i;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?Py(i):u!==null?(u.return=o,re=u):Py(i);for(;s!==null;)re=s,kE(s),s=s.sibling;re=i,Dc=l,Xt=h}Cy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):Cy(t)}}function Cy(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&eu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Xt||e.flags&512&&bp(e)}catch(g){pt(e,e.return,g)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Ry(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Py(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ad(4,e)}catch(u){pt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){pt(e,i,u)}}var s=e.return;try{bp(e)}catch(u){pt(e,s,u)}break;case 5:var o=e.return;try{bp(e)}catch(u){pt(e,o,u)}}}catch(u){pt(e,e.return,u)}if(e===t){re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,re=l;break}re=e.return}}var OC=Math.ceil,Ph=Si.ReactCurrentDispatcher,Xm=Si.ReactCurrentOwner,nr=Si.ReactCurrentBatchConfig,Me=0,Mt=null,Et=null,Bt=0,On=0,Zo=Es(0),bt=0,hu=null,ro=0,ld=0,Jm=0,jl=null,En=null,Zm=0,ya=1/0,si=null,kh=!1,Np=null,as=null,xc=!1,es=null,bh=0,$l=0,Op=null,Qc=-1,Yc=0;function un(){return Me&6?vt():Qc!==-1?Qc:Qc=vt()}function ls(t){return t.mode&1?Me&2&&Bt!==0?Bt&-Bt:vC.transition!==null?(Yc===0&&(Yc=d0()),Yc):(t=He,t!==0||(t=window.event,t=t===void 0?16:_0(t.type)),t):1}function Ir(t,e,n,r){if(50<$l)throw $l=0,Op=null,Error(Y(185));Ru(t,n,r),(!(Me&2)||t!==Mt)&&(t===Mt&&(!(Me&2)&&(ld|=n),bt===4&&Gi(t,Bt)),Cn(t,r),n===1&&Me===0&&!(e.mode&1)&&(ya=vt()+500,id&&Ts()))}function Cn(t,e){var n=t.callbackNode;v1(t,e);var r=fh(t,t===Mt?Bt:0);if(r===0)n!==null&&Vv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vv(n),e===1)t.tag===0?gC(ky.bind(null,t)):F0(ky.bind(null,t)),dC(function(){!(Me&6)&&Ts()}),n=null;else{switch(f0(r)){case 1:n=Am;break;case 4:n=c0;break;case 16:n=dh;break;case 536870912:n=h0;break;default:n=dh}n=VE(n,bE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bE(t,e){if(Qc=-1,Yc=0,Me&6)throw Error(Y(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=fh(t,t===Mt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dh(t,r);else{e=r;var i=Me;Me|=2;var s=xE();(Mt!==t||Bt!==e)&&(si=null,ya=vt()+500,Ys(t,e));do try{VC();break}catch(l){DE(t,l)}while(!0);Fm(),Ph.current=s,Me=i,Et!==null?e=0:(Mt=null,Bt=0,e=bt)}if(e!==0){if(e===2&&(i=ap(t),i!==0&&(r=i,e=Lp(t,i))),e===1)throw n=hu,Ys(t,0),Gi(t,r),Cn(t,vt()),n;if(e===6)Gi(t,r);else{if(i=t.current.alternate,!(r&30)&&!LC(i)&&(e=Dh(t,r),e===2&&(s=ap(t),s!==0&&(r=s,e=Lp(t,s))),e===1))throw n=hu,Ys(t,0),Gi(t,r),Cn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:$s(t,En,si);break;case 3:if(Gi(t,r),(r&130023424)===r&&(e=Zm+500-vt(),10<e)){if(fh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mp($s.bind(null,t,En,si),e);break}$s(t,En,si);break;case 4:if(Gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OC(r/1960))-r,10<r){t.timeoutHandle=mp($s.bind(null,t,En,si),r);break}$s(t,En,si);break;case 5:$s(t,En,si);break;default:throw Error(Y(329))}}}return Cn(t,vt()),t.callbackNode===n?bE.bind(null,t):null}function Lp(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=Dh(t,e),t!==2&&(e=En,En=n,e!==null&&Mp(e)),t}function Mp(t){En===null?En=t:En.push.apply(En,t)}function LC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~Jm,e&=~ld,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tr(e),r=1<<n;t[n]=-1,e&=~r}}function ky(t){if(Me&6)throw Error(Y(327));aa();var e=fh(t,0);if(!(e&1))return Cn(t,vt()),null;var n=Dh(t,e);if(t.tag!==0&&n===2){var r=ap(t);r!==0&&(e=r,n=Lp(t,r))}if(n===1)throw n=hu,Ys(t,0),Gi(t,e),Cn(t,vt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,En,si),Cn(t,vt()),null}function eg(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(ya=vt()+500,id&&Ts())}}function io(t){es!==null&&es.tag===0&&!(Me&6)&&aa();var e=Me;Me|=1;var n=nr.transition,r=He;try{if(nr.transition=null,He=1,t)return t()}finally{He=r,nr.transition=n,Me=e,!(Me&6)&&Ts()}}function tg(){On=Zo.current,st(Zo)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hC(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:ga(),st(Sn),st(Zt),Hm();break;case 5:zm(r);break;case 4:ga();break;case 13:st(ct);break;case 19:st(ct);break;case 10:Um(r.type._context);break;case 22:case 23:tg()}n=n.return}if(Mt=t,Et=t=us(t.current,null),Bt=On=e,bt=0,hu=null,Jm=ld=ro=0,En=jl=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function DE(t,e){do{var n=Et;try{if(Fm(),qc.current=Rh,Ch){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ch=!1}if(no=0,Lt=kt=ht=null,Fl=!1,lu=0,Xm.current=null,n===null||n.return===null){bt=1,hu=e,Et=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Bt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=gy(o);if(T!==null){T.flags&=-257,vy(T,o,l,s,e),T.mode&1&&my(s,h,e),e=T,u=h;var P=e.updateQueue;if(P===null){var k=new Set;k.add(u),e.updateQueue=k}else P.add(u);break e}else{if(!(e&1)){my(s,h,e),ng();break e}u=Error(Y(426))}}else if(ot&&l.mode&1){var O=gy(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),vy(O,o,l,s,e),Mm(va(u,l));break e}}s=u=va(u,l),bt!==4&&(bt=2),jl===null?jl=[s]:jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=pE(s,u,e);ly(s,S);break e;case 1:l=u;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(as===null||!as.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=mE(s,l,e);ly(s,V);break e}}s=s.return}while(s!==null)}OE(n)}catch($){e=$,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function xE(){var t=Ph.current;return Ph.current=Rh,t===null?Rh:t}function ng(){(bt===0||bt===3||bt===2)&&(bt=4),Mt===null||!(ro&268435455)&&!(ld&268435455)||Gi(Mt,Bt)}function Dh(t,e){var n=Me;Me|=2;var r=xE();(Mt!==t||Bt!==e)&&(si=null,Ys(t,e));do try{MC();break}catch(i){DE(t,i)}while(!0);if(Fm(),Me=n,Ph.current=r,Et!==null)throw Error(Y(261));return Mt=null,Bt=0,bt}function MC(){for(;Et!==null;)NE(Et)}function VC(){for(;Et!==null&&!l1();)NE(Et)}function NE(t){var e=ME(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?OE(t):Et=e,Xm.current=null}function OE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bC(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,Et=null;return}}else if(n=kC(n,e,On),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);bt===0&&(bt=5)}function $s(t,e,n){var r=He,i=nr.transition;try{nr.transition=null,He=1,FC(t,e,n,r)}finally{nr.transition=i,He=r}return null}function FC(t,e,n,r){do aa();while(es!==null);if(Me&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(y1(t,s),t===Mt&&(Et=Mt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xc||(xc=!0,VE(dh,function(){return aa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var o=He;He=1;var l=Me;Me|=4,Xm.current=null,xC(t,n),PE(n,t),iC(fp),ph=!!dp,fp=dp=null,t.current=n,NC(n),u1(),Me=l,He=o,nr.transition=s}else t.current=n;if(xc&&(xc=!1,es=t,bh=i),s=t.pendingLanes,s===0&&(as=null),d1(n.stateNode),Cn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kh)throw kh=!1,t=Np,Np=null,t;return bh&1&&t.tag!==0&&aa(),s=t.pendingLanes,s&1?t===Op?$l++:($l=0,Op=t):$l=0,Ts(),null}function aa(){if(es!==null){var t=f0(bh),e=nr.transition,n=He;try{if(nr.transition=null,He=16>t?16:t,es===null)var r=!1;else{if(t=es,es=null,bh=0,Me&6)throw Error(Y(331));var i=Me;for(Me|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(re=h;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Ul(8,f,s)}var m=f.child;if(m!==null)m.return=f,re=m;else for(;re!==null;){f=re;var g=f.sibling,T=f.return;if(AE(f),f===h){re=null;break}if(g!==null){g.return=T,re=g;break}re=T}}}var P=s.alternate;if(P!==null){var k=P.child;if(k!==null){P.child=null;do{var O=k.sibling;k.sibling=null,k=O}while(k!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ul(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,re=S;break e}re=s.return}}var w=t.current;for(re=w;re!==null;){o=re;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,re=C;else e:for(o=w;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ad(9,l)}}catch($){pt(l,l.return,$)}if(l===o){re=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,re=V;break e}re=l.return}}if(Me=i,Ts(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Zh,t)}catch{}r=!0}return r}finally{He=n,nr.transition=e}}return!1}function by(t,e,n){e=va(n,e),e=pE(t,e,1),t=os(t,e,1),e=un(),t!==null&&(Ru(t,1,e),Cn(t,e))}function pt(t,e,n){if(t.tag===3)by(t,t,n);else for(;e!==null;){if(e.tag===3){by(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){t=va(n,t),t=mE(e,t,1),e=os(e,t,1),t=un(),e!==null&&(Ru(e,1,t),Cn(e,t));break}}e=e.return}}function UC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Bt&n)===n&&(bt===4||bt===3&&(Bt&130023424)===Bt&&500>vt()-Zm?Ys(t,0):Jm|=n),Cn(t,e)}function LE(t,e){e===0&&(t.mode&1?(e=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):e=1);var n=un();t=yi(t,e),t!==null&&(Ru(t,e,n),Cn(t,n))}function jC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LE(t,n)}function $C(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),LE(t,n)}var ME;ME=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,PC(t,e,n);In=!!(t.flags&131072)}else In=!1,ot&&e.flags&1048576&&U0(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=fa(e,Zt.current);oa(e,n),i=qm(null,e,r,t,i,n);var s=Km();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$m(e),i.updater=sd,e.stateNode=i,i._reactInternals=e,Tp(e,r,t,n),e=Ap(null,e,r,!0,s,n)):(e.tag=0,ot&&s&&Om(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zC(r),t=yr(r,t),i){case 0:e=Sp(null,e,r,t,n);break e;case 1:e=wy(null,e,r,t,n);break e;case 11:e=yy(null,e,r,t,n);break e;case 14:e=_y(null,e,r,yr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Sp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),wy(t,e,r,i,n);case 3:e:{if(_E(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,z0(t,e),Sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=va(Error(Y(423)),e),e=Ey(t,e,r,n,i);break e}else if(r!==i){i=va(Error(Y(424)),e),e=Ey(t,e,r,n,i);break e}else for(Mn=ss(e.stateNode.containerInfo.firstChild),Fn=e,ot=!0,Er=null,n=K0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===i){e=_i(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return G0(e),t===null&&_p(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pp(r,i)?o=null:s!==null&&pp(r,s)&&(e.flags|=32),yE(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&_p(e),null;case 13:return wE(t,e,n);case 4:return Bm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),yy(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(Th,r._currentValue),r._currentValue=o,s!==null)if(Sr(s.value,o)){if(s.children===i.children&&!Sn.current){e=_i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=di(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),wp(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oa(e,n),i=ir(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=yr(r,e.pendingProps),i=yr(r.type,i),_y(t,e,r,i,n);case 15:return gE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Gc(t,e),e.tag=1,An(r)?(t=!0,_h(e)):t=!1,oa(e,n),W0(e,r,i),Tp(e,r,i,n),Ap(null,e,r,!0,t,n);case 19:return EE(t,e,n);case 22:return vE(t,e,n)}throw Error(Y(156,e.tag))};function VE(t,e){return u0(t,e)}function BC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new BC(t,e,n,r)}function rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zC(t){if(typeof t=="function")return rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tm)return 11;if(t===Im)return 14}return 2}function us(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return Xs(n.children,i,s,e);case Em:o=8,i|=8;break;case qf:return t=tr(12,n,e,i|2),t.elementType=qf,t.lanes=s,t;case Kf:return t=tr(13,n,e,i),t.elementType=Kf,t.lanes=s,t;case Gf:return t=tr(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case qw:return ud(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hw:o=10;break e;case Ww:o=9;break e;case Tm:o=11;break e;case Im:o=14;break e;case Wi:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=tr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xs(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function ud(t,e,n,r){return t=tr(22,t,r,e),t.elementType=qw,t.lanes=n,t.stateNode={isHidden:!1},t}function Rf(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function Pf(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ig(t,e,n,r,i,s,o,l,u){return t=new HC(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$m(s),t}function WC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FE(t){if(!t)return gs;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(An(n))return V0(t,n,e)}return e}function UE(t,e,n,r,i,s,o,l,u){return t=ig(n,r,!0,t,i,s,o,l,u),t.context=FE(null),n=t.current,r=un(),i=ls(n),s=di(r,i),s.callback=e??null,os(n,s,i),t.current.lanes=i,Ru(t,i,r),Cn(t,r),t}function cd(t,e,n,r){var i=e.current,s=un(),o=ls(i);return n=FE(n),e.context===null?e.context=n:e.pendingContext=n,e=di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(i,e,o),t!==null&&(Ir(t,i,o,s),Wc(t,i,o)),o}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sg(t,e){Dy(t,e),(t=t.alternate)&&Dy(t,e)}function qC(){return null}var jE=typeof reportError=="function"?reportError:function(t){console.error(t)};function og(t){this._internalRoot=t}hd.prototype.render=og.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));cd(t,e,null,null)};hd.prototype.unmount=og.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){cd(null,t,null,null)}),e[vi]=null}};function hd(t){this._internalRoot=t}hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=g0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&y0(t)}};function ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xy(){}function KC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=xh(o);s.call(h)}}var o=UE(e,r,t,0,null,!1,!1,"",xy);return t._reactRootContainer=o,t[vi]=o.current,ru(t.nodeType===8?t.parentNode:t),io(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=xh(u);l.call(h)}}var u=ig(t,0,!1,null,null,!1,!1,"",xy);return t._reactRootContainer=u,t[vi]=u.current,ru(t.nodeType===8?t.parentNode:t),io(function(){cd(e,u,n,r)}),u}function fd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=xh(o);l.call(u)}}cd(e,o,t,i)}else o=KC(n,e,t,i,r);return xh(o)}p0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sl(e.pendingLanes);n!==0&&(Cm(e,n|1),Cn(e,vt()),!(Me&6)&&(ya=vt()+500,Ts()))}break;case 13:io(function(){var r=yi(t,1);if(r!==null){var i=un();Ir(r,t,1,i)}}),sg(t,1)}};Rm=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=un();Ir(e,t,134217728,n)}sg(t,134217728)}};m0=function(t){if(t.tag===13){var e=ls(t),n=yi(t,e);if(n!==null){var r=un();Ir(n,t,e,r)}sg(t,e)}};g0=function(){return He};v0=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};ip=function(t,e,n){switch(e){case"input":if(Xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rd(r);if(!i)throw Error(Y(90));Gw(r),Xf(r,i)}}}break;case"textarea":Yw(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};r0=eg;i0=io;var GC={usingClientEntryPoint:!1,Events:[ku,Ko,rd,t0,n0,eg]},vl={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QC={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a0(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Zh=Nc.inject(QC),Ur=Nc}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(e))throw Error(Y(200));return WC(t,e,null,n)};zn.createRoot=function(t,e){if(!ag(t))throw Error(Y(299));var n=!1,r="",i=jE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ig(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,ru(t.nodeType===8?t.parentNode:t),new og(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=a0(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return io(t)};zn.hydrate=function(t,e,n){if(!dd(e))throw Error(Y(200));return fd(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!ag(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UE(e,null,t,1,n??null,i,!1,s,o),t[vi]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hd(e)};zn.render=function(t,e,n){if(!dd(e))throw Error(Y(200));return fd(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!dd(t))throw Error(Y(40));return t._reactRootContainer?(io(function(){fd(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};zn.unstable_batchedUpdates=eg;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dd(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return fd(t,e,n,!1,r)};zn.version="18.2.0-next-9e3b772b8-20220608";function $E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($E)}catch(t){console.error(t)}}$E(),Uw.exports=zn;var lg=Uw.exports;const YC=dm(lg),XC=Pw({__proto__:null,default:YC},[lg]);var Ny=lg;Hf.createRoot=Ny.createRoot,Hf.hydrateRoot=Ny.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ut(){return ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ut.apply(this,arguments)}var gt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gt||(gt={}));const Oy="popstate";function JC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return du("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:so(i)}return eR(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _a(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZC(){return Math.random().toString(36).substr(2,8)}function Ly(t,e){return{usr:t.state,key:t.key,idx:e}}function du(t,e,n,r){return n===void 0&&(n=null),ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ai(e):e,{state:n,key:e&&e.key||r||ZC()})}function so(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=gt.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(ut({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=gt.Pop;let O=f(),S=O==null?null:O-h;h=O,u&&u({action:l,location:k.location,delta:S})}function g(O,S){l=gt.Push;let w=du(k.location,O,S);n&&n(w,O),h=f()+1;let C=Ly(w,h),V=k.createHref(w);try{o.pushState(C,"",V)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(V)}s&&u&&u({action:l,location:k.location,delta:1})}function T(O,S){l=gt.Replace;let w=du(k.location,O,S);n&&n(w,O),h=f();let C=Ly(w,h),V=k.createHref(w);o.replaceState(C,"",V),s&&u&&u({action:l,location:k.location,delta:0})}function P(O){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof O=="string"?O:so(O);return w=w.replace(/ $/,"%20"),Ae(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let k={get action(){return l},get location(){return t(i,o)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Oy,m),u=O,()=>{i.removeEventListener(Oy,m),u=null}},createHref(O){return e(i,O)},createURL:P,encodeLocation(O){let S=P(O);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:T,go(O){return o.go(O)}};return k}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));const tR=new Set(["lazy","caseSensitive","path","id","index","children"]);function nR(t){return t.index===!0}function fu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ae(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),nR(i)){let u=ut({},i,e(i),{id:l});return r[l]=u,u}else{let u=ut({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=fu(i.children,e,o,r)),u}})}function zs(t,e,n){return n===void 0&&(n="/"),Jc(t,e,n,!1)}function Jc(t,e,n,r){let i=typeof e=="string"?Ai(e):e,s=ja(i.pathname||"/",n);if(s==null)return null;let o=BE(t);iR(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=mR(s);l=fR(o[u],h,r)}return l}function rR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function BE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=fi([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),BE(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:hR(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of zE(s.path))i(s,o,u)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function iR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sR=/^:[\w-]+$/,oR=3,aR=2,lR=1,uR=10,cR=-2,My=t=>t==="*";function hR(t,e){let n=t.split("/"),r=n.length;return n.some(My)&&(r+=cR),e&&(r+=aR),n.filter(i=>!My(i)).reduce((i,s)=>i+(sR.test(s)?oR:s===""?lR:uR),r)}function dR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fR(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Vy({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Vy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:fi([s,m.pathname]),pathnameBase:yR(fi([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=fi([s,m.pathnameBase]))}return o}function Vy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:g,isOptional:T}=f;if(g==="*"){let k=l[m]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const P=l[m];return T&&!P?h[g]=void 0:h[g]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function pR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_a(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _a(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ja(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:vR(n,e):e,search:_R(r),hash:wR(i)}}function vR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pd(t,e){let n=HE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function md(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ai(t):(i=ut({},t),Ae(!i.pathname||!i.pathname.includes("?"),kf("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),kf("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),kf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=gR(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),yR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_R=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ug{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function gd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WE=["post","put","patch","delete"],ER=new Set(WE),TR=["get",...WE],IR=new Set(TR),SR=new Set([301,302,303,307,308]),AR=new Set([307,308]),bf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},CR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),qE="remix-router-transitions";function PR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;i=F=>({hasErrorBoundary:L(F)})}else i=RR;let s={},o=fu(t.routes,i,void 0,s),l,u=t.basename||"/",h=t.unstable_dataStrategy||NR,f=t.unstable_patchRoutesOnMiss,m=ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,T=new Set,P=null,k=null,O=null,S=t.hydrationData!=null,w=zs(o,t.history.location,u),C=null;if(w==null&&!f){let L=an(404,{pathname:t.history.location.pathname}),{matches:F,route:j}=Ky(o);w=F,C={[j.id]:L}}w&&f&&!t.hydrationData&&Ni(w,o,t.history.location.pathname).active&&(w=null);let V;if(!w)V=!1,w=[];else if(w.some(L=>L.route.lazy))V=!1;else if(!w.some(L=>L.route.loader))V=!0;else if(m.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,j=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:L&&L[H.route.id]!==void 0||F&&F[H.route.id]!==void 0:!0;if(F){let H=w.findIndex(te=>F[te.route.id]!==void 0);V=w.slice(0,H+1).every(j)}else V=w.every(j)}else V=t.hydrationData!=null;let $,b={historyAction:t.history.action,location:t.history.location,matches:w,initialized:V,navigation:bf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},I=gt.Pop,y=!1,E,A=!1,D=new Map,M=null,R=!1,ve=!1,qe=[],Ke=[],_e=new Map,Z=0,ae=-1,he=new Map,Ce=new Set,Te=new Map,z=new Map,je=new Set,Be=new Map,Ge=new Map,Qe=new Map,St=!1;function At(){if(g=t.history.listen(L=>{let{action:F,location:j,delta:H}=L;if(St){St=!1;return}_a(Ge.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=ks({currentLocation:b.location,nextLocation:j,historyAction:F});if(te&&H!=null){St=!0,t.history.go(H*-1),br(te,{state:"blocked",location:j,proceed(){br(te,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),t.history.go(H)},reset(){let ne=new Map(b.blockers);ne.set(te,yl),Xe({blockers:ne})}});return}return Ct(F,j)}),n){qR(e,D);let L=()=>KR(e,D);e.addEventListener("pagehide",L),M=()=>e.removeEventListener("pagehide",L)}return b.initialized||Ct(gt.Pop,b.location,{initialHydration:!0}),$}function Wn(){g&&g(),M&&M(),T.clear(),E&&E.abort(),b.fetchers.forEach((L,F)=>vn(F)),b.blockers.forEach((L,F)=>To(F))}function se(L){return T.add(L),()=>T.delete(L)}function Xe(L,F){F===void 0&&(F={}),b=ut({},b,L);let j=[],H=[];m.v7_fetcherPersist&&b.fetchers.forEach((te,ne)=>{te.state==="idle"&&(je.has(ne)?H.push(ne):j.push(ne))}),[...T].forEach(te=>te(b,{deletedFetchers:H,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),m.v7_fetcherPersist&&(j.forEach(te=>b.fetchers.delete(te)),H.forEach(te=>vn(te)))}function qt(L,F,j){var H,te;let{flushSync:ne}=j===void 0?{}:j,de=b.actionData!=null&&b.navigation.formMethod!=null&&wr(b.navigation.formMethod)&&b.navigation.state==="loading"&&((H=L.state)==null?void 0:H._isRedirect)!==!0,J;F.actionData?Object.keys(F.actionData).length>0?J=F.actionData:J=null:de?J=b.actionData:J=null;let me=F.loaderData?Wy(b.loaderData,F.loaderData,F.matches||[],F.errors):b.loaderData,ue=b.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((we,Le)=>ue.set(Le,yl)));let ce=y===!0||b.navigation.formMethod!=null&&wr(b.navigation.formMethod)&&((te=L.state)==null?void 0:te._isRedirect)!==!0;l&&(o=l,l=void 0),R||I===gt.Pop||(I===gt.Push?t.history.push(L,L.state):I===gt.Replace&&t.history.replace(L,L.state));let be;if(I===gt.Pop){let we=D.get(b.location.pathname);we&&we.has(L.pathname)?be={currentLocation:b.location,nextLocation:L}:D.has(L.pathname)&&(be={currentLocation:L,nextLocation:b.location})}else if(A){let we=D.get(b.location.pathname);we?we.add(L.pathname):(we=new Set([L.pathname]),D.set(b.location.pathname,we)),be={currentLocation:b.location,nextLocation:L}}Xe(ut({},F,{actionData:J,loaderData:me,historyAction:I,location:L,initialized:!0,navigation:bf,revalidation:"idle",restoreScrollPosition:ei(L,F.matches||b.matches),preventScrollReset:ce,blockers:ue}),{viewTransitionOpts:be,flushSync:ne===!0}),I=gt.Pop,y=!1,A=!1,R=!1,ve=!1,qe=[],Ke=[]}async function Rr(L,F){if(typeof L=="number"){t.history.go(L);return}let j=Vp(b.location,b.matches,u,m.v7_prependBasename,L,m.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:H,submission:te,error:ne}=Fy(m.v7_normalizeFormMethod,!1,j,F),de=b.location,J=du(b.location,H,F&&F.state);J=ut({},J,t.history.encodeLocation(J));let me=F&&F.replace!=null?F.replace:void 0,ue=gt.Push;me===!0?ue=gt.Replace:me===!1||te!=null&&wr(te.formMethod)&&te.formAction===b.location.pathname+b.location.search&&(ue=gt.Replace);let ce=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,be=(F&&F.unstable_flushSync)===!0,we=ks({currentLocation:de,nextLocation:J,historyAction:ue});if(we){br(we,{state:"blocked",location:J,proceed(){br(we,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Rr(L,F)},reset(){let Le=new Map(b.blockers);Le.set(we,yl),Xe({blockers:Le})}});return}return await Ct(ue,J,{submission:te,pendingError:ne,preventScrollReset:ce,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:be})}function Xr(){if(We(),Xe({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Ct(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Ct(I||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Ct(L,F,j){E&&E.abort(),E=null,I=L,R=(j&&j.startUninterruptedRevalidation)===!0,Io(b.location,b.matches),y=(j&&j.preventScrollReset)===!0,A=(j&&j.enableViewTransition)===!0;let H=l||o,te=j&&j.overrideNavigation,ne=zs(H,F,u),de=(j&&j.flushSync)===!0,J=Ni(ne,H,F.pathname);if(J.active&&J.matches&&(ne=J.matches),!ne){let{error:Se,notFoundMatches:nt,route:Je}=Di(F.pathname);qt(F,{matches:nt,loaderData:{},errors:{[Je.id]:Se}},{flushSync:de});return}if(b.initialized&&!ve&&UR(b.location,F)&&!(j&&j.submission&&wr(j.submission.formMethod))){qt(F,{matches:ne},{flushSync:de});return}E=new AbortController;let me=Vo(t.history,F,E.signal,j&&j.submission),ue;if(j&&j.pendingError)ue=[ea(ne).route.id,{type:Ze.error,error:j.pendingError}];else if(j&&j.submission&&wr(j.submission.formMethod)){let Se=await Pr(me,F,j.submission,ne,J.active,{replace:j.replace,flushSync:de});if(Se.shortCircuited)return;if(Se.pendingActionResult){let[nt,Je]=Se.pendingActionResult;if(Ln(Je)&&gd(Je.error)&&Je.error.status===404){E=null,qt(F,{matches:Se.matches,loaderData:{},errors:{[nt]:Je.error}});return}}ne=Se.matches||ne,ue=Se.pendingActionResult,te=Df(F,j.submission),de=!1,J.active=!1,me=Vo(t.history,me.url,me.signal)}let{shortCircuited:ce,matches:be,loaderData:we,errors:Le}=await or(me,F,ne,J.active,te,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,de,ue);ce||(E=null,qt(F,ut({matches:be||ne},qy(ue),{loaderData:we,errors:Le})))}async function Pr(L,F,j,H,te,ne){ne===void 0&&(ne={}),We();let de=HR(F,j);if(Xe({navigation:de},{flushSync:ne.flushSync===!0}),te){let ue=await Gn(H,F.pathname,L.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let{boundaryId:ce,error:be}=Pn(F.pathname,ue);return{matches:ue.partialMatches,pendingActionResult:[ce,{type:Ze.error,error:be}]}}else if(ue.matches)H=ue.matches;else{let{notFoundMatches:ce,error:be,route:we}=Di(F.pathname);return{matches:ce,pendingActionResult:[we.id,{type:Ze.error,error:be}]}}}let J,me=Cl(H,F);if(!me.route.action&&!me.route.lazy)J={type:Ze.error,error:an(405,{method:L.method,pathname:F.pathname,routeId:me.route.id})};else if(J=(await gn("action",L,[me],H))[0],L.signal.aborted)return{shortCircuited:!0};if(Gs(J)){let ue;return ne&&ne.replace!=null?ue=ne.replace:ue=By(J.response.headers.get("Location"),new URL(L.url),u)===b.location.pathname+b.location.search,await tn(L,J,{submission:j,replace:ue}),{shortCircuited:!0}}if(Ks(J))throw an(400,{type:"defer-action"});if(Ln(J)){let ue=ea(H,me.route.id);return(ne&&ne.replace)!==!0&&(I=gt.Push),{matches:H,pendingActionResult:[ue.route.id,J]}}return{matches:H,pendingActionResult:[me.route.id,J]}}async function or(L,F,j,H,te,ne,de,J,me,ue,ce){let be=te||Df(F,ne),we=ne||de||Yy(be),Le=!R&&(!m.v7_partialHydration||!me);if(H){if(Le){let Ye=pn(ce);Xe(ut({navigation:be},Ye!==void 0?{actionData:Ye}:{}),{flushSync:ue})}let pe=await Gn(j,F.pathname,L.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let{boundaryId:Ye,error:mt}=Pn(F.pathname,pe);return{matches:pe.partialMatches,loaderData:{},errors:{[Ye]:mt}}}else if(pe.matches)j=pe.matches;else{let{error:Ye,notFoundMatches:mt,route:ze}=Di(F.pathname);return{matches:mt,loaderData:{},errors:{[ze.id]:Ye}}}}let Se=l||o,[nt,Je]=Uy(t.history,b,j,we,F,m.v7_partialHydration&&me===!0,m.v7_skipActionErrorRevalidation,ve,qe,Ke,je,Te,Ce,Se,u,ce);if(Kn(pe=>!(j&&j.some(Ye=>Ye.route.id===pe))||nt&&nt.some(Ye=>Ye.route.id===pe)),ae=++Z,nt.length===0&&Je.length===0){let pe=Zr();return qt(F,ut({matches:j,loaderData:{},errors:ce&&Ln(ce[1])?{[ce[0]]:ce[1].error}:null},qy(ce),pe?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(Le){let pe={};if(!H){pe.navigation=be;let Ye=pn(ce);Ye!==void 0&&(pe.actionData=Ye)}Je.length>0&&(pe.fetchers=mn(Je)),Xe(pe,{flushSync:ue})}Je.forEach(pe=>{_e.has(pe.key)&&Rt(pe.key),pe.controller&&_e.set(pe.key,pe.controller)});let cr=()=>Je.forEach(pe=>Rt(pe.key));E&&E.signal.addEventListener("abort",cr);let{loaderResults:bn,fetcherResults:Dr}=await ar(b.matches,j,nt,Je,L);if(L.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",cr),Je.forEach(pe=>_e.delete(pe.key));let Dn=Gy([...bn,...Dr]);if(Dn){if(Dn.idx>=nt.length){let pe=Je[Dn.idx-nt.length].key;Ce.add(pe)}return await tn(L,Dn.result,{replace:J}),{shortCircuited:!0}}let{loaderData:hr,errors:Ft}=Hy(b,j,nt,bn,ce,Je,Dr,Be);Be.forEach((pe,Ye)=>{pe.subscribe(mt=>{(mt||pe.done)&&Be.delete(Ye)})}),m.v7_partialHydration&&me&&b.errors&&Object.entries(b.errors).filter(pe=>{let[Ye]=pe;return!nt.some(mt=>mt.route.id===Ye)}).forEach(pe=>{let[Ye,mt]=pe;Ft=Object.assign(Ft||{},{[Ye]:mt})});let xn=Zr(),yn=bi(ae),nn=xn||yn||Je.length>0;return ut({matches:j,loaderData:hr,errors:Ft},nn?{fetchers:new Map(b.fetchers)}:{})}function pn(L){if(L&&!Ln(L[1]))return{[L[0]]:L[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function mn(L){return L.forEach(F=>{let j=b.fetchers.get(F.key),H=_l(void 0,j?j.data:void 0);b.fetchers.set(F.key,H)}),new Map(b.fetchers)}function qn(L,F,j,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");_e.has(L)&&Rt(L);let te=(H&&H.unstable_flushSync)===!0,ne=l||o,de=Vp(b.location,b.matches,u,m.v7_prependBasename,j,m.v7_relativeSplatPath,F,H==null?void 0:H.relative),J=zs(ne,de,u),me=Ni(J,ne,de);if(me.active&&me.matches&&(J=me.matches),!J){Vt(L,F,an(404,{pathname:de}),{flushSync:te});return}let{path:ue,submission:ce,error:be}=Fy(m.v7_normalizeFormMethod,!0,de,H);if(be){Vt(L,F,be,{flushSync:te});return}let we=Cl(J,ue);if(y=(H&&H.preventScrollReset)===!0,ce&&wr(ce.formMethod)){Jr(L,F,ue,we,J,me.active,te,ce);return}Te.set(L,{routeId:F,path:ue}),ki(L,F,ue,we,J,me.active,te,ce)}async function Jr(L,F,j,H,te,ne,de,J){We(),Te.delete(L);function me(ze){if(!ze.route.action&&!ze.route.lazy){let rn=an(405,{method:J.formMethod,pathname:j,routeId:F});return Vt(L,F,rn,{flushSync:de}),!0}return!1}if(!ne&&me(H))return;let ue=b.fetchers.get(L);Re(L,WR(J,ue),{flushSync:de});let ce=new AbortController,be=Vo(t.history,j,ce.signal,J);if(ne){let ze=await Gn(te,j,be.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:rn}=Pn(j,ze);Vt(L,F,rn,{flushSync:de});return}else if(ze.matches){if(te=ze.matches,H=Cl(te,j),me(H))return}else{Vt(L,F,an(404,{pathname:j}),{flushSync:de});return}}_e.set(L,ce);let we=Z,Se=(await gn("action",be,[H],te))[0];if(be.signal.aborted){_e.get(L)===ce&&_e.delete(L);return}if(m.v7_fetcherPersist&&je.has(L)){if(Gs(Se)||Ln(Se)){Re(L,zi(void 0));return}}else{if(Gs(Se))if(_e.delete(L),ae>we){Re(L,zi(void 0));return}else return Ce.add(L),Re(L,_l(J)),tn(be,Se,{fetcherSubmission:J});if(Ln(Se)){Vt(L,F,Se.error);return}}if(Ks(Se))throw an(400,{type:"defer-action"});let nt=b.navigation.location||b.location,Je=Vo(t.history,nt,ce.signal),cr=l||o,bn=b.navigation.state!=="idle"?zs(cr,b.navigation.location,u):b.matches;Ae(bn,"Didn't find any matches after fetcher action");let Dr=++Z;he.set(L,Dr);let Dn=_l(J,Se.data);b.fetchers.set(L,Dn);let[hr,Ft]=Uy(t.history,b,bn,J,nt,!1,m.v7_skipActionErrorRevalidation,ve,qe,Ke,je,Te,Ce,cr,u,[H.route.id,Se]);Ft.filter(ze=>ze.key!==L).forEach(ze=>{let rn=ze.key,Oi=b.fetchers.get(rn),So=_l(void 0,Oi?Oi.data:void 0);b.fetchers.set(rn,So),_e.has(rn)&&Rt(rn),ze.controller&&_e.set(rn,ze.controller)}),Xe({fetchers:new Map(b.fetchers)});let xn=()=>Ft.forEach(ze=>Rt(ze.key));ce.signal.addEventListener("abort",xn);let{loaderResults:yn,fetcherResults:nn}=await ar(b.matches,bn,hr,Ft,Je);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",xn),he.delete(L),_e.delete(L),Ft.forEach(ze=>_e.delete(ze.key));let pe=Gy([...yn,...nn]);if(pe){if(pe.idx>=hr.length){let ze=Ft[pe.idx-hr.length].key;Ce.add(ze)}return tn(Je,pe.result)}let{loaderData:Ye,errors:mt}=Hy(b,b.matches,hr,yn,void 0,Ft,nn,Be);if(b.fetchers.has(L)){let ze=zi(Se.data);b.fetchers.set(L,ze)}bi(Dr),b.navigation.state==="loading"&&Dr>ae?(Ae(I,"Expected pending action"),E&&E.abort(),qt(b.navigation.location,{matches:bn,loaderData:Ye,errors:mt,fetchers:new Map(b.fetchers)})):(Xe({errors:mt,loaderData:Wy(b.loaderData,Ye,bn,mt),fetchers:new Map(b.fetchers)}),ve=!1)}async function ki(L,F,j,H,te,ne,de,J){let me=b.fetchers.get(L);Re(L,_l(J,me?me.data:void 0),{flushSync:de});let ue=new AbortController,ce=Vo(t.history,j,ue.signal);if(ne){let Se=await Gn(te,j,ce.signal);if(Se.type==="aborted")return;if(Se.type==="error"){let{error:nt}=Pn(j,Se);Vt(L,F,nt,{flushSync:de});return}else if(Se.matches)te=Se.matches,H=Cl(te,j);else{Vt(L,F,an(404,{pathname:j}),{flushSync:de});return}}_e.set(L,ue);let be=Z,Le=(await gn("loader",ce,[H],te))[0];if(Ks(Le)&&(Le=await XE(Le,ce.signal,!0)||Le),_e.get(L)===ue&&_e.delete(L),!ce.signal.aborted){if(je.has(L)){Re(L,zi(void 0));return}if(Gs(Le))if(ae>be){Re(L,zi(void 0));return}else{Ce.add(L),await tn(ce,Le);return}if(Ln(Le)){Vt(L,F,Le.error);return}Ae(!Ks(Le),"Unhandled fetcher deferred data"),Re(L,zi(Le.data))}}async function tn(L,F,j){let{submission:H,fetcherSubmission:te,replace:ne}=j===void 0?{}:j;F.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let de=F.response.headers.get("Location");Ae(de,"Expected a Location header on the redirect Response"),de=By(de,new URL(L.url),u);let J=du(b.location,de,{_isRedirect:!0});if(n){let Le=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Le=!0;else if(cg.test(de)){const Se=t.history.createURL(de);Le=Se.origin!==e.location.origin||ja(Se.pathname,u)==null}if(Le){ne?e.location.replace(de):e.location.assign(de);return}}E=null;let me=ne===!0?gt.Replace:gt.Push,{formMethod:ue,formAction:ce,formEncType:be}=b.navigation;!H&&!te&&ue&&ce&&be&&(H=Yy(b.navigation));let we=H||te;if(AR.has(F.response.status)&&we&&wr(we.formMethod))await Ct(me,J,{submission:ut({},we,{formAction:de}),preventScrollReset:y});else{let Le=Df(J,H);await Ct(me,J,{overrideNavigation:Le,fetcherSubmission:te,preventScrollReset:y})}}async function gn(L,F,j,H){try{let te=await OR(h,L,F,j,H,s,i);return await Promise.all(te.map((ne,de)=>{if($R(ne)){let J=ne.result;return{type:Ze.redirect,response:VR(J,F,j[de].route.id,H,u,m.v7_relativeSplatPath)}}return MR(ne)}))}catch(te){return j.map(()=>({type:Ze.error,error:te}))}}async function ar(L,F,j,H,te){let[ne,...de]=await Promise.all([j.length?gn("loader",te,j,F):[],...H.map(J=>{if(J.matches&&J.match&&J.controller){let me=Vo(t.history,J.path,J.controller.signal);return gn("loader",me,[J.match],J.matches).then(ue=>ue[0])}else return Promise.resolve({type:Ze.error,error:an(404,{pathname:J.path})})})]);return await Promise.all([Qy(L,j,ne,ne.map(()=>te.signal),!1,b.loaderData),Qy(L,H.map(J=>J.match),de,H.map(J=>J.controller?J.controller.signal:null),!0)]),{loaderResults:ne,fetcherResults:de}}function We(){ve=!0,qe.push(...Kn()),Te.forEach((L,F)=>{_e.has(F)&&(Ke.push(F),Rt(F))})}function Re(L,F,j){j===void 0&&(j={}),b.fetchers.set(L,F),Xe({fetchers:new Map(b.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Vt(L,F,j,H){H===void 0&&(H={});let te=ea(b.matches,F);vn(L),Xe({errors:{[te.route.id]:j},fetchers:new Map(b.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function lr(L){return m.v7_fetcherPersist&&(z.set(L,(z.get(L)||0)+1),je.has(L)&&je.delete(L)),b.fetchers.get(L)||CR}function vn(L){let F=b.fetchers.get(L);_e.has(L)&&!(F&&F.state==="loading"&&he.has(L))&&Rt(L),Te.delete(L),he.delete(L),Ce.delete(L),je.delete(L),b.fetchers.delete(L)}function kr(L){if(m.v7_fetcherPersist){let F=(z.get(L)||0)-1;F<=0?(z.delete(L),je.add(L)):z.set(L,F)}else vn(L);Xe({fetchers:new Map(b.fetchers)})}function Rt(L){let F=_e.get(L);Ae(F,"Expected fetch controller: "+L),F.abort(),_e.delete(L)}function Ps(L){for(let F of L){let j=lr(F),H=zi(j.data);b.fetchers.set(F,H)}}function Zr(){let L=[],F=!1;for(let j of Ce){let H=b.fetchers.get(j);Ae(H,"Expected fetcher: "+j),H.state==="loading"&&(Ce.delete(j),L.push(j),F=!0)}return Ps(L),F}function bi(L){let F=[];for(let[j,H]of he)if(H<L){let te=b.fetchers.get(j);Ae(te,"Expected fetcher: "+j),te.state==="loading"&&(Rt(j),he.delete(j),F.push(j))}return Ps(F),F.length>0}function Qa(L,F){let j=b.blockers.get(L)||yl;return Ge.get(L)!==F&&Ge.set(L,F),j}function To(L){b.blockers.delete(L),Ge.delete(L)}function br(L,F){let j=b.blockers.get(L)||yl;Ae(j.state==="unblocked"&&F.state==="blocked"||j.state==="blocked"&&F.state==="blocked"||j.state==="blocked"&&F.state==="proceeding"||j.state==="blocked"&&F.state==="unblocked"||j.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+F.state);let H=new Map(b.blockers);H.set(L,F),Xe({blockers:H})}function ks(L){let{currentLocation:F,nextLocation:j,historyAction:H}=L;if(Ge.size===0)return;Ge.size>1&&_a(!1,"A router only supports one blocker at a time");let te=Array.from(Ge.entries()),[ne,de]=te[te.length-1],J=b.blockers.get(ne);if(!(J&&J.state==="proceeding")&&de({currentLocation:F,nextLocation:j,historyAction:H}))return ne}function Di(L){let F=an(404,{pathname:L}),j=l||o,{matches:H,route:te}=Ky(j);return Kn(),{notFoundMatches:H,route:te,error:F}}function Pn(L,F){return{boundaryId:ea(F.partialMatches).route.id,error:an(400,{type:"route-discovery",pathname:L,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function Kn(L){let F=[];return Be.forEach((j,H)=>{(!L||L(H))&&(j.cancel(),F.push(H),Be.delete(H))}),F}function xi(L,F,j){if(P=L,O=F,k=j||null,!S&&b.navigation===bf){S=!0;let H=ei(b.location,b.matches);H!=null&&Xe({restoreScrollPosition:H})}return()=>{P=null,O=null,k=null}}function kn(L,F){return k&&k(L,F.map(H=>rR(H,b.loaderData)))||L.key}function Io(L,F){if(P&&O){let j=kn(L,F);P[j]=O()}}function ei(L,F){if(P){let j=kn(L,F),H=P[j];if(typeof H=="number")return H}return null}function Ni(L,F,j){if(f)if(L){let H=L[L.length-1].route;if(H.path&&(H.path==="*"||H.path.endsWith("/*")))return{active:!0,matches:Jc(F,j,u,!0)}}else return{active:!0,matches:Jc(F,j,u,!0)||[]};return{active:!1,matches:null}}async function Gn(L,F,j){let H=L,te=H.length>0?H[H.length-1].route:null;for(;;){let ne=l==null,de=l||o;try{await xR(f,F,H,de,s,i,Qe,j)}catch(ce){return{type:"error",error:ce,partialMatches:H}}finally{ne&&(o=[...o])}if(j.aborted)return{type:"aborted"};let J=zs(de,F,u),me=!1;if(J){let ce=J[J.length-1].route;if(ce.index)return{type:"success",matches:J};if(ce.path&&ce.path.length>0)if(ce.path==="*")me=!0;else return{type:"success",matches:J}}let ue=Jc(de,F,u,!0);if(!ue||H.map(ce=>ce.route.id).join("-")===ue.map(ce=>ce.route.id).join("-"))return{type:"success",matches:me?J:null};if(H=ue,te=H[H.length-1].route,te.path==="*")return{type:"success",matches:H}}}function ur(L){s={},l=fu(L,i,void 0,s)}function at(L,F){let j=l==null;GE(L,F,l||o,s,i),j&&(o=[...o],Xe({}))}return $={get basename(){return u},get future(){return m},get state(){return b},get routes(){return o},get window(){return e},initialize:At,subscribe:se,enableScrollRestoration:xi,navigate:Rr,fetch:qn,revalidate:Xr,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:lr,deleteFetcher:kr,dispose:Wn,getBlocker:Qa,deleteBlocker:To,patchRoutes:at,_internalFetchControllers:_e,_internalActiveDeferreds:Be,_internalSetRoutes:ur},$}function kR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vp(t,e,n,r,i,s,o,l){let u,h;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){h=m;break}}else u=e,h=e[e.length-1];let f=md(i||".",pd(u,s),ja(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!hg(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:fi([n,f.pathname])),so(f)}function Fy(t,e,n,r){if(!r||!kR(r))return{path:n};if(r.formMethod&&!zR(r.formMethod))return{path:n,error:an(405,{method:r.formMethod})};let i=()=>({path:n,error:an(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=QE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wr(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((T,P)=>{let[k,O]=P;return""+T+k+"="+O+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!wr(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let u,h;if(r.formData)u=Fp(r.formData),h=r.formData;else if(r.body instanceof FormData)u=Fp(r.body),h=r.body;else if(r.body instanceof URLSearchParams)u=r.body,h=zy(u);else if(r.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(r.body),h=zy(u)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(wr(f.formMethod))return{path:n,submission:f};let m=Ai(n);return e&&m.search&&hg(m.search)&&u.append("index",""),m.search="?"+u,{path:so(m),submission:f}}function bR(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Uy(t,e,n,r,i,s,o,l,u,h,f,m,g,T,P,k){let O=k?Ln(k[1])?k[1].error:k[1].data:void 0,S=t.createURL(e.location),w=t.createURL(i),C=k&&Ln(k[1])?k[0]:void 0,V=C?bR(n,C):n,$=k?k[1].statusCode:void 0,b=o&&$&&$>=400,I=V.filter((E,A)=>{let{route:D}=E;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(DR(e.loaderData,e.matches[A],E)||u.some(ve=>ve===E.route.id))return!0;let M=e.matches[A],R=E;return jy(E,ut({currentUrl:S,currentParams:M.params,nextUrl:w,nextParams:R.params},r,{actionResult:O,actionStatus:$,defaultShouldRevalidate:b?!1:l||S.pathname+S.search===w.pathname+w.search||S.search!==w.search||KE(M,R)}))}),y=[];return m.forEach((E,A)=>{if(s||!n.some(qe=>qe.route.id===E.routeId)||f.has(A))return;let D=zs(T,E.path,P);if(!D){y.push({key:A,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(A),R=Cl(D,E.path),ve=!1;g.has(A)?ve=!1:h.includes(A)?ve=!0:M&&M.state!=="idle"&&M.data===void 0?ve=l:ve=jy(R,ut({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:O,actionStatus:$,defaultShouldRevalidate:b?!1:l})),ve&&y.push({key:A,routeId:E.routeId,path:E.path,matches:D,match:R,controller:new AbortController})}),[I,y]}function DR(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function KE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function jy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function xR(t,e,n,r,i,s,o,l){let u=[e,...n.map(h=>h.route.id)].join("-");try{let h=o.get(u);h||(h=t({path:e,matches:n,patch:(f,m)=>{l.aborted||GE(f,m,r,i,s)}}),o.set(u,h)),h&&jR(h)&&await h}finally{o.delete(u)}}function GE(t,e,n,r,i){if(t){var s;let o=r[t];Ae(o,"No route found to patch children into: routeId = "+t);let l=fu(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=fu(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function $y(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ae(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";_a(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!tR.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ut({},e(i),{lazy:void 0}))}function NR(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function OR(t,e,n,r,i,s,o,l){let u=r.reduce((m,g)=>m.add(g.route.id),new Set),h=new Set,f=await t({matches:i.map(m=>{let g=u.has(m.route.id);return ut({},m,{shouldLoad:g,resolve:P=>(h.add(m.route.id),g?LR(e,n,m,s,o,P,l):Promise.resolve({type:Ze.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(m=>Ae(h.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>u.has(i[g].route.id))}async function LR(t,e,n,r,i,s,o){let l,u,h=f=>{let m,g=new Promise((k,O)=>m=O);u=()=>m(),e.signal.addEventListener("abort",u);let T=k=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...k!==void 0?[k]:[]),P;return s?P=s(k=>T(k)):P=(async()=>{try{return{type:"data",result:await T()}}catch(k){return{type:"error",result:k}}})(),Promise.race([P,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let m,[g]=await Promise.all([h(f).catch(T=>{m=T}),$y(n.route,i,r)]);if(m!==void 0)throw m;l=g}else if(await $y(n.route,i,r),f=n.route[t],f)l=await h(f);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw an(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:Ze.data,result:void 0};else if(f)l=await h(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw an(404,{pathname:g})}Ae(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:Ze.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function MR(t){let{result:e,type:n,status:r}=t;if(YE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:Ze.error,error:l}}return n===Ze.error?{type:Ze.error,error:new ug(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Ze.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Ze.error)return{type:Ze.error,error:e,statusCode:gd(e)?e.status:r};if(BR(e)){var i,s;return{type:Ze.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Ze.data,data:e,statusCode:r}}function VR(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cg.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Vp(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function By(t,e,n){if(cg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ja(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Vo(t,e,n,r){let i=t.createURL(QE(e)).toString(),s={signal:n};if(r&&wr(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Fp(r.formData):s.body=r.formData}return new Request(i,s)}function Fp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function FR(t,e,n,r,i,s){let o={},l=null,u,h=!1,f={},m=r&&Ln(r[1])?r[1].error:void 0;return n.forEach((g,T)=>{let P=e[T].route.id;if(Ae(!Gs(g),"Cannot handle redirect results in processLoaderData"),Ln(g)){let k=g.error;if(m!==void 0&&(k=m,m=void 0),l=l||{},s)l[P]=k;else{let O=ea(t,P);l[O.route.id]==null&&(l[O.route.id]=k)}o[P]=void 0,h||(h=!0,u=gd(g.error)?g.error.status:500),g.headers&&(f[P]=g.headers)}else Ks(g)?(i.set(P,g.deferredData),o[P]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!h&&(u=g.statusCode),g.headers&&(f[P]=g.headers)):(o[P]=g.data,g.statusCode&&g.statusCode!==200&&!h&&(u=g.statusCode),g.headers&&(f[P]=g.headers))}),m!==void 0&&r&&(l={[r[0]]:m},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:f}}function Hy(t,e,n,r,i,s,o,l){let{loaderData:u,errors:h}=FR(e,n,r,i,l,!1);for(let f=0;f<s.length;f++){let{key:m,match:g,controller:T}=s[f];Ae(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let P=o[f];if(!(T&&T.signal.aborted))if(Ln(P)){let k=ea(t.matches,g==null?void 0:g.route.id);h&&h[k.route.id]||(h=ut({},h,{[k.route.id]:P.error})),t.fetchers.delete(m)}else if(Gs(P))Ae(!1,"Unhandled fetcher revalidation redirect");else if(Ks(P))Ae(!1,"Unhandled fetcher deferred data");else{let k=zi(P.data);t.fetchers.set(m,k)}}return{loaderData:u,errors:h}}function Wy(t,e,n,r){let i=ut({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function qy(t){return t?Ln(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ea(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ky(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function an(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new ug(t||500,l,new Error(u),!0)}function Gy(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Gs(n))return{result:n,idx:e}}}function QE(t){let e=typeof t=="string"?Ai(t):t;return so(ut({},e,{hash:""}))}function UR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jR(t){return typeof t=="object"&&t!=null&&"then"in t}function $R(t){return YE(t.result)&&SR.has(t.result.status)}function Ks(t){return t.type===Ze.deferred}function Ln(t){return t.type===Ze.error}function Gs(t){return(t&&t.type)===Ze.redirect}function BR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function YE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zR(t){return IR.has(t.toLowerCase())}function wr(t){return ER.has(t.toLowerCase())}async function Qy(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let h=t.find(m=>m.route.id===u.route.id),f=h!=null&&!KE(h,u)&&(s&&s[u.route.id])!==void 0;if(Ks(l)&&(i||f)){let m=r[o];Ae(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await XE(l,m,i).then(g=>{g&&(n[o]=g||n[o])})}}}async function XE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ze.error,error:i}}return{type:Ze.data,data:t.deferredData.data}}}function hg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Cl(t,e){let n=typeof e=="string"?Ai(e).search:e.search;if(t[t.length-1].route.index&&hg(n||""))return t[t.length-1];let r=HE(t);return r[r.length-1]}function Yy(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Df(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _l(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function WR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function zi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qR(t,e){try{let n=t.sessionStorage.getItem(qE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function KR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(qE,JSON.stringify(n))}catch(r){_a(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const vd=q.createContext(null),JE=q.createContext(null),Is=q.createContext(null),yd=q.createContext(null),Yr=q.createContext({outlet:null,matches:[],isDataRoute:!1}),ZE=q.createContext(null);function GR(t,e){let{relative:n}=e===void 0?{}:e;$a()||Ae(!1);let{basename:r,navigator:i}=q.useContext(Is),{hash:s,pathname:o,search:l}=tT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:fi([r,o])),i.createHref({pathname:u,search:l,hash:s})}function $a(){return q.useContext(yd)!=null}function Du(){return $a()||Ae(!1),q.useContext(yd).location}function eT(t){q.useContext(Is).static||q.useLayoutEffect(t)}function Ss(){let{isDataRoute:t}=q.useContext(Yr);return t?uP():QR()}function QR(){$a()||Ae(!1);let t=q.useContext(vd),{basename:e,future:n,navigator:r}=q.useContext(Is),{matches:i}=q.useContext(Yr),{pathname:s}=Du(),o=JSON.stringify(pd(i,n.v7_relativeSplatPath)),l=q.useRef(!1);return eT(()=>{l.current=!0}),q.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=md(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:fi([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}const YR=q.createContext(null);function XR(t){let e=q.useContext(Yr).outlet;return e&&q.createElement(YR.Provider,{value:t},e)}function JR(){let{matches:t}=q.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function tT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(Is),{matches:i}=q.useContext(Yr),{pathname:s}=Du(),o=JSON.stringify(pd(i,r.v7_relativeSplatPath));return q.useMemo(()=>md(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ZR(t,e,n,r){$a()||Ae(!1);let{navigator:i}=q.useContext(Is),{matches:s}=q.useContext(Yr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Du(),f;if(e){var m;let O=typeof e=="string"?Ai(e):e;u==="/"||(m=O.pathname)!=null&&m.startsWith(u)||Ae(!1),f=O}else f=h;let g=f.pathname||"/",T=g;if(u!=="/"){let O=u.replace(/^\//,"").split("/");T="/"+g.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=zs(t,{pathname:T}),k=iP(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:fi([u,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?u:fi([u,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return e&&k?q.createElement(yd.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:gt.Pop}},k):k}function eP(){let t=lP(),e=gd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const tP=q.createElement(eP,null);class nP extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(Yr.Provider,{value:this.props.routeContext},q.createElement(ZE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rP(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(Yr.Provider,{value:e},r)}function iP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Ae(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:T}=n,P=m.route.loader&&g[m.route.id]===void 0&&(!T||T[m.route.id]===void 0);if(m.route.lazy||P){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let T,P=!1,k=null,O=null;n&&(T=l&&m.route.id?l[m.route.id]:void 0,k=m.route.errorElement||tP,u&&(h<0&&g===0?(cP("route-fallback",!1),P=!0,O=null):h===g&&(P=!0,O=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),w=()=>{let C;return T?C=k:P?C=O:m.route.Component?C=q.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,q.createElement(rP,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?q.createElement(nP,{location:n.location,revalidation:n.revalidation,component:k,error:T,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var nT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nT||{}),Nh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nh||{});function sP(t){let e=q.useContext(vd);return e||Ae(!1),e}function oP(t){let e=q.useContext(JE);return e||Ae(!1),e}function aP(t){let e=q.useContext(Yr);return e||Ae(!1),e}function rT(t){let e=aP(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function lP(){var t;let e=q.useContext(ZE),n=oP(Nh.UseRouteError),r=rT(Nh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uP(){let{router:t}=sP(nT.UseNavigateStable),e=rT(Nh.UseNavigateStable),n=q.useRef(!1);return eT(()=>{n.current=!0}),q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},s)))},[t,e])}const Xy={};function cP(t,e,n){!e&&!Xy[t]&&(Xy[t]=!0)}function hP(t){let{to:e,replace:n,state:r,relative:i}=t;$a()||Ae(!1);let{future:s,static:o}=q.useContext(Is),{matches:l}=q.useContext(Yr),{pathname:u}=Du(),h=Ss(),f=md(e,pd(l,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(f);return q.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function dP(t){return XR(t.context)}function fP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gt.Pop,navigator:s,static:o=!1,future:l}=t;$a()&&Ae(!1);let u=e.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:s,static:o,future:pu({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ai(r));let{pathname:f="/",search:m="",hash:g="",state:T=null,key:P="default"}=r,k=q.useMemo(()=>{let O=ja(f,u);return O==null?null:{location:{pathname:O,search:m,hash:g,state:T,key:P},navigationType:i}},[u,f,m,g,T,P,i]);return k==null?null:q.createElement(Is.Provider,{value:h},q.createElement(yd.Provider,{children:n,value:k}))}new Promise(()=>{});function pP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:q.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:q.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:q.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function mP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vP(t,e){return t.button===0&&(!e||e==="_self")&&!gP(t)}const yP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_P="6";try{window.__reactRouterVersion=_P}catch{}function wP(t,e){return PR({basename:e==null?void 0:e.basename,future:mu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:JC({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||EP(),routes:t,mapRouteProperties:pP,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function EP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mu({},e,{errors:TP(e.errors)})),e}function TP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ug(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const IP=q.createContext({isTransitioning:!1}),SP=q.createContext(new Map),AP="startTransition",Jy=jA[AP],CP="flushSync",Zy=XC[CP];function RP(t){Jy?Jy(t):t()}function wl(t){Zy?Zy(t):t()}let PP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function kP(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=q.useState(n.state),[o,l]=q.useState(),[u,h]=q.useState({isTransitioning:!1}),[f,m]=q.useState(),[g,T]=q.useState(),[P,k]=q.useState(),O=q.useRef(new Map),{v7_startTransition:S}=r||{},w=q.useCallback(y=>{S?RP(y):y()},[S]),C=q.useCallback((y,E)=>{let{deletedFetchers:A,unstable_flushSync:D,unstable_viewTransitionOpts:M}=E;A.forEach(ve=>O.current.delete(ve)),y.fetchers.forEach((ve,qe)=>{ve.data!==void 0&&O.current.set(qe,ve.data)});let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||R){D?wl(()=>s(y)):w(()=>s(y));return}if(D){wl(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let ve=n.window.document.startViewTransition(()=>{wl(()=>s(y))});ve.finished.finally(()=>{wl(()=>{m(void 0),T(void 0),l(void 0),h({isTransitioning:!1})})}),wl(()=>T(ve));return}g?(f&&f.resolve(),g.skipTransition(),k({state:y,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(l(y),h({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,g,f,O,w]);q.useLayoutEffect(()=>n.subscribe(C),[n,C]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new PP)},[u]),q.useEffect(()=>{if(f&&o&&n.window){let y=o,E=f.promise,A=n.window.document.startViewTransition(async()=>{w(()=>s(y)),await E});A.finished.finally(()=>{m(void 0),T(void 0),l(void 0),h({isTransitioning:!1})}),T(A)}},[w,o,f,n.window]),q.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),q.useEffect(()=>{!u.isTransitioning&&P&&(l(P.state),h({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),k(void 0))},[u.isTransitioning,P]),q.useEffect(()=>{},[]);let V=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,E,A)=>n.navigate(y,{state:E,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(y,E,A)=>n.navigate(y,{replace:!0,state:E,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),$=n.basename||"/",b=q.useMemo(()=>({router:n,navigator:V,static:!1,basename:$}),[n,V,$]),I=q.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return q.createElement(q.Fragment,null,q.createElement(vd.Provider,{value:b},q.createElement(JE.Provider,{value:i},q.createElement(SP.Provider,{value:O.current},q.createElement(IP.Provider,{value:u},q.createElement(fP,{basename:$,location:i.location,navigationType:i.historyAction,navigator:V,future:I},i.initialized||n.future.v7_partialHydration?q.createElement(bP,{routes:n.routes,future:n.future,state:i}):e))))),null)}const bP=q.memo(DP);function DP(t){let{routes:e,future:n,state:r}=t;return ZR(e,void 0,r,n)}const xP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iT=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,unstable_viewTransition:m}=e,g=mP(e,yP),{basename:T}=q.useContext(Is),P,k=!1;if(typeof h=="string"&&NP.test(h)&&(P=h,xP))try{let C=new URL(window.location.href),V=h.startsWith("//")?new URL(C.protocol+h):new URL(h),$=ja(V.pathname,T);V.origin===C.origin&&$!=null?h=$+V.search+V.hash:k=!0}catch{}let O=GR(h,{relative:i}),S=OP(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:m});function w(C){r&&r(C),C.defaultPrevented||S(C)}return q.createElement("a",mu({},g,{href:P||O,onClick:k||s?r:w,ref:n,target:u}))});var e_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e_||(e_={}));var t_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t_||(t_={}));function OP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=Ss(),h=Du(),f=tT(t,{relative:o});return q.useCallback(m=>{if(vP(m,n)){m.preventDefault();let g=r!==void 0?r:so(h)===so(f);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,u,f,r,i,n,t,s,o,l])}const LP=()=>G.jsx(G.Fragment,{children:G.jsx("div",{className:"outlet-container container-fluid p-0",style:{minHeight:"100vh"},children:G.jsx(dP,{})})}),MP=()=>G.jsx("div",{children:"Error"});var VP={VITE_API_KEY:"AIzaSyAthJdZF_jDW8_WXgRB2hofK6sHg1jIybA",VITE_AUTH_DOMAIN:"chat-application-968a4.firebaseapp.com",VITE_PROJECT_ID:"chat-application-968a4",VITE_STORAGE_BUCKET:"chat-application-968a4.appspot.com",VITE_MESSAGING_SENDER_ID:"776596104603",VITE_APP_ID:"1:776596104603:web:996baf274e94d697376d3e",VITE_MEASUREMENT_ID:"G-10BYDPLK65",BASE_URL:"/chatApplication/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const n_=t=>{let e;const n=new Set,r=(f,m)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const T=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(P=>P(e,T))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(VP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=e=t(r,i,u);return u},FP=t=>t?n_(t):n_;var sT={exports:{}},oT={},aT={exports:{}},lT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=q;function UP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jP=typeof Object.is=="function"?Object.is:UP,$P=wa.useState,BP=wa.useEffect,zP=wa.useLayoutEffect,HP=wa.useDebugValue;function WP(t,e){var n=e(),r=$P({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return zP(function(){i.value=n,i.getSnapshot=e,xf(i)&&s({inst:i})},[t,n,e]),BP(function(){return xf(i)&&s({inst:i}),t(function(){xf(i)&&s({inst:i})})},[t]),HP(n),n}function xf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jP(t,n)}catch{return!0}}function qP(t,e){return e()}var KP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qP:WP;lT.useSyncExternalStore=wa.useSyncExternalStore!==void 0?wa.useSyncExternalStore:KP;aT.exports=lT;var GP=aT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=q,QP=GP;function YP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XP=typeof Object.is=="function"?Object.is:YP,JP=QP.useSyncExternalStore,ZP=_d.useRef,ek=_d.useEffect,tk=_d.useMemo,nk=_d.useDebugValue;oT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ZP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=tk(function(){function u(T){if(!h){if(h=!0,f=T,T=r(T),i!==void 0&&o.hasValue){var P=o.value;if(i(P,T))return m=P}return m=T}if(P=m,XP(f,T))return P;var k=r(T);return i!==void 0&&i(P,k)?P:(f=T,m=k)}var h=!1,f,m,g=n===void 0?null:n;return[function(){return u(e())},g===null?void 0:function(){return u(g())}]},[e,n,r,i]);var l=JP(t,s[0],s[1]);return ek(function(){o.hasValue=!0,o.value=l},[l]),nk(l),l};sT.exports=oT;var rk=sT.exports;const ik=dm(rk);var uT={VITE_API_KEY:"AIzaSyAthJdZF_jDW8_WXgRB2hofK6sHg1jIybA",VITE_AUTH_DOMAIN:"chat-application-968a4.firebaseapp.com",VITE_PROJECT_ID:"chat-application-968a4",VITE_STORAGE_BUCKET:"chat-application-968a4.appspot.com",VITE_MESSAGING_SENDER_ID:"776596104603",VITE_APP_ID:"1:776596104603:web:996baf274e94d697376d3e",VITE_MEASUREMENT_ID:"G-10BYDPLK65",BASE_URL:"/chatApplication/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:sk}=vm,{useSyncExternalStoreWithSelector:ok}=ik;let r_=!1;const ak=t=>t;function lk(t,e=ak,n){(uT?"production":void 0)!=="production"&&n&&!r_&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),r_=!0);const r=ok(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return sk(r),r}const i_=t=>{(uT?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?FP(t):t,n=(r,i)=>lk(e,r,i);return Object.assign(n,e),n},uk=t=>t?i_(t):i_;var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ck=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,T=h&63;u||(T=64,o||(g=64)),r.push(n[f],n[m],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ck(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||m==null)throw new hk;const g=s<<2|l>>4;if(r.push(g),h!==64){const T=l<<4&240|h>>2;if(r.push(T),m!==64){const P=h<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dk=function(t){const e=cT(t);return hT.encodeByteArray(e,!0)},Oh=function(t){return dk(t).replace(/\./g,"")},dT=function(t){try{return hT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=()=>fk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof s_>"u")return;const t=s_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dT(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return pk()||mk()||gk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fT=t=>{var e,n;return(n=(e=wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vk=t=>{const e=fT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pT=()=>{var t;return(t=wd())===null||t===void 0?void 0:t.config},mT=t=>{var e;return(e=wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Ek(){var t;const e=(t=wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ik(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sk(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ak(){return!Ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ck(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Pk,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ci(i,l,r)}}function kk(t,e){return t.replace(bk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bk=/\{\$([^}]+)}/g;function Dk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(o_(s)&&o_(o)){if(!Lh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xk(t,e){const n=new Nk(t,e);return n.subscribe.bind(n)}class Nk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ok(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nf),i.error===void 0&&(i.error=Nf),i.complete===void 0&&(i.complete=Nf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ok(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vk(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mk(t){return t===Bs?void 0:t}function Vk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const Uk={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},jk=xe.INFO,$k={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Bk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$k[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=jk,this._logHandler=Bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const zk=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function Hk(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wk(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Up=new WeakMap,vT=new WeakMap,Of=new WeakMap,fg=new WeakMap;function qk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gT.set(n,t)}).catch(()=>{}),fg.set(e,t),e}function Kk(t){if(Up.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Up.set(t,e)}let jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gk(t){jp=t(jp)}function Qk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lf(this),e,...n);return vT.set(r,e.sort?e.sort():[e]),cs(r)}:Wk().includes(t)?function(...e){return t.apply(Lf(this),e),cs(gT.get(this))}:function(...e){return cs(t.apply(Lf(this),e))}}function Yk(t){return typeof t=="function"?Qk(t):(t instanceof IDBTransaction&&Kk(t),zk(t,Hk())?new Proxy(t,jp):t)}function cs(t){if(t instanceof IDBRequest)return qk(t);if(Of.has(t))return Of.get(t);const e=Yk(t);return e!==t&&(Of.set(t,e),fg.set(e,t)),e}const Lf=t=>fg.get(t);function Xk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Jk=["get","getKey","getAll","getAllKeys","count"],Zk=["put","add","delete","clear"],Mf=new Map;function u_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jk.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Mf.set(e,s),s}Gk(t=>({...t,get:(e,n,r)=>u_(e,n)||t.get(e,n,r),has:(e,n)=>!!u_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",c_="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new dg("@firebase/app"),nb="@firebase/app-compat",rb="@firebase/analytics-compat",ib="@firebase/analytics",sb="@firebase/app-check-compat",ob="@firebase/app-check",ab="@firebase/auth",lb="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/database-compat",hb="@firebase/functions",db="@firebase/functions-compat",fb="@firebase/installations",pb="@firebase/installations-compat",mb="@firebase/messaging",gb="@firebase/messaging-compat",vb="@firebase/performance",yb="@firebase/performance-compat",_b="@firebase/remote-config",wb="@firebase/remote-config-compat",Eb="@firebase/storage",Tb="@firebase/storage-compat",Ib="@firebase/firestore",Sb="@firebase/vertexai-preview",Ab="@firebase/firestore-compat",Cb="firebase",Rb="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",Pb={[$p]:"fire-core",[nb]:"fire-core-compat",[ib]:"fire-analytics",[rb]:"fire-analytics-compat",[ob]:"fire-app-check",[sb]:"fire-app-check-compat",[ab]:"fire-auth",[lb]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-rtdb-compat",[hb]:"fire-fn",[db]:"fire-fn-compat",[fb]:"fire-iid",[pb]:"fire-iid-compat",[mb]:"fire-fcm",[gb]:"fire-fcm-compat",[vb]:"fire-perf",[yb]:"fire-perf-compat",[_b]:"fire-rc",[wb]:"fire-rc-compat",[Eb]:"fire-gcs",[Tb]:"fire-gcs-compat",[Ib]:"fire-fst",[Ab]:"fire-fst-compat",[Sb]:"fire-vertex","fire-js":"fire-js",[Cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,kb=new Map,zp=new Map;function h_(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(zp.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(const n of Mh.values())h_(n,t);for(const n of kb.values())h_(n,t);return!0}function pg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new xu("app","Firebase",bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=Rb;function yT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hs.create("bad-app-name",{appName:String(i)});if(n||(n=pT()),!n)throw hs.create("no-options");const s=Mh.get(i);if(s){if(Lh(n,s.options)&&Lh(r,s.config))return s;throw hs.create("duplicate-app",{appName:i})}const o=new Fk(i);for(const u of zp.values())o.addComponent(u);const l=new Db(n,r,o);return Mh.set(i,l),l}function _T(t=Bp){const e=Mh.get(t);if(!e&&t===Bp&&pT())return yT();if(!e)throw hs.create("no-app",{appName:t});return e}function ds(t,e,n){var r;let i=(r=Pb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(l.join(" "));return}Ea(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebase-heartbeat-database",Nb=1,gu="firebase-heartbeat-store";let Vf=null;function wT(){return Vf||(Vf=Xk(xb,Nb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function Ob(t){try{const n=(await wT()).transaction(gu),r=await n.objectStore(gu).get(ET(t));return await n.done,r}catch(e){if(e instanceof Ci)ao.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ao.warn(n.message)}}}async function d_(t,e){try{const r=(await wT()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,ET(t)),await r.done}catch(n){if(n instanceof Ci)ao.warn(n.message);else{const r=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ao.warn(r.message)}}}function ET(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1024,Mb=30*24*60*60*1e3;class Vb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ub(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Mb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:r,unsentEntries:i}=Fb(this._heartbeatsCache.heartbeats),s=Oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function f_(){return new Date().toISOString().substring(0,10)}function Fb(t,e=Lb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),p_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ub{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ck()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ob(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p_(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){Ea(new oo("platform-logger",e=>new eb(e),"PRIVATE")),Ea(new oo("heartbeat",e=>new Vb(e),"PRIVATE")),ds($p,c_,t),ds($p,c_,"esm2017"),ds("fire-js","")}jb("");function mg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $b=TT,IT=new xu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new dg("@firebase/auth");function Bb(t,...e){Vh.logLevel<=xe.WARN&&Vh.warn(`Auth (${Ba}): ${t}`,...e)}function Zc(t,...e){Vh.logLevel<=xe.ERROR&&Vh.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw gg(t,...e)}function $r(t,...e){return gg(t,...e)}function ST(t,e,n){const r=Object.assign(Object.assign({},$b()),{[e]:n});return new xu("auth","Firebase",r).create(e,{appName:t.name})}function pi(t){return ST(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IT.create(t,...e)}function ge(t,e,...n){if(!t)throw gg(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zc(e),new Error(e)}function wi(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zb(){return m_()==="http:"||m_()==="https:"}function m_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zb()||Tk()||"connection"in navigator)?navigator.onLine:!0}function Wb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=wk()||Ik()}get(){return Hb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Ou(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ri(t,e,n,r,i={}){return CT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Nu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),AT.fetch()(RT(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function CT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qb),e);try{const i=new Qb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Oc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Oc(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ST(t,f,h);Ar(t,f)}}catch(i){if(i instanceof Ci)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function Lu(t,e,n,r,i={}){const s=await Ri(t,e,n,r,i);return"mfaPendingCredential"in s&&Ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function RT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vg(t.config,i):`${t.config.apiScheme}://${i}`}function Gb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),Kb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$r(t,e,r);return i.customData._tokenResponse=n,i}function g_(t){return t!==void 0&&t.enterprise!==void 0}class Yb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Xb(t,e){return Ri(t,"GET","/v2/recaptchaConfig",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t,e){return Ri(t,"POST","/v1/accounts:delete",e)}async function PT(t,e){return Ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zb(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=yg(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bl(Ff(i.auth_time)),issuedAtTime:Bl(Ff(i.iat)),expirationTime:Bl(Ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ff(t){return Number(t)*1e3}function yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const i=dT(n);return i?JSON.parse(i):(Zc("Failed to decode base64 JWT payload"),null)}catch(i){return Zc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v_(t){const e=yg(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&eD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ta(t,PT(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kT(s.providerUserInfo):[],l=rD(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function nD(t){const e=It(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kT(t){return t.map(e=>{var{providerId:n}=e,r=mg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){const n=await CT(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",AT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sD(t,e){return Ri(t,"POST","/v2/accounts:revokeToken",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=v_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new la;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ta(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zb(this,e)}reload(){return nD(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Ta(this,Jb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,h,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:C,emailVerified:V,isAnonymous:$,providerData:b,stsTokenManager:I}=n;ge(C&&I,e,"internal-error");const y=la.fromJSON(this.name,I);ge(typeof C=="string",e,"internal-error"),Bi(m,e.name),Bi(g,e.name),ge(typeof V=="boolean",e,"internal-error"),ge(typeof $=="boolean",e,"internal-error"),Bi(T,e.name),Bi(P,e.name),Bi(k,e.name),Bi(O,e.name),Bi(S,e.name),Bi(w,e.name);const E=new ci({uid:C,auth:e,email:g,emailVerified:V,displayName:m,isAnonymous:$,photoURL:P,phoneNumber:T,tenantId:k,stsTokenManager:y,createdAt:S,lastLoginAt:w});return b&&Array.isArray(b)&&(E.providerData=b.map(A=>Object.assign({},A))),O&&(E._redirectEventId=O),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new la;i.updateFromServerResponse(n);const s=new ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new la;l.updateFromIdToken(r);const u=new ci({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function hi(t){wi(t instanceof Function,"Expected a class definition");let e=y_.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bT.type="NONE";const __=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,s),this.fullPersistenceKey=eh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(hi(__),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||hi(__);const o=eh(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(o);if(f){const m=ci._fromJSON(e,f);h!==s&&(l=m),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ua(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ua(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(MT(e))return"Webos";if(_g(e))return"Safari";if((e.includes("chrome/")||xT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DT(t=Wt()){return/firefox\//i.test(t)}function _g(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xT(t=Wt()){return/crios\//i.test(t)}function NT(t=Wt()){return/iemobile/i.test(t)}function OT(t=Wt()){return/android/i.test(t)}function LT(t=Wt()){return/blackberry/i.test(t)}function MT(t=Wt()){return/webos/i.test(t)}function Ed(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oD(t=Wt()){var e;return Ed(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aD(){return Sk()&&document.documentMode===10}function VT(t=Wt()){return Ed(t)||OT(t)||MT(t)||LT(t)||/windows phone/i.test(t)||NT(t)}function lD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e=[]){let n;switch(t){case"Browser":n=w_(Wt());break;case"Worker":n=`${w_(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e={}){return Ri(t,"GET","/v2/passwordPolicy",As(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=6;class dD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new uD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await PT(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Wb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(pi(this));const n=e?It(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cD(this),n=new dD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Bb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _o(t){return It(t)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xk(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pD(t){Td=t}function UT(t){return Td.loadJS(t)}function mD(){return Td.recaptchaEnterpriseScript}function gD(){return Td.gapiScript}function vD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const yD="recaptcha-enterprise",_D="NO_RECAPTCHA";class wD{constructor(e){this.type=yD,this.auth=_o(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Xb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new Yb(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;g_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(_D)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&g_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=mD();u.length!==0&&(u+=l),UT(u).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function T_(t,e,n,r=!1){const i=new wD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await T_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await T_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){const n=pg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lh(s,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function TD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ID(t,e,n){const r=_o(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=jT(e),{host:o,port:l}=SD(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||AD()}function jT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SD(t){const e=jT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:I_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:I_(o)}}}function I_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function CD(t,e){return Ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return Lu(t,"POST","/v1/accounts:signInWithPassword",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return Lu(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}async function kD(t,e){return Lu(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends wg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,n,"signInWithPassword",RD);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,r,"signUpPassword",CD);case"emailLink":return kD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return Lu(t,"POST","/v1/accounts:signInWithIdp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class lo extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=mg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new lo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(t){const e=Rl(Pl(t)).link,n=e?Rl(Pl(e)).deep_link_id:null,r=Rl(Pl(t)).deep_link_id;return(r?Rl(Pl(r)).link:null)||r||n||e||t}class Eg{constructor(e){var n,r,i,s,o,l;const u=Rl(Pl(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,m=DD((i=u.mode)!==null&&i!==void 0?i:null);ge(h&&f&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=xD(e);try{return new Eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.providerId=za.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Eg.parseLink(n);return ge(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}za.PROVIDER_ID="password";za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Mu{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Mu{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Mu{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return Lu(t,"POST","/v1/accounts:signUp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ci._fromIdTokenResponse(e,r,i),o=S_(r);return new uo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=S_(r);return new uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function S_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Ci{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uh(e,n,r,i)}}function BT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,s,e,r):s})}async function OD(t,e,n=!1){const r=await Ta(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(pi(r));const i="reauthenticate";try{const s=await Ta(t,BT(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=yg(s.idToken);ge(o,r,"internal-error");const{sub:l}=o;return ge(t.uid===l,r,"user-mismatch"),uo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e,n=!1){if(Fr(t.app))return Promise.reject(pi(t));const r="signIn",i=await BT(t,r,e),s=await uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MD(t,e){return zT(_o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t){const e=_o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VD(t,e,n){if(Fr(t.app))return Promise.reject(pi(t));const r=_o(t),o=await qp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ND).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&HT(t),u}),l=await uo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function FD(t,e,n){return Fr(t.app)?Promise.reject(pi(t)):MD(It(t),za.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e){return Ri(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=It(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ta(r,UD(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function jD(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function $D(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function BD(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function zD(t){return It(t).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){const t=Wt();return _g(t)||Ed(t)}const WD=1e3,qD=10;class qT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HD()&&lD(),this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);aD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const KD=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const GT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),u=await GD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=Tg("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function YD(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function XD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZD(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",ex=1,$h="firebaseLocalStorage",XT="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sd(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function tx(){const t=indexedDB.deleteDatabase(YT);return new Vu(t).toPromise()}function Kp(){const t=indexedDB.open(YT,ex);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:XT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await tx(),e(await Kp()))})})}async function C_(t,e,n){const r=Sd(t,!0).put({[XT]:e,value:n});return new Vu(r).toPromise()}async function nx(t,e){const n=Sd(t,!1).get(e),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function R_(t,e){const n=Sd(t,!0).delete(e);return new Vu(n).toPromise()}const rx=800,ix=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ix)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new QD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await C_(e,jh,"1"),await R_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sd(i,!1).getAll();return new Vu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const sx=JT;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){return e?hi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ax(t){return zT(t.auth,new Ig(t),t.bypassAuthState)}function lx(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),LD(n,new Ig(t),t.bypassAuthState)}async function ux(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),OD(n,new Ig(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ax;case"linkViaPopup":case"linkViaRedirect":return ux;case"reauthViaPopup":case"reauthViaRedirect":return lx;default:Ar(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Ou(2e3,1e4);class ta extends ZT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cx.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="pendingRedirect",th=new Map;class dx extends ZT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await fx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fx(t,e){const n=gx(e),r=mx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function px(t,e){th.set(t._key(),e)}function mx(t){return hi(t._redirectPersistence)}function gx(t){return eh(hx,t.config.apiKey,t.name)}async function vx(t,e,n=!1){if(Fr(t.app))return Promise.reject(pi(t));const r=_o(t),i=ox(r,e),o=await new dx(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=10*60*1e3;class _x{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yx&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e={}){return Ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ix=/^https?/;async function Sx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ex(t);for(const n of e)try{if(Ax(n))return}catch{}Ar(t,"unauthorized-domain")}function Ax(t){const e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ix.test(n))return!1;if(Tx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Ou(3e4,6e4);function k_(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rx(t){return new Promise((e,n)=>{var r,i,s;function o(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),n($r(t,"network-request-failed"))},timeout:Cx.get()})}if(!((i=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Br().gapi)===null||s===void 0)&&s.load)o();else{const l=vD("iframefcb");return Br()[l]=()=>{gapi.load?o():n($r(t,"network-request-failed"))},UT(`${gD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw nh=null,e})}let nh=null;function Px(t){return nh=nh||Rx(t),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Ou(5e3,15e3),bx="__/auth/iframe",Dx="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ox(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vg(e,Dx):`https://${t.config.authDomain}/${bx}`,r={apiKey:e.apiKey,appName:t.name,v:Ba},i=Nx.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nu(r).slice(1)}`}async function Lx(t){const e=await Px(t),n=Br().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:Ox(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$r(t,"network-request-failed"),l=Br().setTimeout(()=>{s(o)},kx.get());function u(){Br().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vx=500,Fx=600,Ux="_blank",jx="http://localhost";class b_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $x(t,e,n,r=Vx,i=Fx){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Mx),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Wt().toLowerCase();n&&(l=xT(h)?Ux:n),DT(h)&&(e=e||jx,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[T,P])=>`${g}${T}=${P},`,"");if(oD(h)&&l!=="_self")return Bx(e||"",l),new b_(null);const m=window.open(e||"",l,f);ge(m,t,"popup-blocked");try{m.focus()}catch{}return new b_(m)}function Bx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="__/auth/handler",Hx="emulator/auth/handler",Wx=encodeURIComponent("fac");async function D_(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ba,eventId:i};if(e instanceof $T){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Dk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries(s||{}))o[f]=m}if(e instanceof Mu){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),h=u?`#${Wx}=${encodeURIComponent(u)}`:"";return`${qx(t)}?${Nu(l).slice(1)}${h}`}function qx({config:t}){return t.emulator?vg(t,Hx):`https://${t.authDomain}/${zx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="webStorageSupport";class Kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=vx,this._overrideRedirectResult=px}async _openPopup(e,n,r,i){var s;wi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await D_(e,n,r,Hp(),i);return $x(e,o,Tg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await D_(e,n,r,Hp(),i);return YD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lx(e),r=new _x(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uf,{type:Uf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uf];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VT()||_g()||Ed()}}const Gx=Kx;var x_="@firebase/auth",N_="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xx(t){Ea(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(t)},h=new fD(r,i,s,u);return TD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new oo("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(r=>new Qx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(x_,N_,Yx(t)),ds(x_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=5*60,Zx=mT("authIdTokenMaxAge")||Jx;let O_=null;const eN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zx)return;const i=n==null?void 0:n.token;O_!==i&&(O_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tN(t=_T()){const e=pg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ED(t,{popupRedirectResolver:Gx,persistence:[sx,KD,GT]}),r=mT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=eN(s.toString());$D(n,o,()=>o(n.currentUser)),jD(n,l=>o(l))}}const i=fT("auth");return i&&ID(n,`http://${i}`),n}function nN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$r("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xx("Browser");var rN="firebase",iN="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(rN,iN,"app");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,tI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,y){function E(){}E.prototype=y.prototype,I.D=y.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(A,D,M){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return y.prototype[D].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,E){E||(E=0);var A=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)A[D]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(D=0;16>D;++D)A[D]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=I.g[0],E=I.g[1],D=I.g[2];var M=I.g[3],R=y+(M^E&(D^M))+A[0]+3614090360&4294967295;y=E+(R<<7&4294967295|R>>>25),R=M+(D^y&(E^D))+A[1]+3905402710&4294967295,M=y+(R<<12&4294967295|R>>>20),R=D+(E^M&(y^E))+A[2]+606105819&4294967295,D=M+(R<<17&4294967295|R>>>15),R=E+(y^D&(M^y))+A[3]+3250441966&4294967295,E=D+(R<<22&4294967295|R>>>10),R=y+(M^E&(D^M))+A[4]+4118548399&4294967295,y=E+(R<<7&4294967295|R>>>25),R=M+(D^y&(E^D))+A[5]+1200080426&4294967295,M=y+(R<<12&4294967295|R>>>20),R=D+(E^M&(y^E))+A[6]+2821735955&4294967295,D=M+(R<<17&4294967295|R>>>15),R=E+(y^D&(M^y))+A[7]+4249261313&4294967295,E=D+(R<<22&4294967295|R>>>10),R=y+(M^E&(D^M))+A[8]+1770035416&4294967295,y=E+(R<<7&4294967295|R>>>25),R=M+(D^y&(E^D))+A[9]+2336552879&4294967295,M=y+(R<<12&4294967295|R>>>20),R=D+(E^M&(y^E))+A[10]+4294925233&4294967295,D=M+(R<<17&4294967295|R>>>15),R=E+(y^D&(M^y))+A[11]+2304563134&4294967295,E=D+(R<<22&4294967295|R>>>10),R=y+(M^E&(D^M))+A[12]+1804603682&4294967295,y=E+(R<<7&4294967295|R>>>25),R=M+(D^y&(E^D))+A[13]+4254626195&4294967295,M=y+(R<<12&4294967295|R>>>20),R=D+(E^M&(y^E))+A[14]+2792965006&4294967295,D=M+(R<<17&4294967295|R>>>15),R=E+(y^D&(M^y))+A[15]+1236535329&4294967295,E=D+(R<<22&4294967295|R>>>10),R=y+(D^M&(E^D))+A[1]+4129170786&4294967295,y=E+(R<<5&4294967295|R>>>27),R=M+(E^D&(y^E))+A[6]+3225465664&4294967295,M=y+(R<<9&4294967295|R>>>23),R=D+(y^E&(M^y))+A[11]+643717713&4294967295,D=M+(R<<14&4294967295|R>>>18),R=E+(M^y&(D^M))+A[0]+3921069994&4294967295,E=D+(R<<20&4294967295|R>>>12),R=y+(D^M&(E^D))+A[5]+3593408605&4294967295,y=E+(R<<5&4294967295|R>>>27),R=M+(E^D&(y^E))+A[10]+38016083&4294967295,M=y+(R<<9&4294967295|R>>>23),R=D+(y^E&(M^y))+A[15]+3634488961&4294967295,D=M+(R<<14&4294967295|R>>>18),R=E+(M^y&(D^M))+A[4]+3889429448&4294967295,E=D+(R<<20&4294967295|R>>>12),R=y+(D^M&(E^D))+A[9]+568446438&4294967295,y=E+(R<<5&4294967295|R>>>27),R=M+(E^D&(y^E))+A[14]+3275163606&4294967295,M=y+(R<<9&4294967295|R>>>23),R=D+(y^E&(M^y))+A[3]+4107603335&4294967295,D=M+(R<<14&4294967295|R>>>18),R=E+(M^y&(D^M))+A[8]+1163531501&4294967295,E=D+(R<<20&4294967295|R>>>12),R=y+(D^M&(E^D))+A[13]+2850285829&4294967295,y=E+(R<<5&4294967295|R>>>27),R=M+(E^D&(y^E))+A[2]+4243563512&4294967295,M=y+(R<<9&4294967295|R>>>23),R=D+(y^E&(M^y))+A[7]+1735328473&4294967295,D=M+(R<<14&4294967295|R>>>18),R=E+(M^y&(D^M))+A[12]+2368359562&4294967295,E=D+(R<<20&4294967295|R>>>12),R=y+(E^D^M)+A[5]+4294588738&4294967295,y=E+(R<<4&4294967295|R>>>28),R=M+(y^E^D)+A[8]+2272392833&4294967295,M=y+(R<<11&4294967295|R>>>21),R=D+(M^y^E)+A[11]+1839030562&4294967295,D=M+(R<<16&4294967295|R>>>16),R=E+(D^M^y)+A[14]+4259657740&4294967295,E=D+(R<<23&4294967295|R>>>9),R=y+(E^D^M)+A[1]+2763975236&4294967295,y=E+(R<<4&4294967295|R>>>28),R=M+(y^E^D)+A[4]+1272893353&4294967295,M=y+(R<<11&4294967295|R>>>21),R=D+(M^y^E)+A[7]+4139469664&4294967295,D=M+(R<<16&4294967295|R>>>16),R=E+(D^M^y)+A[10]+3200236656&4294967295,E=D+(R<<23&4294967295|R>>>9),R=y+(E^D^M)+A[13]+681279174&4294967295,y=E+(R<<4&4294967295|R>>>28),R=M+(y^E^D)+A[0]+3936430074&4294967295,M=y+(R<<11&4294967295|R>>>21),R=D+(M^y^E)+A[3]+3572445317&4294967295,D=M+(R<<16&4294967295|R>>>16),R=E+(D^M^y)+A[6]+76029189&4294967295,E=D+(R<<23&4294967295|R>>>9),R=y+(E^D^M)+A[9]+3654602809&4294967295,y=E+(R<<4&4294967295|R>>>28),R=M+(y^E^D)+A[12]+3873151461&4294967295,M=y+(R<<11&4294967295|R>>>21),R=D+(M^y^E)+A[15]+530742520&4294967295,D=M+(R<<16&4294967295|R>>>16),R=E+(D^M^y)+A[2]+3299628645&4294967295,E=D+(R<<23&4294967295|R>>>9),R=y+(D^(E|~M))+A[0]+4096336452&4294967295,y=E+(R<<6&4294967295|R>>>26),R=M+(E^(y|~D))+A[7]+1126891415&4294967295,M=y+(R<<10&4294967295|R>>>22),R=D+(y^(M|~E))+A[14]+2878612391&4294967295,D=M+(R<<15&4294967295|R>>>17),R=E+(M^(D|~y))+A[5]+4237533241&4294967295,E=D+(R<<21&4294967295|R>>>11),R=y+(D^(E|~M))+A[12]+1700485571&4294967295,y=E+(R<<6&4294967295|R>>>26),R=M+(E^(y|~D))+A[3]+2399980690&4294967295,M=y+(R<<10&4294967295|R>>>22),R=D+(y^(M|~E))+A[10]+4293915773&4294967295,D=M+(R<<15&4294967295|R>>>17),R=E+(M^(D|~y))+A[1]+2240044497&4294967295,E=D+(R<<21&4294967295|R>>>11),R=y+(D^(E|~M))+A[8]+1873313359&4294967295,y=E+(R<<6&4294967295|R>>>26),R=M+(E^(y|~D))+A[15]+4264355552&4294967295,M=y+(R<<10&4294967295|R>>>22),R=D+(y^(M|~E))+A[6]+2734768916&4294967295,D=M+(R<<15&4294967295|R>>>17),R=E+(M^(D|~y))+A[13]+1309151649&4294967295,E=D+(R<<21&4294967295|R>>>11),R=y+(D^(E|~M))+A[4]+4149444226&4294967295,y=E+(R<<6&4294967295|R>>>26),R=M+(E^(y|~D))+A[11]+3174756917&4294967295,M=y+(R<<10&4294967295|R>>>22),R=D+(y^(M|~E))+A[2]+718787259&4294967295,D=M+(R<<15&4294967295|R>>>17),R=E+(M^(D|~y))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var E=y-this.blockSize,A=this.B,D=this.h,M=0;M<y;){if(D==0)for(;M<=E;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<y;)if(A[D++]=I.charCodeAt(M++),D==this.blockSize){i(this,A),D=0;break}}else for(;M<y;)if(A[D++]=I[M++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var E=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=E&255,E/=256;for(this.u(I),I=Array(16),y=E=0;4>y;++y)for(var A=0;32>A;A+=8)I[E++]=this.g[y]>>>A&255;return I};function s(I,y){var E=l;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=y(I)}function o(I,y){this.h=y;for(var E=[],A=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;A&&M==y||(E[D]=M,A=!1)}this.g=E}var l={};function u(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return O(h(-I));for(var y=[],E=1,A=0;I>=E;A++)y[A]=I/E|0,E*=4294967296;return new o(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return O(f(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),A=m,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),R=parseInt(I.substring(D,D+M),y);8>M?(M=h(Math.pow(y,M)),A=A.j(M).add(h(R))):(A=A.j(E),A=A.add(h(R)))}return A}var m=u(0),g=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-O(this).m();for(var I=0,y=1,E=0;E<this.g.length;E++){var A=this.i(E);I+=(0<=A?A:4294967296+A)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(k(this))return"-"+O(this).toString(I);for(var y=h(Math.pow(I,6)),E=this,A="";;){var D=V(E,y).g;E=S(E,D.j(y));var M=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=D,P(E))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=S(this,I),k(I)?-1:P(I)?0:1};function O(I){for(var y=I.g.length,E=[],A=0;A<y;A++)E[A]=~I.g[A];return new o(E,~I.h).add(g)}t.abs=function(){return k(this)?O(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],A=0,D=0;D<=y;D++){var M=A+(this.i(D)&65535)+(I.i(D)&65535),R=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);A=R>>>16,M&=65535,R&=65535,E[D]=R<<16|M}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(I,y){return I.add(O(y))}t.j=function(I){if(P(this)||P(I))return m;if(k(this))return k(I)?O(this).j(O(I)):O(O(this).j(I));if(k(I))return O(this.j(O(I)));if(0>this.l(T)&&0>I.l(T))return h(this.m()*I.m());for(var y=this.g.length+I.g.length,E=[],A=0;A<2*y;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<I.g.length;D++){var M=this.i(A)>>>16,R=this.i(A)&65535,ve=I.i(D)>>>16,qe=I.i(D)&65535;E[2*A+2*D]+=R*qe,w(E,2*A+2*D),E[2*A+2*D+1]+=M*qe,w(E,2*A+2*D+1),E[2*A+2*D+1]+=R*ve,w(E,2*A+2*D+1),E[2*A+2*D+2]+=M*ve,w(E,2*A+2*D+2)}for(A=0;A<y;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=y;A<2*y;A++)E[A]=0;return new o(E,0)};function w(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function C(I,y){this.g=I,this.h=y}function V(I,y){if(P(y))throw Error("division by zero");if(P(I))return new C(m,m);if(k(I))return y=V(O(I),y),new C(O(y.g),O(y.h));if(k(y))return y=V(I,O(y)),new C(O(y.g),y.h);if(30<I.g.length){if(k(I)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var E=g,A=y;0>=A.l(I);)E=$(E),A=$(A);var D=b(E,1),M=b(A,1);for(A=b(A,2),E=b(E,2);!P(A);){var R=M.add(A);0>=R.l(I)&&(D=D.add(E),M=R),A=b(A,1),E=b(E,1)}return y=S(I,D.j(y)),new C(D,y)}for(D=m;0<=I.l(y);){for(E=Math.max(1,Math.floor(I.m()/y.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=h(E),R=M.j(y);k(R)||0<R.l(I);)E-=A,M=h(E),R=M.j(y);P(M)&&(M=g),D=D.add(M),I=S(I,R)}return new C(D,I)}t.A=function(I){return V(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)&I.i(A);return new o(E,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)|I.i(A);return new o(E,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)^I.i(A);return new o(E,this.h^I.h)};function $(I){for(var y=I.g.length+1,E=[],A=0;A<y;A++)E[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(E,I.h)}function b(I,y){var E=y>>5;y%=32;for(var A=I.g.length-E,D=[],M=0;M<A;M++)D[M]=0<y?I.i(M+E)>>>y|I.i(M+E+1)<<32-y:I.i(M+E);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Js=o}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nI,rI,kl,iI,rh,Gp,sI,oI,aI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var U=a[_];if(!(U in p))break e;p=p[U]}a=a[a.length-1],_=p[a],d=d(_),d!=_&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,_=!1,U={next:function(){if(!_&&p<a.length){var B=p++;return{value:d(B,a[B]),done:!1}}return _=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,p){return a.call.apply(a.bind,arguments)}function m(a,d,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,_),a.apply(d,U)}}return function(){return a.apply(d,arguments)}}function g(a,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function T(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function P(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,U,B){for(var X=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)X[Fe-2]=arguments[Fe];return d.prototype[U].apply(_,X)}}function k(a){const d=a.length;if(0<d){const p=Array(d);for(let _=0;_<d;_++)p[_]=a[_];return p}return[]}function O(a,d){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const U=a.length||0,B=_.length||0;a.length=U+B;for(let X=0;X<B;X++)a[U+X]=_[X]}else a.push(_)}}class S{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function w(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var $=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function b(a,d,p){for(const _ in a)d.call(p,a[_],_,a)}function I(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function y(a){const d={};for(const p in a)d[p]=a[p];return d}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,d){let p,_;for(let U=1;U<arguments.length;U++){_=arguments[U];for(p in _)a[p]=_[p];for(let B=0;B<E.length;B++)p=E[B],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function D(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function M(a){l.setTimeout(()=>{throw a},0)}function R(){var a=ae;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ve{constructor(){this.h=this.g=null}add(d,p){const _=qe.get();_.set(d,p),this.h?this.h.next=_:this.g=_,this.h=_}}var qe=new S(()=>new Ke,a=>a.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Z=!1,ae=new ve,he=()=>{const a=l.Promise.resolve(void 0);_e=()=>{a.then(Ce)}};var Ce=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(p){M(p)}var d=qe;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function Be(a,d){if(z.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if($){e:{try{V(d.nodeName);var U=!0;break e}catch{}U=!1}U||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Be.aa.h.call(this)}}P(Be,z);var Ge={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),St=0;function At(a,d,p,_,U){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!_,this.ha=U,this.key=++St,this.da=this.fa=!1}function Wn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function se(a){this.src=a,this.g={},this.h=0}se.prototype.add=function(a,d,p,_,U){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var X=qt(a,d,_,U);return-1<X?(d=a[X],p||(d.fa=!1)):(d=new At(d,this.src,B,!!_,U),d.fa=p,a.push(d)),d};function Xe(a,d){var p=d.type;if(p in a.g){var _=a.g[p],U=Array.prototype.indexOf.call(_,d,void 0),B;(B=0<=U)&&Array.prototype.splice.call(_,U,1),B&&(Wn(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function qt(a,d,p,_){for(var U=0;U<a.length;++U){var B=a[U];if(!B.da&&B.listener==d&&B.capture==!!p&&B.ha==_)return U}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Xr={};function Ct(a,d,p,_,U){if(_&&_.once)return pn(a,d,p,_,U);if(Array.isArray(d)){for(var B=0;B<d.length;B++)Ct(a,d[B],p,_,U);return null}return p=ar(p),a&&a[Qe]?a.K(d,p,h(_)?!!_.capture:!!_,U):Pr(a,d,p,!1,_,U)}function Pr(a,d,p,_,U,B){if(!d)throw Error("Invalid event type");var X=h(U)?!!U.capture:!!U,Fe=tn(a);if(Fe||(a[Rr]=Fe=new se(a)),p=Fe.add(d,p,_,X,B),p.proxy)return p;if(_=or(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)je||(U=X),U===void 0&&(U=!1),a.addEventListener(d.toString(),_,U);else if(a.attachEvent)a.attachEvent(Jr(d.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function or(){function a(p){return d.call(a.src,a.listener,p)}const d=ki;return a}function pn(a,d,p,_,U){if(Array.isArray(d)){for(var B=0;B<d.length;B++)pn(a,d[B],p,_,U);return null}return p=ar(p),a&&a[Qe]?a.L(d,p,h(_)?!!_.capture:!!_,U):Pr(a,d,p,!0,_,U)}function mn(a,d,p,_,U){if(Array.isArray(d))for(var B=0;B<d.length;B++)mn(a,d[B],p,_,U);else _=h(_)?!!_.capture:!!_,p=ar(p),a&&a[Qe]?(a=a.i,d=String(d).toString(),d in a.g&&(B=a.g[d],p=qt(B,p,_,U),-1<p&&(Wn(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete a.g[d],a.h--)))):a&&(a=tn(a))&&(d=a.g[d.toString()],a=-1,d&&(a=qt(d,p,_,U)),(p=-1<a?d[a]:null)&&qn(p))}function qn(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Qe])Xe(d.i,a);else{var p=a.type,_=a.proxy;d.removeEventListener?d.removeEventListener(p,_,a.capture):d.detachEvent?d.detachEvent(Jr(p),_):d.addListener&&d.removeListener&&d.removeListener(_),(p=tn(d))?(Xe(p,a),p.h==0&&(p.src=null,d[Rr]=null)):Wn(a)}}}function Jr(a){return a in Xr?Xr[a]:Xr[a]="on"+a}function ki(a,d){if(a.da)a=!0;else{d=new Be(d,this);var p=a.listener,_=a.ha||a.src;a.fa&&qn(a),a=p.call(_,d)}return a}function tn(a){return a=a[Rr],a instanceof se?a:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(a){return typeof a=="function"?a:(a[gn]||(a[gn]=function(d){return a.handleEvent(d)}),a[gn])}function We(){Te.call(this),this.i=new se(this),this.M=this,this.F=null}P(We,Te),We.prototype[Qe]=!0,We.prototype.removeEventListener=function(a,d,p,_){mn(this,a,d,p,_)};function Re(a,d){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=d.type||d,typeof d=="string")d=new z(d,a);else if(d instanceof z)d.target=d.target||a;else{var U=d;d=new z(_,a),A(d,U)}if(U=!0,p)for(var B=p.length-1;0<=B;B--){var X=d.g=p[B];U=Vt(X,_,!0,d)&&U}if(X=d.g=a,U=Vt(X,_,!0,d)&&U,U=Vt(X,_,!1,d)&&U,p)for(B=0;B<p.length;B++)X=d.g=p[B],U=Vt(X,_,!1,d)&&U}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],_=0;_<p.length;_++)Wn(p[_]);delete a.g[d],a.h--}}this.F=null},We.prototype.K=function(a,d,p,_){return this.i.add(String(a),d,!1,p,_)},We.prototype.L=function(a,d,p,_){return this.i.add(String(a),d,!0,p,_)};function Vt(a,d,p,_){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,B=0;B<d.length;++B){var X=d[B];if(X&&!X.da&&X.capture==p){var Fe=X.listener,yt=X.ha||X.src;X.fa&&Xe(a.i,X),U=Fe.call(yt,_)!==!1&&U}}return U&&!_.defaultPrevented}function lr(a,d,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function vn(a){a.g=lr(()=>{a.g=null,a.i&&(a.i=!1,vn(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class kr extends Te{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(a){Te.call(this),this.h=a,this.g={}}P(Rt,Te);var Ps=[];function Zr(a){b(a.g,function(d,p){this.g.hasOwnProperty(p)&&qn(d)},a),a.g={}}Rt.prototype.N=function(){Rt.aa.N.call(this),Zr(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=l.JSON.stringify,Qa=l.JSON.parse,To=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function br(){}br.prototype.h=null;function ks(a){return a.h||(a.h=a.i())}function Di(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){z.call(this,"d")}P(Kn,z);function xi(){z.call(this,"c")}P(xi,z);var kn={},Io=null;function ei(){return Io=Io||new We}kn.La="serverreachability";function Ni(a){z.call(this,kn.La,a)}P(Ni,z);function Gn(a){const d=ei();Re(d,new Ni(d))}kn.STAT_EVENT="statevent";function ur(a,d){z.call(this,kn.STAT_EVENT,a),this.stat=d}P(ur,z);function at(a){const d=ei();Re(d,new ur(d,a))}kn.Ma="timingevent";function L(a,d){z.call(this,kn.Ma,a),this.size=d}P(L,z);function F(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function j(){this.g=!0}j.prototype.xa=function(){this.g=!1};function H(a,d,p,_,U,B){a.info(function(){if(a.g)if(B)for(var X="",Fe=B.split("&"),yt=0;yt<Fe.length;yt++){var Ne=Fe[yt].split("=");if(1<Ne.length){var xt=Ne[0];Ne=Ne[1];var Nt=xt.split("_");X=2<=Nt.length&&Nt[1]=="type"?X+(xt+"="+Ne+"&"):X+(xt+"=redacted&")}}else X=null;else X=B;return"XMLHTTP REQ ("+_+") [attempt "+U+"]: "+d+`
`+p+`
`+X})}function te(a,d,p,_,U,B,X){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+U+"]: "+d+`
`+p+`
`+B+" "+X})}function ne(a,d,p,_){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+J(a,p)+(_?" "+_:"")})}function de(a,d){a.info(function(){return"TIMEOUT: "+d})}j.prototype.info=function(){};function J(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var U=_[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var X=1;X<U.length;X++)U[X]=""}}}}return bi(p)}catch{return d}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ce;function be(){}P(be,br),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ce=new be;function we(a,d,p,_){this.j=a,this.i=d,this.l=p,this.R=_||1,this.U=new Rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Se={},nt={};function Je(a,d,p){a.L=1,a.v=Ro(Qn(d)),a.m=p,a.P=!0,cr(a,null)}function cr(a,d){a.F=Date.now(),Dn(a),a.A=Qn(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),ec(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Le,a.g=Fi(a.j,p?d:null,!a.m),0<a.O&&(a.M=new kr(g(a.Y,a,a.g),a.O)),d=a.U,p=a.g,_=a.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ps[0]=U.toString()),U=Ps);for(var B=0;B<U.length;B++){var X=Ct(p,U[B],_||d.handleEvent,!1,d.h||d);if(!X)break;d.g[X.key]=X}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Gn(),H(a.i,a.u,a.A,a.l,a.R,a.m)}we.prototype.ca=function(a){a=a.target;const d=this.M;d&&fr(a)==3?d.j():this.Y(a)},we.prototype.Y=function(a){try{if(a==this.g)e:{const Nt=fr(this.g);var d=this.g.Ba();const Jn=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||Nt!=4||d==7||(d==8||0>=Jn?Gn(3):Gn(2)),Ft(this);var p=this.g.Z();this.X=p;t:if(bn(this)){var _=sc(this.g);a="";var U=_.length,B=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),xn(this);var X="";break t}this.h.i=new l.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,a+=this.h.i.decode(_[d],{stream:!(B&&d==U-1)});_.length=0,this.h.g+=a,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,te(this.i,this.u,this.A,this.l,this.R,Nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,yt=this.g;if((Fe=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Fe)){var Ne=Fe;break t}}Ne=null}if(p=Ne)ne(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nn(this,p);else{this.o=!1,this.s=3,at(12),yn(this),xn(this);break e}}if(this.P){p=!0;let Pt;for(;!this.J&&this.C<X.length;)if(Pt=Dr(this,X),Pt==nt){Nt==4&&(this.s=4,at(14),p=!1),ne(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Se){this.s=4,at(15),ne(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else ne(this.i,this.l,Pt,null),nn(this,Pt);if(bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||X.length!=0||this.h.h||(this.s=1,at(16),p=!1),this.o=this.o&&p,!p)ne(this.i,this.l,X,"[Invalid Chunked Response]"),yn(this),xn(this);else if(0<X.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),il(xt),xt.M=!0,at(11))}}else ne(this.i,this.l,X,null),nn(this,X);Nt==4&&yn(this),this.o&&!this.J&&(Nt==4?dc(this.j,this):(this.o=!1,Dn(this)))}else oc(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),yn(this),xn(this)}}}catch{}finally{}};function bn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Dr(a,d){var p=a.C,_=d.indexOf(`
`,p);return _==-1?nt:(p=Number(d.substring(p,_)),isNaN(p)?Se:(_+=1,_+p>d.length?nt:(d=d.slice(_,_+p),a.C=_+p,d)))}we.prototype.cancel=function(){this.J=!0,yn(this)};function Dn(a){a.S=Date.now()+a.I,hr(a,a.I)}function hr(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=F(g(a.ba,a),d)}function Ft(a){a.B&&(l.clearTimeout(a.B),a.B=null)}we.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(de(this.i,this.A),this.L!=2&&(Gn(),at(17)),yn(this),this.s=2,xn(this)):hr(this,this.S-a)};function xn(a){a.j.G==0||a.J||dc(a.j,a)}function yn(a){Ft(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Zr(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function nn(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||rn(p.h,a))){if(!a.K&&rn(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var U=_;if(U[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Do(p),ko(p);else break e;rl(p),at(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=F(g(p.Za,p),6e3));if(1>=ze(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Xn(p,11)}else if((a.K||p.g==a)&&Do(p),!w(d))for(U=p.Da.g.parse(d),d=0;d<U.length;d++){let Ne=U[d];if(p.T=Ne[0],Ne=Ne[1],p.G==2)if(Ne[0]=="c"){p.K=Ne[1],p.ia=Ne[2];const xt=Ne[3];xt!=null&&(p.la=xt,p.j.info("VER="+p.la));const Nt=Ne[4];Nt!=null&&(p.Aa=Nt,p.j.info("SVER="+p.Aa));const Jn=Ne[5];Jn!=null&&typeof Jn=="number"&&0<Jn&&(_=1.5*Jn,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Pt=a.g;if(Pt){const Lo=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var B=_.h;B.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Oi(B,B.h),B.h=null))}if(_.D){const al=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(_.ya=al,$e(_.I,_.D,al))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var X=a;if(_.qa=ol(_,_.J?_.ia:null,_.W),X.K){So(_.h,X);var Fe=X,yt=_.L;yt&&(Fe.I=yt),Fe.B&&(Ft(Fe),Dn(Fe)),_.g=X}else cc(_);0<p.i.length&&bo(p)}else Ne[0]!="stop"&&Ne[0]!="close"||Xn(p,7);else p.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Xn(p,7):tl(p):Ne[0]!="noop"&&p.l&&p.l.ta(Ne),p.v=0)}}Gn(4)}catch{}}var pe=class{constructor(a,d){this.g=a,this.map=d}};function Ye(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ze(a){return a.h?1:a.g?a.g.size:0}function rn(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Oi(a,d){a.g?a.g.add(d):a.h=d}function So(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ye.prototype.cancel=function(){if(this.i=qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function qu(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return k(a.i)}function Hd(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],p=a.length,_=0;_<p;_++)d.push(a[_]);return d}d=[],p=0;for(_ in a)d[p++]=a[_];return d}function Wd(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const _ in a)d[p++]=_;return d}}}function Ku(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=Wd(a),_=Hd(a),U=_.length,B=0;B<U;B++)d.call(void 0,_[B],p&&p[B],a)}var _n=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gu(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),U=null;if(0<=_){var B=a[p].substring(0,_);U=a[p].substring(_+1)}else B=a[p];d(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function xr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof xr){this.h=a.h,Ao(this,a.j),this.o=a.o,this.g=a.g,Co(this,a.s),this.l=a.l;var d=a.i,p=new Mi;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Ya(this,p),this.m=a.m}else a&&(d=String(a).match(_n))?(this.h=!1,Ao(this,d[1]||"",!0),this.o=bs(d[2]||""),this.g=bs(d[3]||"",!0),Co(this,d[4]),this.l=bs(d[5]||"",!0),Ya(this,d[6]||"",!0),this.m=bs(d[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}xr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Li(d,Qu,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Li(d,Qu,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Li(p,p.charAt(0)=="/"?Xu:Yu,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Li(p,Po)),a.join("")};function Qn(a){return new xr(a)}function Ao(a,d,p){a.j=p?bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Co(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Ya(a,d,p){d instanceof Mi?(a.i=d,tc(a.i,a.h)):(p||(d=Li(d,Ju)),a.i=new Mi(d,a.h))}function $e(a,d,p){a.i.set(d,p)}function Ro(a){return $e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Li(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,qd),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qd(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qu=/[#\/\?@]/g,Yu=/[#\?:]/g,Xu=/[#\?]/g,Ju=/[#\?@]/g,Po=/#/g;function Mi(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Yn(a){a.g||(a.g=new Map,a.h=0,a.i&&Gu(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Mi.prototype,t.add=function(a,d){Yn(this),this.i=null,a=ti(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function sn(a,d){Yn(a),d=ti(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Zu(a,d){return Yn(a),d=ti(a,d),a.g.has(d)}t.forEach=function(a,d){Yn(this),this.g.forEach(function(p,_){p.forEach(function(U){a.call(d,U,_,this)},this)},this)},t.na=function(){Yn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let _=0;_<d.length;_++){const U=a[_];for(let B=0;B<U.length;B++)p.push(d[_])}return p},t.V=function(a){Yn(this);let d=[];if(typeof a=="string")Zu(this,a)&&(d=d.concat(this.g.get(ti(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return Yn(this),this.i=null,a=ti(this,a),Zu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function ec(a,d,p){sn(a,d),0<p.length&&(a.i=null,a.g.set(ti(a,d),k(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var _=d[p];const B=encodeURIComponent(String(_)),X=this.V(_);for(_=0;_<X.length;_++){var U=B;X[_]!==""&&(U+="="+encodeURIComponent(String(X[_]))),a.push(U)}}return this.i=a.join("&")};function ti(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function tc(a,d){d&&!a.j&&(Yn(a),a.i=null,a.g.forEach(function(p,_){var U=_.toLowerCase();_!=U&&(sn(this,_),ec(this,U,p))},a)),a.j=d}function Kd(a,d){const p=new j;if(l.Image){const _=new Image;_.onload=T(Nr,p,"TestLoadImage: loaded",!0,d,_),_.onerror=T(Nr,p,"TestLoadImage: error",!1,d,_),_.onabort=T(Nr,p,"TestLoadImage: abort",!1,d,_),_.ontimeout=T(Nr,p,"TestLoadImage: timeout",!1,d,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else d(!1)}function Gd(a,d){const p=new j,_=new AbortController,U=setTimeout(()=>{_.abort(),Nr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:_.signal}).then(B=>{clearTimeout(U),B.ok?Nr(p,"TestPingServer: ok",!0,d):Nr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),Nr(p,"TestPingServer: error",!1,d)})}function Nr(a,d,p,_,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),_(p)}catch{}}function Qd(){this.g=new To}function Yd(a,d,p){const _=p||"";try{Ku(a,function(U,B){let X=U;h(U)&&(X=bi(U)),d.push(_+B+"="+encodeURIComponent(X))})}catch(U){throw d.push(_+"type="+encodeURIComponent("_badmap")),U}}function Ds(a){this.l=a.Ub||null,this.j=a.eb||!1}P(Ds,br),Ds.prototype.g=function(){return new xs(this.l,this.j)},Ds.prototype.i=function(a){return function(){return a}}({});function xs(a,d){We.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(xs,We),t=xs.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ns(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ni(this):Ns(this),this.readyState==3&&Xa(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ni(this))},t.Qa=function(a){this.g&&(this.response=a,ni(this))},t.ga=function(){this.g&&ni(this)};function ni(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ns(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function Ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function nc(a){let d="";return b(a,function(p,_){d+=_,d+=":",d+=p,d+=`\r
`}),d}function dr(a,d,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=nc(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):$e(a,d,p))}function Ve(a){We.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ve,We);var rc=/^https?$/i,Xd=["POST","PUT"];t=Ve.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=this.o?ks(this.o):ks(ce),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(B){Ja(this,B);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var U in _)p.set(U,_[U]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const B of _.keys())p.set(B,_.get(B));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),U=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Xd,d,void 0))||_||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of p)this.g.setRequestHeader(B,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ic(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){Ja(this,B)}};function Ja(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Za(a),Os(a)}function Za(a){a.A||(a.A=!0,Re(a,"complete"),Re(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Re(this,"complete"),Re(this,"abort"),Os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},t.bb=function(){el(this)};function el(a){if(a.h&&typeof o<"u"&&(!a.v[1]||fr(a)!=4||a.Z()!=2)){if(a.u&&fr(a)==4)lr(a.Ea,0,a);else if(Re(a,"readystatechange"),fr(a)==4){a.h=!1;try{const X=a.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var _;if(_=X===0){var U=String(a.D).match(_n)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),_=!rc.test(U?U.toLowerCase():"")}p=_}if(p)Re(a,"complete"),Re(a,"success");else{a.m=6;try{var B=2<fr(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",Za(a)}}finally{Os(a)}}}}function Os(a,d){if(a.g){ic(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Re(a,"ready");try{p.onreadystatechange=_}catch{}}}function ic(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function fr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Qa(d)}};function sc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(a){const d={};a=(a.g&&2<=fr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(w(a[_]))continue;var p=D(a[_]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=d[U]||[];d[U]=B,B.push(p)}I(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function ac(a){this.Aa=0,this.i=[],this.j=new j,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,a),this.cb=Vi("retryDelaySeedMs",1e4,a),this.Wa=Vi("forwardChannelMaxRetries",2,a),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(a&&a.concurrentRequestLimit),this.Da=new Qd,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,_){at(0),this.W=a,this.H=d||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=ol(this,null,this.W),bo(this)};function tl(a){if(lc(a),a.G==3){var d=a.U++,p=Qn(a.I);if($e(p,"SID",a.K),$e(p,"RID",d),$e(p,"TYPE","terminate"),Ls(a,p),d=new we(a,a.j,d),d.L=2,d.v=Ro(Qn(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=Fi(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Dn(d)}sl(a)}function ko(a){a.g&&(il(a),a.g.cancel(),a.g=null)}function lc(a){ko(a),a.u&&(l.clearTimeout(a.u),a.u=null),Do(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function bo(a){if(!mt(a.h)&&!a.s){a.s=!0;var d=a.Ga;_e||he(),Z||(_e(),Z=!0),ae.add(d,a),a.B=0}}function pr(a,d){return ze(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=F(g(a.Ga,a,d),xo(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const U=new we(this,this.j,a);let B=this.o;if(this.S&&(B?(B=y(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=uc(this,U,d),p=Qn(this.I),$e(p,"RID",a),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),Ls(this,p),B&&(this.O?d="headers="+encodeURIComponent(String(nc(B)))+"&"+d:this.m&&dr(p,this.m,B)),Oi(this.h,U),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",d),$e(p,"SID","null"),U.T=!0,Je(U,p,null)):Je(U,p,d),this.G=2}}else this.G==3&&(a?nl(this,a):this.i.length==0||mt(this.h)||nl(this))};function nl(a,d){var p;d?p=d.l:p=a.U++;const _=Qn(a.I);$e(_,"SID",a.K),$e(_,"RID",p),$e(_,"AID",a.T),Ls(a,_),a.m&&a.o&&dr(_,a.m,a.o),p=new we(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=uc(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Oi(a.h,p),Je(p,_,d)}function Ls(a,d){a.H&&b(a.H,function(p,_){$e(d,_,p)}),a.l&&Ku({},function(p,_){$e(d,_,p)})}function uc(a,d,p){p=Math.min(a.i.length,p);var _=a.l?g(a.l.Na,a.l,a):null;e:{var U=a.i;let B=-1;for(;;){const X=["count="+p];B==-1?0<p?(B=U[0].g,X.push("ofs="+B)):B=0:X.push("ofs="+B);let Fe=!0;for(let yt=0;yt<p;yt++){let Ne=U[yt].g;const xt=U[yt].map;if(Ne-=B,0>Ne)B=Math.max(0,U[yt].g-100),Fe=!1;else try{Yd(xt,X,"req"+Ne+"_")}catch{_&&_(xt)}}if(Fe){_=X.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,_}function cc(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;_e||he(),Z||(_e(),Z=!0),ae.add(d,a),a.v=0}}function rl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=F(g(a.Fa,a),xo(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=F(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ko(this),hc(this))};function il(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function hc(a){a.g=new we(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Qn(a.qa);$e(d,"RID","rpc"),$e(d,"SID",a.K),$e(d,"AID",a.T),$e(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&$e(d,"TO",a.ja),$e(d,"TYPE","xmlhttp"),Ls(a,d),a.m&&a.o&&dr(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ro(Qn(d)),p.m=null,p.P=!0,cr(p,a)}t.Za=function(){this.C!=null&&(this.C=null,ko(this),rl(this),at(19))};function Do(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function dc(a,d){var p=null;if(a.g==d){Do(a),il(a),a.g=null;var _=2}else if(rn(a.h,d))p=d.D,So(a.h,d),_=1;else return;if(a.G!=0){if(d.o)if(_==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var U=a.B;_=ei(),Re(_,new L(_,p)),bo(a)}else cc(a);else if(U=d.s,U==3||U==0&&0<d.X||!(_==1&&pr(a,d)||_==2&&rl(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),U){case 1:Xn(a,5);break;case 4:Xn(a,10);break;case 3:Xn(a,6);break;default:Xn(a,2)}}}function xo(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function Xn(a,d){if(a.j.info("Error code "+d),d==2){var p=g(a.fb,a),_=a.Xa;const U=!_;_=new xr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ao(_,"https"),Ro(_),U?Kd(_.toString(),p):Gd(_.toString(),p)}else at(2);a.G=0,a.l&&a.l.sa(d),sl(a),lc(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function sl(a){if(a.G=0,a.ka=[],a.l){const d=qu(a.h);(d.length!=0||a.i.length!=0)&&(O(a.ka,d),O(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function ol(a,d,p){var _=p instanceof xr?Qn(p):new xr(p);if(_.g!="")d&&(_.g=d+"."+_.g),Co(_,_.s);else{var U=l.location;_=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var B=new xr(null);_&&Ao(B,_),d&&(B.g=d),U&&Co(B,U),p&&(B.l=p),_=B}return p=a.D,d=a.ya,p&&d&&$e(_,p,d),$e(_,"VER",a.la),Ls(a,_),_}function Fi(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ve(new Ds({eb:p})):new Ve(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}t=No.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Oo(){}Oo.prototype.g=function(a,d){return new on(a,d)};function on(a,d){We.call(this),this.g=new ac(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!w(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!w(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ui(this)}P(on,We),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){tl(this.g)},on.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=bi(a),a=p);d.i.push(new pe(d.Ya++,a)),d.G==3&&bo(d)},on.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,on.aa.N.call(this)};function fc(a){Kn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}P(fc,Kn);function Or(){xi.call(this),this.status=1}P(Or,xi);function Ui(a){this.g=a}P(Ui,No),Ui.prototype.ua=function(){Re(this.g,"a")},Ui.prototype.ta=function(a){Re(this.g,new fc(a))},Ui.prototype.sa=function(a){Re(this.g,new Or)},Ui.prototype.ra=function(){Re(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,aI=function(){return new Oo},oI=function(){return ei()},sI=kn,Gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,rh=me,ue.COMPLETE="complete",iI=ue,Di.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",We.prototype.listen=We.prototype.K,kl=Di,rI=Ds,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,nI=Ve}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new dg("@firebase/firestore");function El(){return co.logLevel}function le(t,...e){if(co.logLevel<=xe.DEBUG){const n=e.map(Sg);co.debug(`Firestore (${Ha}): ${t}`,...n)}}function Ei(t,...e){if(co.logLevel<=xe.ERROR){const n=e.map(Sg);co.error(`Firestore (${Ha}): ${t}`,...n)}}function Ia(t,...e){if(co.logLevel<=xe.WARN){const n=e.map(Sg);co.warn(`Firestore (${Ha}): ${t}`,...n)}}function Sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function tt(t,e){t||ye()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aN{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string"),new lI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new Yt(e)}}class lN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new cN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Dt(0,0))}static max(){return new Ee(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends yu{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends yu{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return fN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(it.fromString(e))}static fromName(e){return new fe(it.fromString(e).popFirst(5))}static empty(){return new fe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new it(e.slice()))}}function pN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new vs(i,fe.empty(),e)}function mN(t){return new vs(t.readTime,t.key,-1)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(Ee.min(),fe.empty(),-1)}static max(){return new vs(Ee.max(),fe.empty(),-1)}}function gN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==vN)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _N(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ag.oe=-1;function Ad(t){return t==null}function Bh(t){return t===0&&1/t==-1/0}function wN(t){return typeof t=="number"&&Number.isInteger(t)&&!Bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new zt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hI("Invalid base64 string: "+s):s}}(e);return new en(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const EN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(tt(!!t),typeof t=="string"){let e=0;const n=EN.exec(t);if(tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rg(t){const e=t.mapValue.fields.__previous_value__;return Cg(e)?Rg(e):e}function _u(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,i,s,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class wu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cg(t)?4:IN(t)?9007199254740991:10:ye()}function Kr(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ys(i.timestampValue),l=ys(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ho(i.bytesValue).isEqual(ho(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wt(i.doubleValue),l=wt(s.doubleValue);return o===l?Bh(o)===Bh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(V_(o)!==V_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Kr(o[u],l[u])))return!1;return!0}(t,e);default:return ye()}}function Eu(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=wt(s.integerValue||s.doubleValue),u=wt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return U_(t.timestampValue,e.timestampValue);case 4:return U_(_u(t),_u(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ho(s),u=ho(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Ue(l[h],u[h]);if(f!==0)return f}return Ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ue(wt(s.latitude),wt(o.latitude));return l!==0?l:Ue(wt(s.longitude),wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=Aa(l[h],u[h]);if(f)return f}return Ue(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Vc.mapValue&&o===Vc.mapValue)return 0;if(s===Vc.mapValue)return 1;if(o===Vc.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Ue(u[m],f[m]);if(g!==0)return g;const T=Aa(l[u[m]],h[f[m]]);if(T!==0)return T}return Ue(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ye()}}function U_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ys(t),r=ys(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function Ca(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qp(n.fields[o])}`;return i+"}"}(t.mapValue):ye()}function j_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yp(t){return!!t&&"integerValue"in t}function Pg(t){return!!t&&"arrayValue"in t}function $_(t){return!!t&&"nullValue"in t}function B_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=zl(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tn(zl(this.value))}}function dI(t){const e=[];return wo(t.fields,(n,r)=>{const i=new $t([n]);if(ih(r)){const s=dI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ee.min(),Ee.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ee.min(),Ee.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function z_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Aa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function SN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{}class Tt extends fI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CN(e,n,r):n==="array-contains"?new kN(e,r):n==="in"?new bN(e,r):n==="not-in"?new DN(e,r):n==="array-contains-any"?new xN(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RN(e,r):new PN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Aa(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends fI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Cr(e,n)}matches(e){return pI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pI(t){return t.op==="and"}function mI(t){return AN(t)&&pI(t)}function AN(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function Xp(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Ca(t.value);if(mI(t))return t.filters.map(e=>Xp(e)).join(",");{const e=t.filters.map(n=>Xp(n)).join(",");return`${t.op}(${e})`}}function gI(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)}(t,e):t instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&gI(o,i.filters[l]),!0):!1}(t,e):void ye()}function vI(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ca(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(vI).join(" ,")+"}"}(t):"Filter"}class CN extends Tt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class RN extends Tt{constructor(e,n){super(e,"in",n),this.keys=yI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PN extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=yI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class kN extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&Eu(n.arrayValue,this.value)}}class bN extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class DN extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eu(this.value.arrayValue,n)}}class xN extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function W_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new NN(t,e,n,r,i,s,o)}function kg(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ca(r)).join(",")),e.ue=n}return e.ue}function bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H_(t.startAt,e.startAt)&&H_(t.endAt,e.endAt)}function Jp(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ON(t,e,n,r,i,s,o,l){return new Wa(t,e,n,r,i,s,o,l)}function Dg(t){return new Wa(t)}function q_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _I(t){return t.collectionGroup!==null}function Hl(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new zt($t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tu(s,r))}),n.has($t.keyField().canonicalString())||e.ce.push(new Tu($t.keyField(),r))}return e.ce}function zr(t){const e=Ie(t);return e.le||(e.le=LN(e,Hl(t))),e.le}function LN(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tu(i.field,s)});const n=t.endAt?new zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zh(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e){const n=t.filters.concat([e]);return new Wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hh(t,e,n){return new Wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cd(t,e){return bg(zr(t),zr(e))&&t.limitType===e.limitType}function wI(t){return`${kg(zr(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vI(i)).join(", ")}]`),Ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ca(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=z_(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Hl(r),i)||r.endAt&&!function(o,l,u){const h=z_(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Hl(r),i))}(t,e)}function MN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EI(t){return(e,n)=>{let r=!1;for(const i of Hl(t)){const s=VN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VN(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Aa(u,h):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new ft(fe.comparator);function Ti(){return FN}const TI=new ft(fe.comparator);function bl(...t){let e=TI;for(const n of t)e=e.insert(n.key,n);return e}function II(t){let e=TI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return Wl()}function SI(){return Wl()}function Wl(){return new qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const UN=new ft(fe.comparator),jN=new zt(fe.comparator);function Pe(...t){let e=jN;for(const n of t)e=e.add(n);return e}const $N=new zt(Ue);function BN(){return $N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function zN(t,e){return wN(e)?CI(e):AI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function HN(t,e,n){return t instanceof Iu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cg(s)&&(s=Rg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Su?PI(t,e):t instanceof Au?kI(t,e):function(i,s){const o=RI(i,s),l=K_(o)+K_(i.Pe);return Yp(o)&&Yp(i.Pe)?CI(l):AI(i.serializer,l)}(t,e)}function WN(t,e,n){return t instanceof Su?PI(t,e):t instanceof Au?kI(t,e):n}function RI(t,e){return t instanceof Wh?function(r){return Yp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Iu extends Pd{}class Su extends Pd{constructor(e){super(),this.elements=e}}function PI(t,e){const n=bI(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Au extends Pd{constructor(e){super(),this.elements=e}}function kI(t,e){let n=bI(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class Wh extends Pd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function K_(t){return wt(t.integerValue||t.doubleValue)}function bI(t){return Pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.field=e,this.transform=n}}function KN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Su&&i instanceof Su||r instanceof Au&&i instanceof Au?Sa(r.elements,i.elements,Kr):r instanceof Wh&&i instanceof Wh?Kr(r.Pe,i.Pe):r instanceof Iu&&i instanceof Iu}(t.transform,e.transform)}class GN{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function DI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NI(t.key,Hr.none()):new ju(t.key,t.data,Hr.none());{const n=t.data,r=Tn.empty();let i=new zt($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cs(t.key,r,new Vn(i.toArray()),Hr.none())}}function QN(t,e,n){t instanceof ju?function(i,s,o){const l=i.value.clone(),u=Q_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Cs?function(i,s,o){if(!sh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Q_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(xI(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof ju?function(s,o,l,u){if(!sh(s.precondition,o))return l;const h=s.value.clone(),f=Y_(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cs?function(s,o,l,u){if(!sh(s.precondition,o))return l;const h=Y_(s.fieldTransforms,u,o),f=o.data;return f.setAll(xI(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return sh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function YN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RI(r.transform,i||null);s!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,s))}return n||null}function G_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sa(r,i,(s,o)=>KN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends kd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends kd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Q_(t,e,n){const r=new Map;tt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,WN(o,l,n[i]))}return r}function Y_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,HN(s,o,e))}return r}class NI extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XN extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&QN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=DI(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>G_(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>G_(n,r))}}class xg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){tt(e.mutations.length===r.length);let i=function(){return UN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Oe;function tO(t){switch(t){default:return ye();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function OI(t){if(t===void 0)return Ei("GRPC error has no .code"),K.UNKNOWN;switch(t){case _t.OK:return K.OK;case _t.CANCELLED:return K.CANCELLED;case _t.UNKNOWN:return K.UNKNOWN;case _t.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case _t.INTERNAL:return K.INTERNAL;case _t.UNAVAILABLE:return K.UNAVAILABLE;case _t.UNAUTHENTICATED:return K.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case _t.NOT_FOUND:return K.NOT_FOUND;case _t.ALREADY_EXISTS:return K.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return K.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case _t.ABORTED:return K.ABORTED;case _t.OUT_OF_RANGE:return K.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return K.UNIMPLEMENTED;case _t.DATA_LOSS:return K.DATA_LOSS;default:return ye()}}(Oe=_t||(_t={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Js([4294967295,4294967295],0);function X_(t){const e=nO().encode(t),n=new tI;return n.update(e),new Uint8Array(n.digest())}function J_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Js([n,r],0),new Js([i,s],0)]}class Ng{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Js.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Js.fromNumber(r)));return i.compare(rO)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X_(e),[r,i]=J_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ng(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=X_(e),[r,i]=J_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bd(Ee.min(),i,new ft(Ue),Ti(),Pe())}}class $u{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $u(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LI{constructor(e,n){this.targetId=e,this.me=n}}class MI{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Z_{constructor(){this.fe=0,this.ge=tw(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new $u(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=tw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ti(),this.qe=ew(),this.Qe=new ft(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Jp(s))if(r===0){const o=new fe(s.path);this.Ue(n,o,Jt.newNoDocument(o,Ee.min()))}else tt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ho(r).toUint8Array()}catch(u){if(u instanceof hI)return Ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Ng(o,i,s)}catch(u){return Ia(u instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Jp(l.target)){const u=new fe(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Jt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Pe();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new bd(e,n,this.Qe,this.ke,r);return this.ke=Ti(),this.qe=ew(),this.Qe=new ft(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Z_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Z_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ew(){return new ft(fe.comparator)}function tw(){return new ft(fe.comparator)}const sO={asc:"ASCENDING",desc:"DESCENDING"},oO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aO={and:"AND",or:"OR"};class lO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uO(t,e){return qh(t,e.toTimestamp())}function Wr(t){return tt(!!t),Ee.fromTimestamp(function(n){const r=ys(n);return new Dt(r.seconds,r.nanos)}(t))}function Og(t,e){return tm(t,e).canonicalString()}function tm(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FI(t){const e=it.fromString(t);return tt(zI(e)),e}function nm(t,e){return Og(t.databaseId,e.path)}function jf(t,e){const n=FI(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(jI(n))}function UI(t,e){return Og(t.databaseId,e)}function cO(t){const e=FI(t);return e.length===4?it.emptyPath():jI(e)}function rm(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jI(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nw(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function hO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(tt(f===void 0||typeof f=="string"),en.fromBase64String(f||"")):(tt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),en.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?K.UNKNOWN:OI(h.code);return new ie(f,h.message||"")}(o);n=new MI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jf(t,r.document.name),s=Wr(r.document.updateTime),o=r.document.createTime?Wr(r.document.createTime):Ee.min(),l=new Tn({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new oh(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jf(t,r.document),s=r.readTime?Wr(r.readTime):Ee.min(),o=Jt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new oh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jf(t,r.document),s=r.removedTargetIds||[];n=new oh([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new eO(i,s),l=r.targetId;n=new LI(l,o)}}return n}function dO(t,e){let n;if(e instanceof ju)n={update:nw(t,e.key,e.value)};else if(e instanceof NI)n={delete:nm(t,e.key)};else if(e instanceof Cs)n={update:nw(t,e.key,e.data),updateMask:EO(e.fieldMask)};else{if(!(e instanceof XN))return ye();n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Iu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Au)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Wh)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),n}function fO(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wr(i.updateTime):Wr(s);return o.isEqual(Ee.min())&&(o=Wr(s)),new GN(o,i.transformResults||[])}(n,e))):[]}function pO(t,e){return{documents:[UI(t,e.path)]}}function mO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,i);const s=function(h){if(h.length!==0)return BI(Cr.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:Uo(g.field),direction:yO(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=em(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function gO(t){let e=cO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=$I(m);return g instanceof Cr&&mI(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(P){return new Tu(jo(P.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Ad(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,T=m.values||[];return new zh(T,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,T=m.values||[];return new zh(T,g)}(n.endAt)),ON(e,i,o,s,l,"F",u,h)}function vO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $I(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jo(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jo(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jo(n.unaryFilter.field);return Tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jo(n.unaryFilter.field);return Tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>$I(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function yO(t){return sO[t]}function _O(t){return oO[t]}function wO(t){return aO[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function jo(t){return $t.fromServerFormat(t.fieldPath)}function BI(t){return t instanceof Tt?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:_O(n.op),value:n.value}}}(t):t instanceof Cr?function(n){const r=n.getFilters().map(i=>BI(i));return r.length===1?r[0]:{compositeFilter:{op:wO(n.op),filters:r}}}(t):ye()}function EO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r,i,s=Ee.min(),o=Ee.min(),l=en.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.ct=e}}function IO(t){const e=gO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._n=new AO}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(vs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class AO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zt(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ra(0)}static Ln(){return new Ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ql(r.mutation,i,Vn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=Qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bl();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Ti();const o=Wl(),l=function(){return Wl()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Cs)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),ql(f.mutation,h,f.mutation.getFieldMask(),Dt.now())):o.set(h.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var m;return l.set(h,new RO(f,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Wl();let i=new ft((o,l)=>o-l),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||Vn.empty();f=l.applyToLocalView(h,f),r.set(u,f);const m=(i.get(l.batchId)||Pe()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,m=SI();f.forEach(g=>{if(!s.has(g)){const T=DI(n.get(g),r.get(g));T!==null&&m.set(g,T),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Qs());let l=-1,u=s;return o.next(h=>Q.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?Q.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Pe())).next(f=>({batchId:l,changes:II(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bl();return this.indexManager.getCollectionParents(e,s).next(l=>Q.forEach(l,u=>{const h=function(m,g){return new Wa(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Jt.newInvalidDocument(f)))});let l=bl();return o.forEach((u,h)=>{const f=s.get(u);f!==void 0&&ql(f.mutation,h,Vn.empty(),Dt.now()),Rd(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:IO(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.overlays=new ft(fe.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Qs(),s=n.length+1,o=new fe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ft((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=Qs(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Qs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return Q.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZN(n,r));let s=this.hr.get(n);s===void 0&&(s=Pe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.Pr=new zt(Ot.Ir),this.Tr=new zt(Ot.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ot(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new fe(new it([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new fe(new it([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=Pe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return fe.comparator(e.key,n.key)||Ue(e.pr,n.pr)}static Er(e,n){return Ue(e.pr,n.pr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new zt(Ot.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JN(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new Ot(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(Ue);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),Q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new fe(s),0);let l=new zt(Ue);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},o),Q.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){tt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Q.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.wr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.vr=e,this.docs=function(){return new ft(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ti();const o=n.path,l=new fe(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||gN(mN(f),r)<=0||(i.has(f.key)||Rd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ye()}Fr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NO(this)}getSize(e){return Q.resolve(this.size)}}class NO extends CO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.persistence=e,this.Mr=new qa(n=>kg(n),bg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Lg,this.targetCount=0,this.Lr=Ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ag(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new OO(this),this.indexManager=new SO,this.remoteDocumentCache=function(i){return new xO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new TO(n),this.$r=new kO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new DO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new MO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class MO extends yN{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.zr=new Lg,this.jr=null}static Hr(e){return new Mg(e)}get Jr(){if(this.jr)return this.jr;throw ye()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,r=>{const i=fe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ak()?8:_N(Wt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new VO;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(El()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(El()<=xe.DEBUG&&le("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(El()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):Q.resolve())}ji(e,n){if(q_(n))return Q.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hh(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Pe(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,o,u.readTime)?this.ji(e,Hh(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return q_(n)||i.isEqual(Ee.min())?Q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Q.resolve(null):(El()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fo(n)),this.es(e,o,n,pN(i,-1)).next(l=>l))})}Zi(e,n){let r=new zt(EI(e));return n.forEach((i,s)=>{Rd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return El()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.zi.getDocumentsMatchingQuery(e,n,vs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ft(Ue),this.rs=new qa(s=>kg(s),bg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function jO(t,e,n,r){return new UO(t,e,n,r)}async function HI(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Pe();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:o,addedBatchIds:l}))})})}function $O(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const m=h.batch,g=m.keys();let T=Q.resolve();return g.forEach(P=>{T=T.next(()=>f.getEntry(u,P)).next(k=>{const O=h.docVersions.get(P);tt(O!==null),k.version.compareTo(O)<0&&(m.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),f.addEntry(k)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Pe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WI(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function BO(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,m)));let T=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(en.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(m,T),function(k,O,S){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,T,f)&&l.push(n.Qr.updateTargetData(s,T))});let u=Ti(),h=Pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(zO(s,o,e.documentUpdates).next(f=>{u=f.cs,h=f.ls})),!r.isEqual(Ee.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return Q.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.ns=i,s))}function zO(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ti();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ee.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:o,ls:i}})}function HO(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WO(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function im(t,e,n){const r=Ie(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Uu(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function rw(t,e,n){const r=Ie(t);let i=Ee.min(),s=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const m=Ie(u),g=m.rs.get(f);return g!==void 0?Q.resolve(m.ns.get(g)):m.Qr.getTargetData(h,f)}(r,o,zr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ee.min(),n?s:Pe())).next(l=>(qO(r,MN(e),l),{documents:l,hs:s})))}function qO(t,e,n){let r=t.ss.get(e)||Ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class iw{constructor(){this.activeTargetIds=BN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KO{constructor(){this.no=new iw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new iw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function $f(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class XO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=$f(),u=this.vo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,s,o),this.Mo(n,u,h,i).then(f=>(le("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Ia("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=QO[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=$f();return new Promise((o,l)=>{const u=new nI;u.setWithCredentials(!0),u.listenOnce(iI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rh.NO_ERROR:const f=u.getResponseJson();le(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case rh.TIMEOUT:le(Qt,`RPC '${e}' ${s} timed out`),l(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const m=u.getStatus();if(le(Qt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const P=function(O){const S=O.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(T.status);l(new ie(P,T.message))}else l(new ie(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie(K.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{le(Qt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);le(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=$f(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aI(),l=oI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new rI({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");le(Qt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);let g=!1,T=!1;const P=new YO({lo:O=>{T?le(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(g||(le(Qt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),le(Qt,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},ho:()=>m.close()}),k=(O,S,w)=>{O.listen(S,C=>{try{w(C)}catch(V){setTimeout(()=>{throw V},0)}})};return k(m,kl.EventType.OPEN,()=>{T||(le(Qt,`RPC '${e}' stream ${i} transport opened.`),P.mo())}),k(m,kl.EventType.CLOSE,()=>{T||(T=!0,le(Qt,`RPC '${e}' stream ${i} transport closed`),P.po())}),k(m,kl.EventType.ERROR,O=>{T||(T=!0,Ia(Qt,`RPC '${e}' stream ${i} transport errored:`,O),P.po(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),k(m,kl.EventType.MESSAGE,O=>{var S;if(!T){const w=O.data[0];tt(!!w);const C=w,V=C.error||((S=C[0])===null||S===void 0?void 0:S.error);if(V){le(Qt,`RPC '${e}' stream ${i} received error:`,V);const $=V.status;let b=function(E){const A=_t[E];if(A!==void 0)return OI(A)}($),I=V.message;b===void 0&&(b=K.INTERNAL,I="Unknown error status: "+$+" with message "+V.message),T=!0,P.po(new ie(b,I)),m.close()}else le(Qt,`RPC '${e}' stream ${i} received:`,w),P.yo(w)}}),k(l,sI.STAT_EVENT,O=>{O.stat===Gp.PROXY?le(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Gp.NOPROXY&&le(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){return new lO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,s,o,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new qI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ie(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JO extends KI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=hO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Wr(o.readTime):Ee.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Jp(u)?{documents:pO(s,u)}:{query:mO(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=VI(s,o.resumeToken);const h=em(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ee.min())>0){l.readTime=qh(s,o.snapshotVersion.toTimestamp());const h=em(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=vO(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.i_(n)}}class ZO extends KI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=fO(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.A_(r,n)}return tt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=rm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dO(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,tm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(K.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,tm(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(K.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class tL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ei(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Eo(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=Ie(u);h.M_.add(4),await Bu(h),h.N_.set("Unknown"),h.M_.delete(4),await xd(h)}(this))})}),this.N_=new tL(r,i)}}async function xd(t){if(Eo(t))for(const e of t.x_)await e(!0)}async function Bu(t){for(const e of t.x_)await e(!1)}function GI(t,e){const n=Ie(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),$g(n)?jg(n):Ka(n).Xo()&&Ug(n,e))}function Fg(t,e){const n=Ie(t),r=Ka(n);n.F_.delete(e),r.Xo()&&QI(n,e),n.F_.size===0&&(r.Xo()?r.n_():Eo(n)&&n.N_.set("Unknown"))}function Ug(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).P_(e)}function QI(t,e){t.L_.xe(e),Ka(t).I_(e)}function jg(t){t.L_=new iO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.N_.w_()}function $g(t){return Eo(t)&&!Ka(t).Zo()&&t.F_.size>0}function Eo(t){return Ie(t).M_.size===0}function YI(t){t.L_=void 0}async function rL(t){t.N_.set("Online")}async function iL(t){t.F_.forEach((e,n)=>{Ug(t,e)})}async function sL(t,e){YI(t),$g(t)?(t.N_.D_(e),jg(t)):t.N_.set("Unknown")}async function oL(t,e,n){if(t.N_.set("Online"),e instanceof MI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kh(t,r)}else if(e instanceof oh?t.L_.Ke(e):e instanceof LI?t.L_.He(e):t.L_.We(e),!n.isEqual(Ee.min()))try{const r=await WI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.F_.get(h);f&&s.F_.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=s.F_.get(u);if(!f)return;s.F_.set(u,f.withResumeToken(en.EMPTY_BYTE_STRING,f.snapshotVersion)),QI(s,u);const m=new ts(f.target,u,h,f.sequenceNumber);Ug(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Kh(t,r)}}async function Kh(t,e,n){if(!Uu(e))throw e;t.M_.add(1),await Bu(t),t.N_.set("Offline"),n||(n=()=>WI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await xd(t)})}function XI(t,e){return e().catch(n=>Kh(t,n,e))}async function Nd(t){const e=Ie(t),n=_s(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;aL(e);)try{const i=await HO(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,lL(e,i)}catch(i){await Kh(e,i)}JI(e)&&ZI(e)}function aL(t){return Eo(t)&&t.v_.length<10}function lL(t,e){t.v_.push(e);const n=_s(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function JI(t){return Eo(t)&&!_s(t).Zo()&&t.v_.length>0}function ZI(t){_s(t).start()}async function uL(t){_s(t).V_()}async function cL(t){const e=_s(t);for(const n of t.v_)e.d_(n.mutations)}async function hL(t,e,n){const r=t.v_.shift(),i=xg.from(r,e,n);await XI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nd(t)}async function dL(t,e){e&&_s(t).E_&&await async function(r,i){if(function(o){return tO(o)&&o!==K.ABORTED}(i.code)){const s=r.v_.shift();_s(r).t_(),await XI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nd(r)}}(t,e),JI(t)&&ZI(t)}async function ow(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Eo(n);n.M_.add(3),await Bu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await xd(n)}async function fL(t,e){const n=Ie(t);e?(n.M_.delete(2),await xd(n)):e||(n.M_.add(2),await Bu(n),n.N_.set("Unknown"))}function Ka(t){return t.B_||(t.B_=function(n,r,i){const s=Ie(n);return s.f_(),new JO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:rL.bind(null,t),To:iL.bind(null,t),Ao:sL.bind(null,t),h_:oL.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),$g(t)?jg(t):t.N_.set("Unknown")):(await t.B_.stop(),YI(t))})),t.B_}function _s(t){return t.k_||(t.k_=function(n,r,i){const s=Ie(n);return s.f_(),new ZO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:uL.bind(null,t),Ao:dL.bind(null,t),R_:cL.bind(null,t),A_:hL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Nd(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Bg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Uu(t))return new ie(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new ha(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.q_=new ft(fe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ye():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,i,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Pa(e,n,ha.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class mL{constructor(){this.queries=new qa(e=>wI(e),Cd),this.onlineState="Unknown",this.z_=new Set}}async function eS(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new pL,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=zg(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Hg(n)}async function tS(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gL(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&Hg(n)}function vL(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Hg(t){t.z_.forEach(e=>{e.next()})}var sm,lw;(lw=sm||(sm={})).J_="default",lw.Cache="cache";class nS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class yL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Pe(),this.mutatedKeys=Pe(),this.Ia=EI(e),this.Ta=new ha(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new aw,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),T=Rd(this.query,m)?m:null,P=!!g&&this.mutatedKeys.has(g.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let O=!1;g&&T?g.data.isEqual(T.data)?P!==k&&(r.track({type:3,doc:T}),O=!0):this.Ra(g,T)||(r.track({type:2,doc:T}),O=!0,(u&&this.Ia(T,u)>0||h&&this.Ia(T,h)<0)&&(l=!0)):!g&&T?(r.track({type:0,doc:T}),O=!0):g&&!T&&(r.track({type:1,doc:g}),O=!0,(u||h)&&(l=!0)),O&&(T?(o=o.add(T),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(T,P){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return k(T)-k(P)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,h=u!==this.ha;return this.ha=u,o.length!==0||h?{snapshot:new Pa(this.query,e.Ta,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new aw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Pe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new iS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new rS(r))}),n}pa(e){this.la=e.hs,this.Pa=Pe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Pa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class _L{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wL{constructor(e){this.key=e,this.wa=!1}}class EL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new qa(l=>wI(l),Cd),this.Da=new Map,this.Ca=new Set,this.va=new ft(fe.comparator),this.Fa=new Map,this.Ma=new Lg,this.xa={},this.Oa=new Map,this.Na=Ra.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function TL(t,e,n=!0){const r=cS(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await sS(r,e,n,!0),i}async function IL(t,e){const n=cS(t);await sS(n,e,!0,!1)}async function sS(t,e,n,r){const i=await WO(t.localStore,zr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await SL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GI(t.remoteStore,i),l}async function SL(t,e,n,r,i){t.Ba=(m,g,T)=>async function(k,O,S,w){let C=O.view.da(S);C.Xi&&(C=await rw(k.localStore,O.query,!1).then(({documents:I})=>O.view.da(I,C)));const V=w&&w.targetChanges.get(O.targetId),$=w&&w.targetMismatches.get(O.targetId)!=null,b=O.view.applyChanges(C,k.isPrimaryClient,V,$);return cw(k,O.targetId,b.fa),b.snapshot}(t,m,g,T);const s=await rw(t.localStore,e,!0),o=new yL(e,s.hs),l=o.da(s.documents),u=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,u);cw(t,n,h.fa);const f=new _L(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function AL(t,e,n){const r=Ie(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Cd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fg(r.remoteStore,i.targetId),om(r,i.targetId)}).catch(Fu)):(om(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function CL(t,e){const n=Ie(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fg(n.remoteStore,r.targetId))}async function RL(t,e,n){const r=OL(t);try{const i=await function(o,l){const u=Ie(o),h=Dt.now(),f=l.reduce((T,P)=>T.add(P.key),Pe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let P=Ti(),k=Pe();return u.os.getEntries(T,f).next(O=>{P=O,P.forEach((S,w)=>{w.isValidDocument()||(k=k.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,P)).next(O=>{m=O;const S=[];for(const w of l){const C=YN(w,m.get(w.key).overlayedDocument);C!=null&&S.push(new Cs(w.key,C,dI(C.value.mapValue),Hr.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,S,l)}).next(O=>{g=O;const S=O.applyToLocalDocumentSet(m,k);return u.documentOverlayCache.saveOverlays(T,O.batchId,S)})}).then(()=>({batchId:g.batchId,changes:II(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.xa[o.currentUser.toKey()];h||(h=new ft(Ue)),h=h.insert(l,u),o.xa[o.currentUser.toKey()]=h}(r,i.batchId,n),await zu(r,i.changes),await Nd(r.remoteStore)}catch(i){const s=zg(i,"Failed to persist write");n.reject(s)}}async function oS(t,e){const n=Ie(t);try{const r=await BO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?tt(o.wa):i.removedDocuments.size>0&&(tt(o.wa),o.wa=!1))}),await zu(n,r,e)}catch(r){await Fu(r)}}function uw(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Ie(o);u.onlineState=l;let h=!1;u.queries.forEach((f,m)=>{for(const g of m.U_)g.j_(l)&&(h=!0)}),h&&Hg(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PL(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new ft(fe.comparator);o=o.insert(s,Jt.newNoDocument(s,Ee.min()));const l=Pe().add(s),u=new bd(Ee.min(),new Map,new ft(Ue),o,l);await oS(r,u),r.va=r.va.remove(s),r.Fa.delete(e),Wg(r)}else await im(r.localStore,e,!1).then(()=>om(r,e,n)).catch(Fu)}async function kL(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await $O(n.localStore,e);lS(n,r,null),aS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,i)}catch(i){await Fu(i)}}async function bL(t,e,n){const r=Ie(t);try{const i=await function(o,l){const u=Ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(tt(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);lS(r,e,n),aS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zu(r,i)}catch(i){await Fu(i)}}function aS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function lS(t,e,n){const r=Ie(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||uS(t,r)})}function uS(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Fg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Wg(t))}function cw(t,e,n){for(const r of n)r instanceof rS?(t.Ma.addReference(r.key,e),DL(t,r)):r instanceof iS?(le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||uS(t,r.key)):ye()}function DL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Wg(t))}function Wg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new fe(it.fromString(e)),r=t.Na.next();t.Fa.set(r,new wL(n)),t.va=t.va.insert(n,r),GI(t.remoteStore,new ts(zr(Dg(n.path)),r,"TargetPurposeLimboResolution",Ag.oe))}}async function zu(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{o.push(r.Ba(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=Vg.Ki(u.targetId,h);s.push(m)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,h){const f=Ie(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Q.forEach(h,g=>Q.forEach(g.qi,T=>f.persistence.referenceDelegate.addReference(m,g.targetId,T)).next(()=>Q.forEach(g.Qi,T=>f.persistence.referenceDelegate.removeReference(m,g.targetId,T)))))}catch(m){if(!Uu(m))throw m;le("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const T=f.ns.get(g),P=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(P);f.ns=f.ns.insert(g,k)}}}(r.localStore,s))}async function xL(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await HI(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(u=>{u.reject(new ie(K.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(n,r.us)}}function NL(t,e){const n=Ie(t),r=n.Fa.get(e);if(r&&r.wa)return Pe().add(r.key);{let i=Pe();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function cS(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PL.bind(null,e),e.Sa.h_=gL.bind(null,e.eventManager),e.Sa.ka=vL.bind(null,e.eventManager),e}function OL(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,e),e}class hw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jO(this.persistence,new FO,e.initialUser,this.serializer)}createPersistence(e){return new LO(Mg.Hr,this.serializer)}createSharedClientState(e){return new KO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class LL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xL.bind(null,this.syncEngine),await fL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mL}()}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),r=function(s){return new XO(s)}(e.databaseInfo);return function(s,o,l,u){return new eL(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new nL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uw(this.syncEngine,n,0),function(){return sw.D()?new sw:new GO}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,f){const m=new EL(i,s,o,l,u,h);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ie(r);le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Bu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=uI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FL(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ow(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ow(e.remoteStore,i)),t._onlineComponents=e}function VL(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function FL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!VL(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new hw)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await zf(t,new hw);return t._offlineComponents}async function dS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await dw(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await dw(t,new LL))),t._onlineComponents}function UL(t){return dS(t).then(e=>e.syncEngine)}async function am(t){const e=await dS(t),n=e.eventManager;return n.onListen=TL.bind(null,e.syncEngine),n.onUnlisten=AL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CL.bind(null,e.syncEngine),n}function jL(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new hS({next:g=>{o.enqueueAndForget(()=>tS(s,m)),g.fromCache&&u.source==="server"?h.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new nS(l,f,{includeMetadataChanges:!0,ra:!0});return eS(s,m)}(await am(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $L(t,e,n,r){if(e===!0&&r===!0)throw new ie(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pw(t){if(!fe.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mw(t){if(fe.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Od(t);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function BL(t,e){if(e<=0)throw new ie(K.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ld{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sN;switch(r.type){case"firstParty":return new uN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fw.get(n);r&&(le("ComponentProvider","Removing Datastore"),fw.delete(n),r.terminate())}(this),Promise.resolve()}}function zL(t,e,n,r={}){var i;const s=(t=mi(t,Ld))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Yt.MOCK_USER;else{l=_k(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Yt(h)}t._authCredentials=new oN(new lI(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ps extends Pi{constructor(e,n,r){super(e,n,Dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new fe(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function po(t,e,...n){if(t=It(t),pS("collection","path",e),t instanceof Ld){const r=it.fromString(e,...n);return mw(r),new ps(t,null,r)}{if(!(t instanceof Rn||t instanceof ps))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return mw(r),new ps(t.firestore,null,r)}}function mS(t,e,...n){if(t=It(t),arguments.length===1&&(e=uI.newId()),pS("doc","path",e),t instanceof Ld){const r=it.fromString(e,...n);return pw(r),new Rn(t,null,new fe(r))}{if(!(t instanceof Rn||t instanceof ps))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return pw(r),new Rn(t.firestore,t instanceof ps?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new qI(this,"async_queue_retry"),this.hu=()=>{const n=Bf();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Bf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new fs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Uu(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Bg.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ye()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function vw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ka extends Ld{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new HL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gS(this),this._firestoreClient.terminate()}}function WL(t,e){const n=typeof t=="object"?t:_T(),r=typeof t=="string"?t:e||"(default)",i=pg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vk("firestore");s&&zL(i,...s)}return i}function qg(t){return t._firestoreClient||gS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gS(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,h,f){return new TN(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,fS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ML(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(en.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=/^__.*__$/;class KL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class vS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class Gg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Gh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(yS(this.fu)&&qL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class GL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dd(e)}Fu(e,n,r,i=!1){return new Gg({fu:e,methodName:n,vu:r,path:$t.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(t){const e=t._freezeSettings(),n=Dd(t._databaseId);return new GL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QL(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Xg("Data must be an object, but it was:",o,r);const l=_S(r,o);let u,h;if(s.merge)u=new Vn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=lm(e,m,n);if(!o.contains(g))throw new ie(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ES(f,g)||f.push(g)}u=new Vn(f),h=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=o.fieldTransforms;return new KL(new Tn(l),u,h)}class Fd extends Vd{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class Yg extends Vd{_toFieldTransform(e){return new qN(e.path,new Iu)}isEqual(e){return e instanceof Yg}}function YL(t,e,n,r){const i=t.Fu(1,e,n);Xg("Data must be an object, but it was:",i,r);const s=[],o=Tn.empty();wo(r,(u,h)=>{const f=Jg(e,u,n);h=It(h);const m=i.Su(f);if(h instanceof Fd)s.push(f);else{const g=Hu(h,m);g!=null&&(s.push(f),o.set(f,g))}});const l=new Vn(s);return new vS(o,l,i.fieldTransforms)}function XL(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[lm(e,r,n)],u=[i];if(s.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(lm(e,s[g])),u.push(s[g+1]);const h=[],f=Tn.empty();for(let g=l.length-1;g>=0;--g)if(!ES(h,l[g])){const T=l[g];let P=u[g];P=It(P);const k=o.Su(T);if(P instanceof Fd)h.push(T);else{const O=Hu(P,k);O!=null&&(h.push(T),f.set(T,O))}}const m=new Vn(h);return new vS(f,m,o.fieldTransforms)}function JL(t,e,n,r=!1){return Hu(n,t.Fu(r?4:3,e))}function Hu(t,e){if(wS(t=It(t)))return Xg("Unsupported field value:",e,t),_S(t,e);if(t instanceof Vd)return function(r,i){if(!yS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Hu(l,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Dt.fromDate(r);return{timestampValue:qh(i.serializer,s)}}if(r instanceof Dt){const s=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(i.serializer,s)}}if(r instanceof Kg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:VI(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Og(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Od(r)}`)}(t,e)}function _S(t,e){const n={};return cI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{const s=Hu(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Kg||t instanceof ba||t instanceof Rn||t instanceof Vd)}function Xg(t,e,n){if(!wS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Od(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function lm(t,e,n){if((e=It(e))instanceof Md)return e._internalPath;if(typeof e=="string")return Jg(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZL=new RegExp("[~\\*/\\[\\]]");function Jg(t,e,n){if(e.search(ZL)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Md(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(K.INVALID_ARGUMENT,l+t+u)}function ES(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eM extends TS{data(){return super.data()}}function Ud(t,e){return typeof e=="string"?Jg(t,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class ev extends Zg{}function tv(t,e,...n){let r=[];e instanceof Zg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof nv).length,l=s.filter(u=>u instanceof jd).length;if(o>1||o>0&&l>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jd extends ev{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jd(e,n,r)}_apply(e){const n=this._parse(e);return AS(e._query,n),new Pi(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=Qg(e.firestore);return function(s,o,l,u,h,f,m){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){_w(m,f);const T=[];for(const P of m)T.push(yw(u,s,P));g={arrayValue:{values:T}}}else g=yw(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||_w(m,f),g=JL(l,o,m,f==="in"||f==="not-in");return Tt.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SS(t,e,n){const r=e,i=Ud("where",t);return jd._create(i,r,n)}class nv extends Zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)AS(o,u),o=Zp(o,u)}(e._query,n),new Pi(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends ev{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(s,o)}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function tM(t,e="asc"){const n=e,r=Ud("orderBy",t);return rv._create(r,n)}class iv extends ev{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){return new Pi(e.firestore,e.converter,Hh(e._query,this._limit,this._limitType))}}function nM(t){return BL("limit",t),iv._create("limit",t,"F")}function yw(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(e)&&n.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!fe.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j_(t,new fe(r))}if(n instanceof Rn)return j_(t,n._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(n)}.`)}function _w(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rM{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Kg(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);tt(zI(r));const i=new wu(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||Ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CS extends TS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ah extends CS{data(e={}){return super.data(e)}}class RS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new ah(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new ah(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:sM(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class sv extends rM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function oM(t){t=mi(t,Pi);const e=mi(t.firestore,ka),n=qg(e),r=new sv(e);return IS(t._query),jL(n,t._query).then(i=>new RS(e,r,t,i))}function aM(t,e,n,...r){t=mi(t,Rn);const i=mi(t.firestore,ka),s=Qg(i);let o;return o=typeof(e=It(e))=="string"||e instanceof Md?XL(s,"updateDoc",t._key,e,n,r):YL(s,"updateDoc",t._key,e),kS(i,[o.toMutation(t._key,Hr.exists(!0))])}function Qh(t,e){const n=mi(t.firestore,ka),r=mS(t),i=iM(t.converter,e);return kS(n,[QL(Qg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function PS(t,...e){var n,r,i;t=It(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||vw(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(vw(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,h,f;if(t instanceof Rn)h=mi(t.firestore,ka),f=Dg(t._key.path),u={next:m=>{e[o]&&e[o](lM(h,t,m))},error:e[o+1],complete:e[o+2]};else{const m=mi(t,Pi);h=mi(m.firestore,ka),f=m._query;const g=new sv(h);u={next:T=>{e[o]&&e[o](new RS(h,g,m,T))},error:e[o+1],complete:e[o+2]},IS(t._query)}return function(g,T,P,k){const O=new hS(k),S=new nS(T,O,P);return g.asyncQueue.enqueueAndForget(async()=>eS(await am(g),S)),()=>{O.$a(),g.asyncQueue.enqueueAndForget(async()=>tS(await am(g),S))}}(qg(h),f,l,u)}function kS(t,e){return function(r,i){const s=new fs;return r.asyncQueue.enqueueAndForget(async()=>RL(await UL(r),i,s)),s.promise}(qg(t),e)}function lM(t,e,n){const r=n.docs.get(e._key),i=new sv(t);return new CS(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function Yh(){return new Yg("serverTimestamp")}(function(e,n=!0){(function(i){Ha=i})(Ba),Ea(new oo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new ka(new aN(r.getProvider("auth-internal")),new hN(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ds(M_,"4.6.4",e),ds(M_,"4.6.4","esm2017")})();const uM={apiKey:"AIzaSyAthJdZF_jDW8_WXgRB2hofK6sHg1jIybA",authDomain:"chat-application-968a4.firebaseapp.com",projectId:"chat-application-968a4",storageBucket:"chat-application-968a4.appspot.com",messagingSenderId:"776596104603",appId:"1:776596104603:web:996baf274e94d697376d3e",measurementId:"G-10BYDPLK65"},bS=yT(uM),Da=WL(bS),Hi=tN(bS),Gr=uk(t=>({cuser:Hi.currentUser,isLoggedIn:!!Hi.currentUser,loginError:"",unsubscribe:BD(Hi,e=>{t({isLoggedIn:!!e,cuser:e})}),login:async e=>{const{email:n,password:r}=e;return FD(Hi,n,r).then(()=>console.log(Hi.currentUser)).catch(i=>{throw t({loginError:i.message}),i})},logout:()=>{zD(Hi)},signUp:async(e,n,r)=>{const{email:i,password:s}=e;await VD(Hi,i,s).then(o=>{A_(o.user,{displayName:n,photoURL:r}),Qh(po(Da,"users"),{displayName:n,photoURL:r,email:o.user.email,uid:o.user.uid}),console.log("done")}).catch(o=>{t({loginError:o.message})})},updateUser:async(e,n,r)=>{await A_(e,{displayName:n,photoURL:r}),await Qh(po(Da,"users"),{displayName:n,photoURL:r,email:e.email,uid:e.uid}),console.log("done")}})),cM=()=>{const t=Gr(h=>h.signUp),e=Ss(),[n,r]=q.useState(""),[i,s]=q.useState(""),[o,l]=q.useState(""),u=async h=>{h.preventDefault(),t({email:n,password:i},o,"photourl"),e("/chatApplication")};return G.jsx("div",{className:"d-flex justify-content-center align-items-center px-2",style:{height:"100dvh"},children:G.jsxs("div",{className:"signup-container form-container",children:[G.jsx("h1",{className:"text-center mb-4",children:"chat App"}),G.jsxs("form",{className:"signup-form d-grid",onSubmit:u,children:[G.jsxs("div",{className:"mb-3",children:[G.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email Address"}),G.jsx("input",{type:"email",className:"form-control input",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>r(h.target.value)})]}),G.jsxs("div",{className:"mb-3",children:[G.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),G.jsx("input",{type:"password",className:"form-control input",id:"exampleInputPassword1",onChange:h=>s(h.target.value)})]}),G.jsxs("div",{className:" mb-3",children:[G.jsx("label",{htmlFor:"full-name",className:"form-label",children:"Full Name"}),G.jsx("input",{type:"text",className:"form-control input",id:"full-name",onChange:h=>l(h.target.value)})]}),G.jsx("button",{type:"submit",className:"btn btn--primary mb-3",children:"Sign up"}),G.jsxs("div",{className:"no-wrap",children:[G.jsx("span",{className:"me-2",children:"already have an account"}),G.jsx(iT,{to:"/chatApplication/",children:"login"})]})]})]})})},hM=()=>{const[t,e]=q.useState(!1),n=Ss(),[r,i]=q.useState(""),[s,o]=q.useState(""),l=Gr(h=>h.login),u=async h=>{h.preventDefault(),e(!0);try{await l({email:r,password:s}),e(!1),n("/chatApplication/home")}catch(f){console.log("login failed ",f)}};return G.jsx("div",{className:"d-flex justify-content-center align-items-center px-2",style:{height:"100dvh"},children:G.jsxs("div",{className:"login-container form-container",children:[G.jsx("h1",{className:"text-center mb-4",children:"chat App"}),G.jsxs("form",{className:"login-form d-grid",children:[G.jsxs("div",{className:"mb-3",children:[G.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),G.jsx("input",{type:"email",className:"form-control input",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>i(h.target.value)})]}),G.jsxs("div",{className:"mb-3",children:[G.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),G.jsx("input",{type:"password",className:"form-control input",id:"exampleInputPassword1",onChange:h=>o(h.target.value)})]}),G.jsxs("button",{type:"submit",className:"btn btn--primary mb-3 ",onClick:u,children:[t&&G.jsx("div",{className:"spinner-border me-2",style:{height:"1rem",width:"1rem",fontSize:".5rem"},role:"status"}),G.jsx("span",{children:"Login"})]}),G.jsxs("div",{className:"no-wrap",children:[G.jsx("span",{className:"me-2",children:"do not have an account"}),G.jsx(iT,{to:"/chatApplication/signup",children:"create one"})]})]})]})})},DS="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQkGCQkJCQwTDg4MDg4ZEg4SEBcOEBAXEBcXEBQXFBQaFxMTFxoUFxgjGBwZHxoYIRgjGCMiIiQnKCMXJzUBCQkFCQkJDAkJEyEXDhoiHAwYKSIoGiIkIiIZLCIoISIUIyIaHx8aGhwYHCIaJCQjDhkkIRcvGRoXIiEnHxckKv/AABEIADAAMAMBIgACEQEDEQH/xAB1AAACAQUBAAAAAAAAAAAAAAAFBgcAAQIDBAgQAAEDAgMFBwQDAQAAAAAAAAECAwQAEQUhMQYScYGhFCIyQVFhwRMjQlI0Q9HhAQEBAQAAAAAAAAAAAAAAAAABAgARAQEBAQEBAAAAAAAAAAAAAAEAAjERIf/aAAwDAQACEQMRAD8A9lEgAk0m4xtpuktwxe39h+BVbaYwU2htm1xdfwKRcPhma+2yDYHU+gGZpCjW/vhdC582epQ33HD5hNz0FYCRMgEZuNel7pFGp+N9jJiwkhCWzYqte5Gtvkm5NaoW0K3D9GYErbXkTa1r+o0I6immL4Vtq4hQRLG8n9wLEcRT406l1KVoN0qGRFQzi+H9gfLY8JF031scrcjTHsdjBju9lcPcc8Psr/tCVG/vjLGKyDIlPuE3us24DIV3bNOhuYm/5pUBxyV1tQ3EGOzyHm9N1aqKYPhzakqmSTutNnLy3inrYHIAammk7Cp0dUZ91teoUeYJuDzrnbZVIUlpAupZsBTU7jsSaSmTHJSD3Vaq+COAJrFvGoUL+JHNzqomxtxJUeWQrW8LVtS4C+02Dctt589OgvzpdacLS0rGqSCOVMWLQm5LRnxSSlR+4k6g6E+1vMcxlS4hJWoJGpIrWez1tthSkLEtAyUAFexGQpexLEWno8aMxfdbHeuLXIFh8mpedaS6lSFi6VDMGo7xjY52OVORe+j9fyT/ALQNWsvSSqqs3GltGy0lJ9CLVZKFLNkgk00RnBcRbhl5D9y26nMAXz06g0Q2Rwgy5AdUPts9T5Cr4TslImEKeH02/fxHgKk2JEbiNpaaFkpoWsyvb//Z",xS=({id:t,className:e,lastMessage:n,name:r})=>{const i=Gr(o=>o.cuser),s=Ss();if(i)return G.jsx(G.Fragment,{children:G.jsxs("div",{className:`contact-wrapper ${e}`,onClick:o=>{o.preventDefault(),s(`/chatApplication/conversation/${t}/${r}`)},children:[G.jsxs("div",{className:"contact",children:[G.jsx("img",{className:"contact__image account-image",src:DS,alt:""}),G.jsx("h2",{className:"contact__name",children:r})]}),G.jsx("div",{className:"last-message",children:n})]})})},dM=()=>{const[t,e]=q.useState([]),n=Gr(r=>r.cuser);return q.useEffect(()=>{if(!n)return;const r=sessionStorage.getItem(`contacts_${n.uid}`);r!==null&&e(JSON.parse(r));const i=tv(po(Da,"conversations"),SS("participantIds","array-contains",n.uid)),s=PS(i,o=>{const l=o.docs.map(u=>({...u.data(),id:u.id}));e(l),sessionStorage.setItem(`contacts_${n.uid}`,JSON.stringify(l))},o=>{console.error("Error getting documents:",o)});return()=>s()},[n]),G.jsx("div",{className:"contacts",children:t==null?void 0:t.map(({id:r,lastMessage:i,participantIds:s,participants:o})=>{const l=s[0]===(n==null?void 0:n.uid)?o[1].displayName:o[0].displayName;return G.jsx(xS,{id:r,lastMessage:i,name:l},r)})})},fM=({className:t,visible:e})=>G.jsxs("ul",{className:`dropdown ${e?"visible":""} ${t||""}`,children:[G.jsx("li",{className:"dropdown-item",children:"New Group"}),G.jsx("li",{className:"dropdown-item",children:"New Broadcast"}),G.jsx("li",{className:"dropdown-item",children:"WhatsApp Web"}),G.jsx("li",{className:"dropdown-item",children:"Starred Messages"}),G.jsx("li",{className:"dropdown-item",children:"Settings"})]}),pM=()=>{Ss(),Gr(r=>r.logout);const t=Gr(r=>r.cuser),[e,n]=q.useState(!1);return G.jsxs("nav",{className:"navbar   fixed-top",children:[G.jsxs("div",{className:"container-fluid",children:[G.jsxs("div",{className:"account-name navbar-brand d-flex align-items-center gap-2",children:[G.jsx("img",{src:DS,className:"account-image",alt:""}),G.jsx("p",{className:"m-0 user-name",children:t==null?void 0:t.displayName})]}),G.jsx("i",{className:"border-0 p-0 bi bi-three-dots-vertical fs-2",role:"button",onClick:()=>n(!e)})]}),G.jsx(fM,{visible:e})]})},mM=({onclick:t})=>{const[e,n]=q.useState(""),[r,i]=q.useState(!1),s=Gr(u=>u.cuser);if(!s)return;const o=async u=>{i(!0);try{const h=tv(po(Da,"users"),SS("uid","==",u)),f=await oM(h);if(f.empty)console.error("No such user!");else{const g=f.docs[0].data();await Qh(po(Da,"conversations"),{initialedBy:s.uid,participantIds:[s.uid,u],initiatedAt:Yh(),lastUpdatedAt:Yh(),participants:[{displayName:s.displayName,email:s.email,photoURL:s.photoURL},{displayName:g.displayName,email:g.email,photoURL:g.photoURL}]})}}catch(h){console.error("Error adding conversation: ",h)}i(!1)},l=u=>{u.preventDefault(),o(e)};return G.jsxs(G.Fragment,{children:[G.jsx("i",{className:"bi bi-arrow-left fs-2 text-black",role:"button",onClick:t}),G.jsx("div",{className:"p-4 form-container mx-auto",children:G.jsxs("form",{onSubmit:l,children:[G.jsx("label",{htmlFor:"userId",className:"form-label",children:"User ID"}),G.jsxs("div",{className:"d-flex gap-2",children:[G.jsx("input",{type:"text",className:"form-control input",id:"userId","aria-describedby":"emailHelp",placeholder:"Enter the user ID...",onChange:u=>n(u.target.value.toString())}),G.jsx("button",{type:"submit",className:"btn btn--primary m-0",children:r?G.jsx("div",{className:"spinner-border",style:{height:"1rem",width:"1rem",fontSize:".5rem",marginInline:"8px"},role:"status"}):"Add"})]})]})})]})},gM=()=>{const t=Gr(i=>i.isLoggedIn),e=Gr(i=>i.cuser),[n,r]=q.useState(!1);return t?n?G.jsx("div",{className:"p-2",children:G.jsx(mM,{onclick:()=>r(!1)})}):G.jsxs(G.Fragment,{children:[G.jsx(pM,{}),G.jsx("p",{children:"home page "}),G.jsxs("p",{children:["hello ",e.displayName]}),G.jsx(dM,{}),G.jsx("button",{className:"btn btn--primary btn-add-user",onClick:()=>r(!0),children:"add user"})]}):G.jsx(hP,{to:"/"})},vM=({children:t})=>{const e=Ss();return q.useEffect(()=>{Hi.currentUser||e("/chatApplication/")},[]),G.jsx(G.Fragment,{children:t})},yM=()=>{const{id:t,name:e}=JR(),n=Ss(),r=Gr(g=>g.cuser),[i,s]=q.useState(""),[o,l]=q.useState([]),u=mS(po(Da,"conversations"),t),h=po(u,"messages"),f=q.useRef(null),m=async g=>{if(g.preventDefault(),i.trim()===""){alert("Enter valid message");return}s("");const{uid:T,displayName:P,photoURL:k}=r;await Qh(h,{text:i,name:P,avatar:k,createdAt:Yh(),uid:T}),await aM(u,{lastMessage:i,lastMessageTimestamp:Yh()})};return q.useEffect(()=>{const g=tv(h,tM("createdAt","desc"),nM(50)),T=PS(g,P=>{const k=P.docs.map(S=>({...S.data(),id:S.id})),O=k.sort((S,w)=>S.createdAt-w.createdAt);console.log(k),l(O)});return()=>T},[]),q.useEffect(()=>{f.current&&f.current.scrollIntoView({behavior:"instant"})},[o]),G.jsx(G.Fragment,{children:G.jsxs("div",{className:"conversation-container",style:{paddingBottom:"40px",paddingTop:"100px"},children:[G.jsxs("div",{className:"fixed-top d-flex align-items-center px-2",style:{background:"white"},children:[G.jsx("i",{className:"bi bi-arrow-left fs-2 text-black",role:"button",onClick:()=>n("/chatApplication/home")}),G.jsx(xS,{id:t,name:e})]}),G.jsxs("div",{className:"messages-container d-flex flex-column gap-2  mx-2",children:[o&&o.map(g=>G.jsx("div",{className:`message-box ${g.uid===r.uid?"sent-message":"recieved-message"}`,children:g.text},g.id)),G.jsx("div",{ref:f})]}),G.jsxs("form",{className:"send-message d-flex  fixed-bottom",onSubmit:m,children:[G.jsx("input",{className:"form-control input",value:i,onChange:g=>s(g.target.value)}),G.jsx("button",{className:"btn btn--primary m-0",type:"submit",children:"Send"})]})]})})},_M=wP([{path:"/chatApplication/",element:G.jsx(LP,{}),errorElement:G.jsx(MP,{}),children:[{path:"signup",element:G.jsx(cM,{})},{path:"conversation/:id/:name",element:G.jsx(yM,{})},{path:"",element:G.jsx(hM,{})},{path:"home",element:G.jsx(vM,{children:G.jsx(gM,{})})}]}]);var wM={exports:{}},cn="top",jn="bottom",$n="right",hn="left",$d="auto",Ga=[cn,jn,$n,hn],mo="start",xa="end",NS="clippingParents",ov="viewport",$o="popper",OS="reference",um=Ga.reduce(function(t,e){return t.concat([e+"-"+mo,e+"-"+xa])},[]),av=[].concat(Ga,[$d]).reduce(function(t,e){return t.concat([e,e+"-"+mo,e+"-"+xa])},[]),LS="beforeRead",MS="read",VS="afterRead",FS="beforeMain",US="main",jS="afterMain",$S="beforeWrite",BS="write",zS="afterWrite",HS=[LS,MS,VS,FS,US,jS,$S,BS,zS];function Qr(t){return t?(t.nodeName||"").toLowerCase():null}function Bn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function go(t){var e=Bn(t).Element;return t instanceof e||t instanceof Element}function rr(t){var e=Bn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lv(t){if(typeof ShadowRoot>"u")return!1;var e=Bn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function EM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!rr(s)||!Qr(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var l=i[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function TM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(u,h){return u[h]="",u},{});!rr(i)||!Qr(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const uv={name:"applyStyles",enabled:!0,phase:"write",fn:EM,effect:TM,requires:["computeStyles"]};function qr(t){return t.split("-")[0]}var Zs=Math.max,Xh=Math.min,Na=Math.round;function cm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function WS(){return!/^((?!chrome|android).)*safari/i.test(cm())}function Oa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&rr(t)&&(i=t.offsetWidth>0&&Na(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Na(r.height)/t.offsetHeight||1);var o=go(t)?Bn(t):window,l=o.visualViewport,u=!WS()&&n,h=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/s,m=r.width/i,g=r.height/s;return{width:m,height:g,top:f,right:h+m,bottom:f+g,left:h,x:h,y:f}}function cv(t){var e=Oa(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function qS(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&lv(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ii(t){return Bn(t).getComputedStyle(t)}function IM(t){return["table","td","th"].indexOf(Qr(t))>=0}function Rs(t){return((go(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bd(t){return Qr(t)==="html"?t:t.assignedSlot||t.parentNode||(lv(t)?t.host:null)||Rs(t)}function ww(t){return!rr(t)||Ii(t).position==="fixed"?null:t.offsetParent}function SM(t){var e=/firefox/i.test(cm()),n=/Trident/i.test(cm());if(n&&rr(t)){var r=Ii(t);if(r.position==="fixed")return null}var i=Bd(t);for(lv(i)&&(i=i.host);rr(i)&&["html","body"].indexOf(Qr(i))<0;){var s=Ii(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Wu(t){for(var e=Bn(t),n=ww(t);n&&IM(n)&&Ii(n).position==="static";)n=ww(n);return n&&(Qr(n)==="html"||Qr(n)==="body"&&Ii(n).position==="static")?e:n||SM(t)||e}function hv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kl(t,e,n){return Zs(t,Xh(e,n))}function AM(t,e,n){var r=Kl(t,e,n);return r>n?n:r}function KS(){return{top:0,right:0,bottom:0,left:0}}function GS(t){return Object.assign({},KS(),t)}function QS(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var CM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,GS(typeof e!="number"?e:QS(e,Ga))};function RM(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=qr(n.placement),u=hv(l),h=[hn,$n].indexOf(l)>=0,f=h?"height":"width";if(!(!s||!o)){var m=CM(i.padding,n),g=cv(s),T=u==="y"?cn:hn,P=u==="y"?jn:$n,k=n.rects.reference[f]+n.rects.reference[u]-o[u]-n.rects.popper[f],O=o[u]-n.rects.reference[u],S=Wu(s),w=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,C=k/2-O/2,V=m[T],$=w-g[f]-m[P],b=w/2-g[f]/2+C,I=Kl(V,b,$),y=u;n.modifiersData[r]=(e={},e[y]=I,e.centerOffset=I-b,e)}}function PM(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||qS(e.elements.popper,i)&&(e.elements.arrow=i))}const YS={name:"arrow",enabled:!0,phase:"main",fn:RM,effect:PM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function La(t){return t.split("-")[1]}var kM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bM(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Na(n*i)/i||0,y:Na(r*i)/i||0}}function Ew(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,u=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,m=t.isFixed,g=o.x,T=g===void 0?0:g,P=o.y,k=P===void 0?0:P,O=typeof f=="function"?f({x:T,y:k}):{x:T,y:k};T=O.x,k=O.y;var S=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=hn,V=cn,$=window;if(h){var b=Wu(n),I="clientHeight",y="clientWidth";if(b===Bn(n)&&(b=Rs(n),Ii(b).position!=="static"&&l==="absolute"&&(I="scrollHeight",y="scrollWidth")),b=b,i===cn||(i===hn||i===$n)&&s===xa){V=jn;var E=m&&b===$&&$.visualViewport?$.visualViewport.height:b[I];k-=E-r.height,k*=u?1:-1}if(i===hn||(i===cn||i===jn)&&s===xa){C=$n;var A=m&&b===$&&$.visualViewport?$.visualViewport.width:b[y];T-=A-r.width,T*=u?1:-1}}var D=Object.assign({position:l},h&&kM),M=f===!0?bM({x:T,y:k},Bn(n)):{x:T,y:k};if(T=M.x,k=M.y,u){var R;return Object.assign({},D,(R={},R[V]=w?"0":"",R[C]=S?"0":"",R.transform=($.devicePixelRatio||1)<=1?"translate("+T+"px, "+k+"px)":"translate3d("+T+"px, "+k+"px, 0)",R))}return Object.assign({},D,(e={},e[V]=w?k+"px":"",e[C]=S?T+"px":"",e.transform="",e))}function DM(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,u=l===void 0?!0:l,h={placement:qr(e.placement),variation:La(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ew(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ew(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:DM,data:{}};var Uc={passive:!0};function xM(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,u=Bn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(f){f.addEventListener("scroll",n.update,Uc)}),l&&u.addEventListener("resize",n.update,Uc),function(){s&&h.forEach(function(f){f.removeEventListener("scroll",n.update,Uc)}),l&&u.removeEventListener("resize",n.update,Uc)}}const fv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xM,data:{}};var NM={left:"right",right:"left",bottom:"top",top:"bottom"};function lh(t){return t.replace(/left|right|bottom|top/g,function(e){return NM[e]})}var OM={start:"end",end:"start"};function Tw(t){return t.replace(/start|end/g,function(e){return OM[e]})}function pv(t){var e=Bn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mv(t){return Oa(Rs(t)).left+pv(t).scrollLeft}function LM(t,e){var n=Bn(t),r=Rs(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;var h=WS();(h||!h&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l+mv(t),y:u}}function MM(t){var e,n=Rs(t),r=pv(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Zs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+mv(t),u=-r.scrollTop;return Ii(i||n).direction==="rtl"&&(l+=Zs(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:u}}function gv(t){var e=Ii(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function XS(t){return["html","body","#document"].indexOf(Qr(t))>=0?t.ownerDocument.body:rr(t)&&gv(t)?t:XS(Bd(t))}function Gl(t,e){var n;e===void 0&&(e=[]);var r=XS(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Bn(r),o=i?[s].concat(s.visualViewport||[],gv(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(Gl(Bd(o)))}function hm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function VM(t,e){var n=Oa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Iw(t,e,n){return e===ov?hm(LM(t,n)):go(e)?VM(e,n):hm(MM(Rs(t)))}function FM(t){var e=Gl(Bd(t)),n=["absolute","fixed"].indexOf(Ii(t).position)>=0,r=n&&rr(t)?Wu(t):t;return go(r)?e.filter(function(i){return go(i)&&qS(i,r)&&Qr(i)!=="body"}):[]}function UM(t,e,n,r){var i=e==="clippingParents"?FM(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(u,h){var f=Iw(t,h,r);return u.top=Zs(f.top,u.top),u.right=Xh(f.right,u.right),u.bottom=Xh(f.bottom,u.bottom),u.left=Zs(f.left,u.left),u},Iw(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function JS(t){var e=t.reference,n=t.element,r=t.placement,i=r?qr(r):null,s=r?La(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case cn:u={x:o,y:e.y-n.height};break;case jn:u={x:o,y:e.y+e.height};break;case $n:u={x:e.x+e.width,y:l};break;case hn:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var h=i?hv(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(s){case mo:u[h]=u[h]-(e[f]/2-n[f]/2);break;case xa:u[h]=u[h]+(e[f]/2-n[f]/2);break}}return u}function Ma(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,u=l===void 0?NS:l,h=n.rootBoundary,f=h===void 0?ov:h,m=n.elementContext,g=m===void 0?$o:m,T=n.altBoundary,P=T===void 0?!1:T,k=n.padding,O=k===void 0?0:k,S=GS(typeof O!="number"?O:QS(O,Ga)),w=g===$o?OS:$o,C=t.rects.popper,V=t.elements[P?w:g],$=UM(go(V)?V:V.contextElement||Rs(t.elements.popper),u,f,o),b=Oa(t.elements.reference),I=JS({reference:b,element:C,strategy:"absolute",placement:i}),y=hm(Object.assign({},C,I)),E=g===$o?y:b,A={top:$.top-E.top+S.top,bottom:E.bottom-$.bottom+S.bottom,left:$.left-E.left+S.left,right:E.right-$.right+S.right},D=t.modifiersData.offset;if(g===$o&&D){var M=D[i];Object.keys(A).forEach(function(R){var ve=[$n,jn].indexOf(R)>=0?1:-1,qe=[cn,jn].indexOf(R)>=0?"y":"x";A[R]+=M[qe]*ve})}return A}function jM(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,h=u===void 0?av:u,f=La(r),m=f?l?um:um.filter(function(P){return La(P)===f}):Ga,g=m.filter(function(P){return h.indexOf(P)>=0});g.length===0&&(g=m);var T=g.reduce(function(P,k){return P[k]=Ma(t,{placement:k,boundary:i,rootBoundary:s,padding:o})[qr(k)],P},{});return Object.keys(T).sort(function(P,k){return T[P]-T[k]})}function $M(t){if(qr(t)===$d)return[];var e=lh(t);return[Tw(t),e,Tw(e)]}function BM(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,u=n.fallbackPlacements,h=n.padding,f=n.boundary,m=n.rootBoundary,g=n.altBoundary,T=n.flipVariations,P=T===void 0?!0:T,k=n.allowedAutoPlacements,O=e.options.placement,S=qr(O),w=S===O,C=u||(w||!P?[lh(O)]:$M(O)),V=[O].concat(C).reduce(function(je,Be){return je.concat(qr(Be)===$d?jM(e,{placement:Be,boundary:f,rootBoundary:m,padding:h,flipVariations:P,allowedAutoPlacements:k}):Be)},[]),$=e.rects.reference,b=e.rects.popper,I=new Map,y=!0,E=V[0],A=0;A<V.length;A++){var D=V[A],M=qr(D),R=La(D)===mo,ve=[cn,jn].indexOf(M)>=0,qe=ve?"width":"height",Ke=Ma(e,{placement:D,boundary:f,rootBoundary:m,altBoundary:g,padding:h}),_e=ve?R?$n:hn:R?jn:cn;$[qe]>b[qe]&&(_e=lh(_e));var Z=lh(_e),ae=[];if(s&&ae.push(Ke[M]<=0),l&&ae.push(Ke[_e]<=0,Ke[Z]<=0),ae.every(function(je){return je})){E=D,y=!1;break}I.set(D,ae)}if(y)for(var he=P?3:1,Ce=function(Be){var Ge=V.find(function(Qe){var St=I.get(Qe);if(St)return St.slice(0,Be).every(function(At){return At})});if(Ge)return E=Ge,"break"},Te=he;Te>0;Te--){var z=Ce(Te);if(z==="break")break}e.placement!==E&&(e.modifiersData[r]._skip=!0,e.placement=E,e.reset=!0)}}const ZS={name:"flip",enabled:!0,phase:"main",fn:BM,requiresIfExists:["offset"],data:{_skip:!1}};function Sw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Aw(t){return[cn,$n,jn,hn].some(function(e){return t[e]>=0})}function zM(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ma(e,{elementContext:"reference"}),l=Ma(e,{altBoundary:!0}),u=Sw(o,r),h=Sw(l,i,s),f=Aw(u),m=Aw(h);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}const eA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zM};function HM(t,e,n){var r=qr(t),i=[hn,cn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[hn,$n].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function WM(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=av.reduce(function(f,m){return f[m]=HM(m,e.rects,s),f},{}),l=o[e.placement],u=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const tA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:WM};function qM(t){var e=t.state,n=t.name;e.modifiersData[n]=JS({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const vv={name:"popperOffsets",enabled:!0,phase:"read",fn:qM,data:{}};function KM(t){return t==="x"?"y":"x"}function GM(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,m=n.padding,g=n.tether,T=g===void 0?!0:g,P=n.tetherOffset,k=P===void 0?0:P,O=Ma(e,{boundary:u,rootBoundary:h,padding:m,altBoundary:f}),S=qr(e.placement),w=La(e.placement),C=!w,V=hv(S),$=KM(V),b=e.modifiersData.popperOffsets,I=e.rects.reference,y=e.rects.popper,E=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,A=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(b){if(s){var R,ve=V==="y"?cn:hn,qe=V==="y"?jn:$n,Ke=V==="y"?"height":"width",_e=b[V],Z=_e+O[ve],ae=_e-O[qe],he=T?-y[Ke]/2:0,Ce=w===mo?I[Ke]:y[Ke],Te=w===mo?-y[Ke]:-I[Ke],z=e.elements.arrow,je=T&&z?cv(z):{width:0,height:0},Be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:KS(),Ge=Be[ve],Qe=Be[qe],St=Kl(0,I[Ke],je[Ke]),At=C?I[Ke]/2-he-St-Ge-A.mainAxis:Ce-St-Ge-A.mainAxis,Wn=C?-I[Ke]/2+he+St+Qe+A.mainAxis:Te+St+Qe+A.mainAxis,se=e.elements.arrow&&Wu(e.elements.arrow),Xe=se?V==="y"?se.clientTop||0:se.clientLeft||0:0,qt=(R=D==null?void 0:D[V])!=null?R:0,Rr=_e+At-qt-Xe,Xr=_e+Wn-qt,Ct=Kl(T?Xh(Z,Rr):Z,_e,T?Zs(ae,Xr):ae);b[V]=Ct,M[V]=Ct-_e}if(l){var Pr,or=V==="x"?cn:hn,pn=V==="x"?jn:$n,mn=b[$],qn=$==="y"?"height":"width",Jr=mn+O[or],ki=mn-O[pn],tn=[cn,hn].indexOf(S)!==-1,gn=(Pr=D==null?void 0:D[$])!=null?Pr:0,ar=tn?Jr:mn-I[qn]-y[qn]-gn+A.altAxis,We=tn?mn+I[qn]+y[qn]-gn-A.altAxis:ki,Re=T&&tn?AM(ar,mn,We):Kl(T?ar:Jr,mn,T?We:ki);b[$]=Re,M[$]=Re-mn}e.modifiersData[r]=M}}const nA={name:"preventOverflow",enabled:!0,phase:"main",fn:GM,requiresIfExists:["offset"]};function QM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function YM(t){return t===Bn(t)||!rr(t)?pv(t):QM(t)}function XM(t){var e=t.getBoundingClientRect(),n=Na(e.width)/t.offsetWidth||1,r=Na(e.height)/t.offsetHeight||1;return n!==1||r!==1}function JM(t,e,n){n===void 0&&(n=!1);var r=rr(e),i=rr(e)&&XM(e),s=Rs(e),o=Oa(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Qr(e)!=="body"||gv(s))&&(l=YM(e)),rr(e)?(u=Oa(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=mv(s))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function ZM(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function eV(t){var e=ZM(t);return HS.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function tV(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nV(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Cw={placement:"bottom",modifiers:[],strategy:"absolute"};function Rw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zd(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Cw:i;return function(l,u,h){h===void 0&&(h=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cw,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},m=[],g=!1,T={state:f,setOptions:function(S){var w=typeof S=="function"?S(f.options):S;k(),f.options=Object.assign({},s,f.options,w),f.scrollParents={reference:go(l)?Gl(l):l.contextElement?Gl(l.contextElement):[],popper:Gl(u)};var C=eV(nV([].concat(r,f.options.modifiers)));return f.orderedModifiers=C.filter(function(V){return V.enabled}),P(),T.update()},forceUpdate:function(){if(!g){var S=f.elements,w=S.reference,C=S.popper;if(Rw(w,C)){f.rects={reference:JM(w,Wu(C),f.options.strategy==="fixed"),popper:cv(C)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(A){return f.modifiersData[A.name]=Object.assign({},A.data)});for(var V=0;V<f.orderedModifiers.length;V++){if(f.reset===!0){f.reset=!1,V=-1;continue}var $=f.orderedModifiers[V],b=$.fn,I=$.options,y=I===void 0?{}:I,E=$.name;typeof b=="function"&&(f=b({state:f,options:y,name:E,instance:T})||f)}}}},update:tV(function(){return new Promise(function(O){T.forceUpdate(),O(f)})}),destroy:function(){k(),g=!0}};if(!Rw(l,u))return T;T.setOptions(h).then(function(O){!g&&h.onFirstUpdate&&h.onFirstUpdate(O)});function P(){f.orderedModifiers.forEach(function(O){var S=O.name,w=O.options,C=w===void 0?{}:w,V=O.effect;if(typeof V=="function"){var $=V({state:f,name:S,instance:T,options:C}),b=function(){};m.push($||b)}})}function k(){m.forEach(function(O){return O()}),m=[]}return T}}var rV=zd(),iV=[fv,vv,dv,uv],sV=zd({defaultModifiers:iV}),oV=[fv,vv,dv,uv,tA,ZS,nA,YS,eA],aV=zd({defaultModifiers:oV});const lV=Object.freeze(Object.defineProperty({__proto__:null,afterMain:jS,afterRead:VS,afterWrite:zS,applyStyles:uv,arrow:YS,auto:$d,basePlacements:Ga,beforeMain:FS,beforeRead:LS,beforeWrite:$S,bottom:jn,clippingParents:NS,computeStyles:dv,createPopper:aV,createPopperBase:rV,createPopperLite:sV,detectOverflow:Ma,end:xa,eventListeners:fv,flip:ZS,hide:eA,left:hn,main:US,modifierPhases:HS,offset:tA,placements:av,popper:$o,popperGenerator:zd,popperOffsets:vv,preventOverflow:nA,read:MS,reference:OS,right:$n,start:mo,top:cn,variationPlacements:um,viewport:ov,write:BS},Symbol.toStringTag,{value:"Module"})),uV=SA(lV);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(uV)})(IA,function(n){function r(N){const c=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(N){for(const v in N)if(v!=="default"){const x=Object.getOwnPropertyDescriptor(N,v);Object.defineProperty(c,v,x.get?x:{enumerable:!0,get:()=>N[v]})}}return c.default=N,Object.freeze(c)}const i=r(n),s=new Map,o={set(N,c,v){s.has(N)||s.set(N,new Map);const x=s.get(N);x.has(c)||x.size===0?x.set(c,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(x.keys())[0]}.`)},get:(N,c)=>s.has(N)&&s.get(N).get(c)||null,remove(N,c){if(!s.has(N))return;const v=s.get(N);v.delete(c),v.size===0&&s.delete(N)}},l="transitionend",u=N=>(N&&window.CSS&&window.CSS.escape&&(N=N.replace(/#([^\s"#']+)/g,(c,v)=>`#${CSS.escape(v)}`)),N),h=N=>{N.dispatchEvent(new Event(l))},f=N=>!(!N||typeof N!="object")&&(N.jquery!==void 0&&(N=N[0]),N.nodeType!==void 0),m=N=>f(N)?N.jquery?N[0]:N:typeof N=="string"&&N.length>0?document.querySelector(u(N)):null,g=N=>{if(!f(N)||N.getClientRects().length===0)return!1;const c=getComputedStyle(N).getPropertyValue("visibility")==="visible",v=N.closest("details:not([open])");if(!v)return c;if(v!==N){const x=N.closest("summary");if(x&&x.parentNode!==v||x===null)return!1}return c},T=N=>!N||N.nodeType!==Node.ELEMENT_NODE||!!N.classList.contains("disabled")||(N.disabled!==void 0?N.disabled:N.hasAttribute("disabled")&&N.getAttribute("disabled")!=="false"),P=N=>{if(!document.documentElement.attachShadow)return null;if(typeof N.getRootNode=="function"){const c=N.getRootNode();return c instanceof ShadowRoot?c:null}return N instanceof ShadowRoot?N:N.parentNode?P(N.parentNode):null},k=()=>{},O=N=>{N.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,w=[],C=()=>document.documentElement.dir==="rtl",V=N=>{var c;c=()=>{const v=S();if(v){const x=N.NAME,W=v.fn[x];v.fn[x]=N.jQueryInterface,v.fn[x].Constructor=N,v.fn[x].noConflict=()=>(v.fn[x]=W,N.jQueryInterface)}},document.readyState==="loading"?(w.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of w)v()}),w.push(c)):c()},$=(N,c=[],v=N)=>typeof N=="function"?N(...c):v,b=(N,c,v=!0)=>{if(!v)return void $(N);const x=(oe=>{if(!oe)return 0;let{transitionDuration:De,transitionDelay:lt}=window.getComputedStyle(oe);const wn=Number.parseFloat(De),Nn=Number.parseFloat(lt);return wn||Nn?(De=De.split(",")[0],lt=lt.split(",")[0],1e3*(Number.parseFloat(De)+Number.parseFloat(lt))):0})(c)+5;let W=!1;const ee=({target:oe})=>{oe===c&&(W=!0,c.removeEventListener(l,ee),$(N))};c.addEventListener(l,ee),setTimeout(()=>{W||h(c)},x)},I=(N,c,v,x)=>{const W=N.length;let ee=N.indexOf(c);return ee===-1?!v&&x?N[W-1]:N[0]:(ee+=v?1:-1,x&&(ee=(ee+W)%W),N[Math.max(0,Math.min(ee,W-1))])},y=/[^.]*(?=\..*)\.|.*/,E=/\..*/,A=/::\d+$/,D={};let M=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},ve=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function qe(N,c){return c&&`${c}::${M++}`||N.uidEvent||M++}function Ke(N){const c=qe(N);return N.uidEvent=c,D[c]=D[c]||{},D[c]}function _e(N,c,v=null){return Object.values(N).find(x=>x.callable===c&&x.delegationSelector===v)}function Z(N,c,v){const x=typeof c=="string",W=x?v:c||v;let ee=Te(N);return ve.has(ee)||(ee=N),[x,W,ee]}function ae(N,c,v,x,W){if(typeof c!="string"||!N)return;let[ee,oe,De]=Z(c,v,x);c in R&&(oe=(Fs=>function(gr){if(!gr.relatedTarget||gr.relatedTarget!==gr.delegateTarget&&!gr.delegateTarget.contains(gr.relatedTarget))return Fs.call(this,gr)})(oe));const lt=Ke(N),wn=lt[De]||(lt[De]={}),Nn=_e(wn,oe,ee?v:null);if(Nn)return void(Nn.oneOff=Nn.oneOff&&W);const mr=qe(oe,c.replace(y,"")),ri=ee?function(ii,Fs,gr){return function ul(gc){const EA=ii.querySelectorAll(Fs);for(let{target:Us}=gc;Us&&Us!==this;Us=Us.parentNode)for(const TA of EA)if(TA===Us)return je(gc,{delegateTarget:Us}),ul.oneOff&&z.off(ii,gc.type,Fs,gr),gr.apply(Us,[gc])}}(N,v,oe):function(ii,Fs){return function gr(ul){return je(ul,{delegateTarget:ii}),gr.oneOff&&z.off(ii,ul.type,Fs),Fs.apply(ii,[ul])}}(N,oe);ri.delegationSelector=ee?v:null,ri.callable=oe,ri.oneOff=W,ri.uidEvent=mr,wn[mr]=ri,N.addEventListener(De,ri,ee)}function he(N,c,v,x,W){const ee=_e(c[v],x,W);ee&&(N.removeEventListener(v,ee,!!W),delete c[v][ee.uidEvent])}function Ce(N,c,v,x){const W=c[v]||{};for(const[ee,oe]of Object.entries(W))ee.includes(x)&&he(N,c,v,oe.callable,oe.delegationSelector)}function Te(N){return N=N.replace(E,""),R[N]||N}const z={on(N,c,v,x){ae(N,c,v,x,!1)},one(N,c,v,x){ae(N,c,v,x,!0)},off(N,c,v,x){if(typeof c!="string"||!N)return;const[W,ee,oe]=Z(c,v,x),De=oe!==c,lt=Ke(N),wn=lt[oe]||{},Nn=c.startsWith(".");if(ee===void 0){if(Nn)for(const mr of Object.keys(lt))Ce(N,lt,mr,c.slice(1));for(const[mr,ri]of Object.entries(wn)){const ii=mr.replace(A,"");De&&!c.includes(ii)||he(N,lt,oe,ri.callable,ri.delegationSelector)}}else{if(!Object.keys(wn).length)return;he(N,lt,oe,ee,W?v:null)}},trigger(N,c,v){if(typeof c!="string"||!N)return null;const x=S();let W=null,ee=!0,oe=!0,De=!1;c!==Te(c)&&x&&(W=x.Event(c,v),x(N).trigger(W),ee=!W.isPropagationStopped(),oe=!W.isImmediatePropagationStopped(),De=W.isDefaultPrevented());const lt=je(new Event(c,{bubbles:ee,cancelable:!0}),v);return De&&lt.preventDefault(),oe&&N.dispatchEvent(lt),lt.defaultPrevented&&W&&W.preventDefault(),lt}};function je(N,c={}){for(const[v,x]of Object.entries(c))try{N[v]=x}catch{Object.defineProperty(N,v,{configurable:!0,get:()=>x})}return N}function Be(N){if(N==="true")return!0;if(N==="false")return!1;if(N===Number(N).toString())return Number(N);if(N===""||N==="null")return null;if(typeof N!="string")return N;try{return JSON.parse(decodeURIComponent(N))}catch{return N}}function Ge(N){return N.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Qe={setDataAttribute(N,c,v){N.setAttribute(`data-bs-${Ge(c)}`,v)},removeDataAttribute(N,c){N.removeAttribute(`data-bs-${Ge(c)}`)},getDataAttributes(N){if(!N)return{};const c={},v=Object.keys(N.dataset).filter(x=>x.startsWith("bs")&&!x.startsWith("bsConfig"));for(const x of v){let W=x.replace(/^bs/,"");W=W.charAt(0).toLowerCase()+W.slice(1,W.length),c[W]=Be(N.dataset[x])}return c},getDataAttribute:(N,c)=>Be(N.getAttribute(`data-bs-${Ge(c)}`))};class St{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,v){const x=f(v)?Qe.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof x=="object"?x:{},...f(v)?Qe.getDataAttributes(v):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,v=this.constructor.DefaultType){for(const[W,ee]of Object.entries(v)){const oe=c[W],De=f(oe)?"element":(x=oe)==null?`${x}`:Object.prototype.toString.call(x).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ee).test(De))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${W}" provided type "${De}" but expected type "${ee}".`)}var x}}class At extends St{constructor(c,v){super(),(c=m(c))&&(this._element=c,this._config=this._getConfig(v),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),z.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,v,x=!0){b(c,v,x)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return o.get(m(c),this.DATA_KEY)}static getOrCreateInstance(c,v={}){return this.getInstance(c)||new this(c,typeof v=="object"?v:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const Wn=N=>{let c=N.getAttribute("data-bs-target");if(!c||c==="#"){let v=N.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),c=v&&v!=="#"?v.trim():null}return c?c.split(",").map(v=>u(v)).join(","):null},se={find:(N,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,N)),findOne:(N,c=document.documentElement)=>Element.prototype.querySelector.call(c,N),children:(N,c)=>[].concat(...N.children).filter(v=>v.matches(c)),parents(N,c){const v=[];let x=N.parentNode.closest(c);for(;x;)v.push(x),x=x.parentNode.closest(c);return v},prev(N,c){let v=N.previousElementSibling;for(;v;){if(v.matches(c))return[v];v=v.previousElementSibling}return[]},next(N,c){let v=N.nextElementSibling;for(;v;){if(v.matches(c))return[v];v=v.nextElementSibling}return[]},focusableChildren(N){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(c,N).filter(v=>!T(v)&&g(v))},getSelectorFromElement(N){const c=Wn(N);return c&&se.findOne(c)?c:null},getElementFromSelector(N){const c=Wn(N);return c?se.findOne(c):null},getMultipleElementsFromSelector(N){const c=Wn(N);return c?se.find(c):[]}},Xe=(N,c="hide")=>{const v=`click.dismiss${N.EVENT_KEY}`,x=N.NAME;z.on(document,v,`[data-bs-dismiss="${x}"]`,function(W){if(["A","AREA"].includes(this.tagName)&&W.preventDefault(),T(this))return;const ee=se.getElementFromSelector(this)||this.closest(`.${x}`);N.getOrCreateInstance(ee)[c]()})},qt=".bs.alert",Rr=`close${qt}`,Xr=`closed${qt}`;class Ct extends At{static get NAME(){return"alert"}close(){if(z.trigger(this._element,Rr).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),z.trigger(this._element,Xr),this.dispose()}static jQueryInterface(c){return this.each(function(){const v=Ct.getOrCreateInstance(this);if(typeof c=="string"){if(v[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);v[c](this)}})}}Xe(Ct,"close"),V(Ct);const Pr='[data-bs-toggle="button"]';class or extends At{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const v=or.getOrCreateInstance(this);c==="toggle"&&v[c]()})}}z.on(document,"click.bs.button.data-api",Pr,N=>{N.preventDefault();const c=N.target.closest(Pr);or.getOrCreateInstance(c).toggle()}),V(or);const pn=".bs.swipe",mn=`touchstart${pn}`,qn=`touchmove${pn}`,Jr=`touchend${pn}`,ki=`pointerdown${pn}`,tn=`pointerup${pn}`,gn={endCallback:null,leftCallback:null,rightCallback:null},ar={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class We extends St{constructor(c,v){super(),this._element=c,c&&We.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return gn}static get DefaultType(){return ar}static get NAME(){return"swipe"}dispose(){z.off(this._element,pn)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const v=c/this._deltaX;this._deltaX=0,v&&$(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(z.on(this._element,ki,c=>this._start(c)),z.on(this._element,tn,c=>this._end(c)),this._element.classList.add("pointer-event")):(z.on(this._element,mn,c=>this._start(c)),z.on(this._element,qn,c=>this._move(c)),z.on(this._element,Jr,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Re=".bs.carousel",Vt=".data-api",lr="next",vn="prev",kr="left",Rt="right",Ps=`slide${Re}`,Zr=`slid${Re}`,bi=`keydown${Re}`,Qa=`mouseenter${Re}`,To=`mouseleave${Re}`,br=`dragstart${Re}`,ks=`load${Re}${Vt}`,Di=`click${Re}${Vt}`,Pn="carousel",Kn="active",xi=".active",kn=".carousel-item",Io=xi+kn,ei={ArrowLeft:Rt,ArrowRight:kr},Ni={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Gn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ur extends At{constructor(c,v){super(c,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=se.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Pn&&this.cycle()}static get Default(){return Ni}static get DefaultType(){return Gn}static get NAME(){return"carousel"}next(){this._slide(lr)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(vn)}pause(){this._isSliding&&h(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?z.one(this._element,Zr,()=>this.cycle()):this.cycle())}to(c){const v=this._getItems();if(c>v.length-1||c<0)return;if(this._isSliding)return void z.one(this._element,Zr,()=>this.to(c));const x=this._getItemIndex(this._getActive());if(x===c)return;const W=c>x?lr:vn;this._slide(W,v[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&z.on(this._element,bi,c=>this._keydown(c)),this._config.pause==="hover"&&(z.on(this._element,Qa,()=>this.pause()),z.on(this._element,To,()=>this._maybeEnableCycle())),this._config.touch&&We.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of se.find(".carousel-item img",this._element))z.on(v,br,x=>x.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder(kr)),rightCallback:()=>this._slide(this._directionToOrder(Rt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new We(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const v=ei[c.key];v&&(c.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const v=se.findOne(xi,this._indicatorsElement);v.classList.remove(Kn),v.removeAttribute("aria-current");const x=se.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);x&&(x.classList.add(Kn),x.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const v=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(c,v=null){if(this._isSliding)return;const x=this._getActive(),W=c===lr,ee=v||I(this._getItems(),x,W,this._config.wrap);if(ee===x)return;const oe=this._getItemIndex(ee),De=mr=>z.trigger(this._element,mr,{relatedTarget:ee,direction:this._orderToDirection(c),from:this._getItemIndex(x),to:oe});if(De(Ps).defaultPrevented||!x||!ee)return;const lt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(oe),this._activeElement=ee;const wn=W?"carousel-item-start":"carousel-item-end",Nn=W?"carousel-item-next":"carousel-item-prev";ee.classList.add(Nn),O(ee),x.classList.add(wn),ee.classList.add(wn),this._queueCallback(()=>{ee.classList.remove(wn,Nn),ee.classList.add(Kn),x.classList.remove(Kn,Nn,wn),this._isSliding=!1,De(Zr)},x,this._isAnimated()),lt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return se.findOne(Io,this._element)}_getItems(){return se.find(kn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return C()?c===kr?vn:lr:c===kr?lr:vn}_orderToDirection(c){return C()?c===vn?kr:Rt:c===vn?Rt:kr}static jQueryInterface(c){return this.each(function(){const v=ur.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(v[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);v[c]()}}else v.to(c)})}}z.on(document,Di,"[data-bs-slide], [data-bs-slide-to]",function(N){const c=se.getElementFromSelector(this);if(!c||!c.classList.contains(Pn))return;N.preventDefault();const v=ur.getOrCreateInstance(c),x=this.getAttribute("data-bs-slide-to");return x?(v.to(x),void v._maybeEnableCycle()):Qe.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),z.on(window,ks,()=>{const N=se.find('[data-bs-ride="carousel"]');for(const c of N)ur.getOrCreateInstance(c)}),V(ur);const at=".bs.collapse",L=`show${at}`,F=`shown${at}`,j=`hide${at}`,H=`hidden${at}`,te=`click${at}.data-api`,ne="show",de="collapse",J="collapsing",me=`:scope .${de} .${de}`,ue='[data-bs-toggle="collapse"]',ce={parent:null,toggle:!0},be={parent:"(null|element)",toggle:"boolean"};class we extends At{constructor(c,v){super(c,v),this._isTransitioning=!1,this._triggerArray=[];const x=se.find(ue);for(const W of x){const ee=se.getSelectorFromElement(W),oe=se.find(ee).filter(De=>De===this._element);ee!==null&&oe.length&&this._triggerArray.push(W)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ce}static get DefaultType(){return be}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>we.getOrCreateInstance(W,{toggle:!1}))),c.length&&c[0]._isTransitioning||z.trigger(this._element,L).defaultPrevented)return;for(const W of c)W.hide();const v=this._getDimension();this._element.classList.remove(de),this._element.classList.add(J),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const x=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(J),this._element.classList.add(de,ne),this._element.style[v]="",z.trigger(this._element,F)},this._element,!0),this._element.style[v]=`${this._element[x]}px`}hide(){if(this._isTransitioning||!this._isShown()||z.trigger(this._element,j).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,O(this._element),this._element.classList.add(J),this._element.classList.remove(de,ne);for(const v of this._triggerArray){const x=se.getElementFromSelector(v);x&&!this._isShown(x)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(J),this._element.classList.add(de),z.trigger(this._element,H)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(ne)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=m(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(ue);for(const v of c){const x=se.getElementFromSelector(v);x&&this._addAriaAndCollapsedClass([v],this._isShown(x))}}_getFirstLevelChildren(c){const v=se.find(me,this._config.parent);return se.find(c,this._config.parent).filter(x=>!v.includes(x))}_addAriaAndCollapsedClass(c,v){if(c.length)for(const x of c)x.classList.toggle("collapsed",!v),x.setAttribute("aria-expanded",v)}static jQueryInterface(c){const v={};return typeof c=="string"&&/show|hide/.test(c)&&(v.toggle=!1),this.each(function(){const x=we.getOrCreateInstance(this,v);if(typeof c=="string"){if(x[c]===void 0)throw new TypeError(`No method named "${c}"`);x[c]()}})}}z.on(document,te,ue,function(N){(N.target.tagName==="A"||N.delegateTarget&&N.delegateTarget.tagName==="A")&&N.preventDefault();for(const c of se.getMultipleElementsFromSelector(this))we.getOrCreateInstance(c,{toggle:!1}).toggle()}),V(we);const Le="dropdown",Se=".bs.dropdown",nt=".data-api",Je="ArrowUp",cr="ArrowDown",bn=`hide${Se}`,Dr=`hidden${Se}`,Dn=`show${Se}`,hr=`shown${Se}`,Ft=`click${Se}${nt}`,xn=`keydown${Se}${nt}`,yn=`keyup${Se}${nt}`,nn="show",pe='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ye=`${pe}.${nn}`,mt=".dropdown-menu",ze=C()?"top-end":"top-start",rn=C()?"top-start":"top-end",Oi=C()?"bottom-end":"bottom-start",So=C()?"bottom-start":"bottom-end",qu=C()?"left-start":"right-start",Hd=C()?"right-start":"left-start",Wd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ku={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _n extends At{constructor(c,v){super(c,v),this._popper=null,this._parent=this._element.parentNode,this._menu=se.next(this._element,mt)[0]||se.prev(this._element,mt)[0]||se.findOne(mt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Wd}static get DefaultType(){return Ku}static get NAME(){return Le}toggle(){return this._isShown()?this.hide():this.show()}show(){if(T(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!z.trigger(this._element,Dn,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))z.on(v,"mouseover",k);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(nn),this._element.classList.add(nn),z.trigger(this._element,hr,c)}}hide(){if(T(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!z.trigger(this._element,bn,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))z.off(v,"mouseover",k);this._popper&&this._popper.destroy(),this._menu.classList.remove(nn),this._element.classList.remove(nn),this._element.setAttribute("aria-expanded","false"),Qe.removeDataAttribute(this._menu,"popper"),z.trigger(this._element,Dr,c)}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!f(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${Le.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(i===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:f(this._config.reference)?c=m(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const v=this._getPopperConfig();this._popper=i.createPopper(c,this._menu,v)}_isShown(){return this._menu.classList.contains(nn)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return qu;if(c.classList.contains("dropstart"))return Hd;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?v?rn:ze:v?So:Oi}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(v=>Number.parseInt(v,10)):typeof c=="function"?v=>c(v,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Qe.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...$(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:v}){const x=se.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(W=>g(W));x.length&&I(x,v,c===cr,!x.includes(v)).focus()}static jQueryInterface(c){return this.each(function(){const v=_n.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0)throw new TypeError(`No method named "${c}"`);v[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const v=se.find(Ye);for(const x of v){const W=_n.getInstance(x);if(!W||W._config.autoClose===!1)continue;const ee=c.composedPath(),oe=ee.includes(W._menu);if(ee.includes(W._element)||W._config.autoClose==="inside"&&!oe||W._config.autoClose==="outside"&&oe||W._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const De={relatedTarget:W._element};c.type==="click"&&(De.clickEvent=c),W._completeHide(De)}}static dataApiKeydownHandler(c){const v=/input|textarea/i.test(c.target.tagName),x=c.key==="Escape",W=[Je,cr].includes(c.key);if(!W&&!x||v&&!x)return;c.preventDefault();const ee=this.matches(pe)?this:se.prev(this,pe)[0]||se.next(this,pe)[0]||se.findOne(pe,c.delegateTarget.parentNode),oe=_n.getOrCreateInstance(ee);if(W)return c.stopPropagation(),oe.show(),void oe._selectMenuItem(c);oe._isShown()&&(c.stopPropagation(),oe.hide(),ee.focus())}}z.on(document,xn,pe,_n.dataApiKeydownHandler),z.on(document,xn,mt,_n.dataApiKeydownHandler),z.on(document,Ft,_n.clearMenus),z.on(document,yn,_n.clearMenus),z.on(document,Ft,pe,function(N){N.preventDefault(),_n.getOrCreateInstance(this).toggle()}),V(_n);const Gu="backdrop",xr="show",Qn=`mousedown.bs.${Gu}`,Ao={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Co={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ya extends St{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return Ao}static get DefaultType(){return Co}static get NAME(){return Gu}show(c){if(!this._config.isVisible)return void $(c);this._append();const v=this._getElement();this._config.isAnimated&&O(v),v.classList.add(xr),this._emulateAnimation(()=>{$(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(xr),this._emulateAnimation(()=>{this.dispose(),$(c)})):$(c)}dispose(){this._isAppended&&(z.off(this._element,Qn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=m(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),z.on(c,Qn,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){b(c,this._getElement(),this._config.isAnimated)}}const $e=".bs.focustrap",Ro=`focusin${$e}`,bs=`keydown.tab${$e}`,Li="backward",qd={autofocus:!0,trapElement:null},Qu={autofocus:"boolean",trapElement:"element"};class Yu extends St{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return qd}static get DefaultType(){return Qu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),z.off(document,$e),z.on(document,Ro,c=>this._handleFocusin(c)),z.on(document,bs,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,z.off(document,$e))}_handleFocusin(c){const{trapElement:v}=this._config;if(c.target===document||c.target===v||v.contains(c.target))return;const x=se.focusableChildren(v);x.length===0?v.focus():this._lastTabNavDirection===Li?x[x.length-1].focus():x[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?Li:"forward")}}const Xu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ju=".sticky-top",Po="padding-right",Mi="margin-right";class Yn{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Po,v=>v+c),this._setElementAttributes(Xu,Po,v=>v+c),this._setElementAttributes(Ju,Mi,v=>v-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Po),this._resetElementAttributes(Xu,Po),this._resetElementAttributes(Ju,Mi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,v,x){const W=this.getWidth();this._applyManipulationCallback(c,ee=>{if(ee!==this._element&&window.innerWidth>ee.clientWidth+W)return;this._saveInitialAttribute(ee,v);const oe=window.getComputedStyle(ee).getPropertyValue(v);ee.style.setProperty(v,`${x(Number.parseFloat(oe))}px`)})}_saveInitialAttribute(c,v){const x=c.style.getPropertyValue(v);x&&Qe.setDataAttribute(c,v,x)}_resetElementAttributes(c,v){this._applyManipulationCallback(c,x=>{const W=Qe.getDataAttribute(x,v);W!==null?(Qe.removeDataAttribute(x,v),x.style.setProperty(v,W)):x.style.removeProperty(v)})}_applyManipulationCallback(c,v){if(f(c))v(c);else for(const x of se.find(c,this._element))v(x)}}const sn=".bs.modal",Zu=`hide${sn}`,ec=`hidePrevented${sn}`,ti=`hidden${sn}`,tc=`show${sn}`,Kd=`shown${sn}`,Gd=`resize${sn}`,Nr=`click.dismiss${sn}`,Qd=`mousedown.dismiss${sn}`,Yd=`keydown.dismiss${sn}`,Ds=`click${sn}.data-api`,xs="modal-open",Xa="show",ni="modal-static",Ns={backdrop:!0,focus:!0,keyboard:!0},nc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class dr extends At{constructor(c,v){super(c,v),this._dialog=se.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Yn,this._addEventListeners()}static get Default(){return Ns}static get DefaultType(){return nc}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||z.trigger(this._element,tc,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xs),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(z.trigger(this._element,Zu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Xa),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){z.off(window,sn),z.off(this._dialog,sn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ya({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Yu({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=se.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),O(this._element),this._element.classList.add(Xa),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,z.trigger(this._element,Kd,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){z.on(this._element,Yd,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),z.on(window,Gd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),z.on(this._element,Qd,c=>{z.one(this._element,Nr,v=>{this._element===c.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xs),this._resetAdjustments(),this._scrollBar.reset(),z.trigger(this._element,ti)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(z.trigger(this._element,ec).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(ni)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(ni),this._queueCallback(()=>{this._element.classList.remove(ni),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),x=v>0;if(x&&!c){const W=C()?"paddingLeft":"paddingRight";this._element.style[W]=`${v}px`}if(!x&&c){const W=C()?"paddingRight":"paddingLeft";this._element.style[W]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,v){return this.each(function(){const x=dr.getOrCreateInstance(this,c);if(typeof c=="string"){if(x[c]===void 0)throw new TypeError(`No method named "${c}"`);x[c](v)}})}}z.on(document,Ds,'[data-bs-toggle="modal"]',function(N){const c=se.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&N.preventDefault(),z.one(c,tc,x=>{x.defaultPrevented||z.one(c,ti,()=>{g(this)&&this.focus()})});const v=se.findOne(".modal.show");v&&dr.getInstance(v).hide(),dr.getOrCreateInstance(c).toggle(this)}),Xe(dr),V(dr);const Ve=".bs.offcanvas",rc=".data-api",Xd=`load${Ve}${rc}`,Ja="show",Za="showing",el="hiding",Os=".offcanvas.show",ic=`show${Ve}`,fr=`shown${Ve}`,sc=`hide${Ve}`,oc=`hidePrevented${Ve}`,Vi=`hidden${Ve}`,ac=`resize${Ve}`,tl=`click${Ve}${rc}`,ko=`keydown.dismiss${Ve}`,lc={backdrop:!0,keyboard:!0,scroll:!1},bo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pr extends At{constructor(c,v){super(c,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lc}static get DefaultType(){return bo}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||z.trigger(this._element,ic,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Yn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Za),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ja),this._element.classList.remove(Za),z.trigger(this._element,fr,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(z.trigger(this._element,sc).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(el),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ja,el),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Yn().reset(),z.trigger(this._element,Vi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Ya({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():z.trigger(this._element,oc)}:null})}_initializeFocusTrap(){return new Yu({trapElement:this._element})}_addEventListeners(){z.on(this._element,ko,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():z.trigger(this._element,oc))})}static jQueryInterface(c){return this.each(function(){const v=pr.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);v[c](this)}})}}z.on(document,tl,'[data-bs-toggle="offcanvas"]',function(N){const c=se.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),T(this))return;z.one(c,Vi,()=>{g(this)&&this.focus()});const v=se.findOne(Os);v&&v!==c&&pr.getInstance(v).hide(),pr.getOrCreateInstance(c).toggle(this)}),z.on(window,Xd,()=>{for(const N of se.find(Os))pr.getOrCreateInstance(N).show()}),z.on(window,ac,()=>{for(const N of se.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(N).position!=="fixed"&&pr.getOrCreateInstance(N).hide()}),Xe(pr),V(pr);const nl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ls=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),uc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,cc=(N,c)=>{const v=N.nodeName.toLowerCase();return c.includes(v)?!Ls.has(v)||!!uc.test(N.nodeValue):c.filter(x=>x instanceof RegExp).some(x=>x.test(v))},rl={allowList:nl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},il={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hc={entry:"(string|element|function|null)",selector:"(string|element)"};class Do extends St{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return rl}static get DefaultType(){return il}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[W,ee]of Object.entries(this._config.content))this._setContent(c,ee,W);const v=c.children[0],x=this._resolvePossibleFunction(this._config.extraClass);return x&&v.classList.add(...x.split(" ")),v}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[v,x]of Object.entries(c))super._typeCheckConfig({selector:v,entry:x},hc)}_setContent(c,v,x){const W=se.findOne(x,c);W&&((v=this._resolvePossibleFunction(v))?f(v)?this._putElementInTemplate(m(v),W):this._config.html?W.innerHTML=this._maybeSanitize(v):W.textContent=v:W.remove())}_maybeSanitize(c){return this._config.sanitize?function(v,x,W){if(!v.length)return v;if(W&&typeof W=="function")return W(v);const ee=new window.DOMParser().parseFromString(v,"text/html"),oe=[].concat(...ee.body.querySelectorAll("*"));for(const De of oe){const lt=De.nodeName.toLowerCase();if(!Object.keys(x).includes(lt)){De.remove();continue}const wn=[].concat(...De.attributes),Nn=[].concat(x["*"]||[],x[lt]||[]);for(const mr of wn)cc(mr,Nn)||De.removeAttribute(mr.nodeName)}return ee.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return $(c,[this])}_putElementInTemplate(c,v){if(this._config.html)return v.innerHTML="",void v.append(c);v.textContent=c.textContent}}const dc=new Set(["sanitize","allowList","sanitizeFn"]),xo="fade",Xn="show",sl=".modal",ol="hide.bs.modal",Fi="hover",No="focus",Oo={AUTO:"auto",TOP:"top",RIGHT:C()?"left":"right",BOTTOM:"bottom",LEFT:C()?"right":"left"},on={allowList:nl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Or extends At{constructor(c,v){if(i===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return on}static get DefaultType(){return fc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),z.off(this._element.closest(sl),ol,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=z.trigger(this._element,this.constructor.eventName("show")),v=(P(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!v)return;this._disposePopper();const x=this._getTipElement();this._element.setAttribute("aria-describedby",x.getAttribute("id"));const{container:W}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(W.append(x),z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(x),x.classList.add(Xn),"ontouchstart"in document.documentElement)for(const ee of[].concat(...document.body.children))z.on(ee,"mouseover",k);this._queueCallback(()=>{z.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Xn),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))z.off(c,"mouseover",k);this._activeTrigger.click=!1,this._activeTrigger[No]=!1,this._activeTrigger[Fi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const v=this._getTemplateFactory(c).toHtml();if(!v)return null;v.classList.remove(xo,Xn),v.classList.add(`bs-${this.constructor.NAME}-auto`);const x=(W=>{do W+=Math.floor(1e6*Math.random());while(document.getElementById(W));return W})(this.constructor.NAME).toString();return v.setAttribute("id",x),this._isAnimated()&&v.classList.add(xo),v}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new Do({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xo)}_isShown(){return this.tip&&this.tip.classList.contains(Xn)}_createPopper(c){const v=$(this._config.placement,[this,c,this._element]),x=Oo[v.toUpperCase()];return i.createPopper(this._element,c,this._getPopperConfig(x))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(v=>Number.parseInt(v,10)):typeof c=="function"?v=>c(v,this._element):c}_resolvePossibleFunction(c){return $(c,[this._element])}_getPopperConfig(c){const v={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:x=>{this._getTipElement().setAttribute("data-popper-placement",x.state.placement)}}]};return{...v,...$(this._config.popperConfig,[v])}}_setListeners(){const c=this._config.trigger.split(" ");for(const v of c)if(v==="click")z.on(this._element,this.constructor.eventName("click"),this._config.selector,x=>{this._initializeOnDelegatedTarget(x).toggle()});else if(v!=="manual"){const x=v===Fi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),W=v===Fi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");z.on(this._element,x,this._config.selector,ee=>{const oe=this._initializeOnDelegatedTarget(ee);oe._activeTrigger[ee.type==="focusin"?No:Fi]=!0,oe._enter()}),z.on(this._element,W,this._config.selector,ee=>{const oe=this._initializeOnDelegatedTarget(ee);oe._activeTrigger[ee.type==="focusout"?No:Fi]=oe._element.contains(ee.relatedTarget),oe._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},z.on(this._element.closest(sl),ol,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,v){clearTimeout(this._timeout),this._timeout=setTimeout(c,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const v=Qe.getDataAttributes(this._element);for(const x of Object.keys(v))dc.has(x)&&delete v[x];return c={...v,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:m(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[v,x]of Object.entries(this._config))this.constructor.Default[v]!==x&&(c[v]=x);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const v=Or.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0)throw new TypeError(`No method named "${c}"`);v[c]()}})}}V(Or);const Ui={...Or.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},a={...Or.DefaultType,content:"(null|string|element|function)"};class d extends Or{static get Default(){return Ui}static get DefaultType(){return a}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const v=d.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0)throw new TypeError(`No method named "${c}"`);v[c]()}})}}V(d);const p=".bs.scrollspy",_=`activate${p}`,U=`click${p}`,B=`load${p}.data-api`,X="active",Fe="[href]",yt=".nav-link",Ne=`${yt}, .nav-item > ${yt}, .list-group-item`,xt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Nt={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Jn extends At{constructor(c,v){super(c,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return xt}static get DefaultType(){return Nt}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=m(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(v=>Number.parseFloat(v))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(z.off(this._config.target,U),z.on(this._config.target,U,Fe,c=>{const v=this._observableSections.get(c.target.hash);if(v){c.preventDefault();const x=this._rootElement||window,W=v.offsetTop-this._element.offsetTop;if(x.scrollTo)return void x.scrollTo({top:W,behavior:"smooth"});x.scrollTop=W}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),c)}_observerCallback(c){const v=oe=>this._targetLinks.get(`#${oe.target.id}`),x=oe=>{this._previousScrollData.visibleEntryTop=oe.target.offsetTop,this._process(v(oe))},W=(this._rootElement||document.documentElement).scrollTop,ee=W>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=W;for(const oe of c){if(!oe.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(oe));continue}const De=oe.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ee&&De){if(x(oe),!W)return}else ee||De||x(oe)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=se.find(Fe,this._config.target);for(const v of c){if(!v.hash||T(v))continue;const x=se.findOne(decodeURI(v.hash),this._element);g(x)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,x))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(X),this._activateParents(c),z.trigger(this._element,_,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))se.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(X);else for(const v of se.parents(c,".nav, .list-group"))for(const x of se.prev(v,Ne))x.classList.add(X)}_clearActiveClass(c){c.classList.remove(X);const v=se.find(`${Fe}.${X}`,c);for(const x of v)x.classList.remove(X)}static jQueryInterface(c){return this.each(function(){const v=Jn.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);v[c]()}})}}z.on(window,B,()=>{for(const N of se.find('[data-bs-spy="scroll"]'))Jn.getOrCreateInstance(N)}),V(Jn);const Pt=".bs.tab",Lo=`hide${Pt}`,al=`hidden${Pt}`,rA=`show${Pt}`,iA=`shown${Pt}`,sA=`click${Pt}`,oA=`keydown${Pt}`,aA=`load${Pt}`,lA="ArrowLeft",yv="ArrowRight",uA="ArrowUp",_v="ArrowDown",Jd="Home",wv="End",Ms="active",Ev="fade",Zd="show",Tv=".dropdown-toggle",ef=`:not(${Tv})`,Iv='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',tf=`.nav-link${ef}, .list-group-item${ef}, [role="tab"]${ef}, ${Iv}`,cA=`.${Ms}[data-bs-toggle="tab"], .${Ms}[data-bs-toggle="pill"], .${Ms}[data-bs-toggle="list"]`;class Vs extends At{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),z.on(this._element,oA,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const v=this._getActiveElem(),x=v?z.trigger(v,Lo,{relatedTarget:c}):null;z.trigger(c,rA,{relatedTarget:v}).defaultPrevented||x&&x.defaultPrevented||(this._deactivate(v,c),this._activate(c,v))}_activate(c,v){c&&(c.classList.add(Ms),this._activate(se.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),z.trigger(c,iA,{relatedTarget:v})):c.classList.add(Zd)},c,c.classList.contains(Ev)))}_deactivate(c,v){c&&(c.classList.remove(Ms),c.blur(),this._deactivate(se.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),z.trigger(c,al,{relatedTarget:v})):c.classList.remove(Zd)},c,c.classList.contains(Ev)))}_keydown(c){if(![lA,yv,uA,_v,Jd,wv].includes(c.key))return;c.stopPropagation(),c.preventDefault();const v=this._getChildren().filter(W=>!T(W));let x;if([Jd,wv].includes(c.key))x=v[c.key===Jd?0:v.length-1];else{const W=[yv,_v].includes(c.key);x=I(v,c.target,W,!0)}x&&(x.focus({preventScroll:!0}),Vs.getOrCreateInstance(x).show())}_getChildren(){return se.find(tf,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,v){this._setAttributeIfNotExists(c,"role","tablist");for(const x of v)this._setInitialAttributesOnChild(x)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const v=this._elemIsActive(c),x=this._getOuterElement(c);c.setAttribute("aria-selected",v),x!==c&&this._setAttributeIfNotExists(x,"role","presentation"),v||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const v=se.getElementFromSelector(c);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,v){const x=this._getOuterElement(c);if(!x.classList.contains("dropdown"))return;const W=(ee,oe)=>{const De=se.findOne(ee,x);De&&De.classList.toggle(oe,v)};W(Tv,Ms),W(".dropdown-menu",Zd),x.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(c,v,x){c.hasAttribute(v)||c.setAttribute(v,x)}_elemIsActive(c){return c.classList.contains(Ms)}_getInnerElement(c){return c.matches(tf)?c:se.findOne(tf,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const v=Vs.getOrCreateInstance(this);if(typeof c=="string"){if(v[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);v[c]()}})}}z.on(document,sA,Iv,function(N){["A","AREA"].includes(this.tagName)&&N.preventDefault(),T(this)||Vs.getOrCreateInstance(this).show()}),z.on(window,aA,()=>{for(const N of se.find(cA))Vs.getOrCreateInstance(N)}),V(Vs);const ji=".bs.toast",hA=`mouseover${ji}`,dA=`mouseout${ji}`,fA=`focusin${ji}`,pA=`focusout${ji}`,mA=`hide${ji}`,gA=`hidden${ji}`,vA=`show${ji}`,yA=`shown${ji}`,Sv="hide",pc="show",mc="showing",_A={animation:"boolean",autohide:"boolean",delay:"number"},wA={animation:!0,autohide:!0,delay:5e3};class ll extends At{constructor(c,v){super(c,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return wA}static get DefaultType(){return _A}static get NAME(){return"toast"}show(){z.trigger(this._element,vA).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Sv),O(this._element),this._element.classList.add(pc,mc),this._queueCallback(()=>{this._element.classList.remove(mc),z.trigger(this._element,yA),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(z.trigger(this._element,mA).defaultPrevented||(this._element.classList.add(mc),this._queueCallback(()=>{this._element.classList.add(Sv),this._element.classList.remove(mc,pc),z.trigger(this._element,gA)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(pc),super.dispose()}isShown(){return this._element.classList.contains(pc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,v){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const x=c.relatedTarget;this._element===x||this._element.contains(x)||this._maybeScheduleHide()}_setListeners(){z.on(this._element,hA,c=>this._onInteraction(c,!0)),z.on(this._element,dA,c=>this._onInteraction(c,!1)),z.on(this._element,fA,c=>this._onInteraction(c,!0)),z.on(this._element,pA,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const v=ll.getOrCreateInstance(this,c);if(typeof c=="string"){if(v[c]===void 0)throw new TypeError(`No method named "${c}"`);v[c](this)}})}}return Xe(ll),V(ll),{Alert:Ct,Button:or,Carousel:ur,Collapse:we,Dropdown:_n,Modal:dr,Offcanvas:pr,Popover:d,ScrollSpy:Jn,Tab:Vs,Toast:ll,Tooltip:Or}})})(wM);Hf.createRoot(document.getElementById("root")).render(G.jsx(vm.StrictMode,{children:G.jsx(kP,{router:_M})}));
